(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };
  var __accessCheck = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet = (obj, member, getter) => {
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateMethod = (obj, member, method) => {
    __accessCheck(obj, member, "access private method");
    return method;
  };

  // node_modules/howler/dist/howler.js
  var require_howler = __commonJS({
    "node_modules/howler/dist/howler.js"(exports) {
      (function() {
        "use strict";
        var HowlerGlobal2 = function() {
          this.init();
        };
        HowlerGlobal2.prototype = {
          /**
           * Initialize the global Howler object.
           * @return {Howler}
           */
          init: function() {
            var self2 = this || Howler2;
            self2._counter = 1e3;
            self2._html5AudioPool = [];
            self2.html5PoolSize = 10;
            self2._codecs = {};
            self2._howls = [];
            self2._muted = false;
            self2._volume = 1;
            self2._canPlayEvent = "canplaythrough";
            self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
            self2.masterGain = null;
            self2.noAudio = false;
            self2.usingWebAudio = true;
            self2.autoSuspend = true;
            self2.ctx = null;
            self2.autoUnlock = true;
            self2._setup();
            return self2;
          },
          /**
           * Get/set the global volume for all sounds.
           * @param  {Float} vol Volume from 0.0 to 1.0.
           * @return {Howler/Float}     Returns self or current volume.
           */
          volume: function(vol) {
            var self2 = this || Howler2;
            vol = parseFloat(vol);
            if (!self2.ctx) {
              setupAudioContext();
            }
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              self2._volume = vol;
              if (self2._muted) {
                return self2;
              }
              if (self2.usingWebAudio) {
                self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node) {
                      sound._node.volume = sound._volume * vol;
                    }
                  }
                }
              }
              return self2;
            }
            return self2._volume;
          },
          /**
           * Handle muting and unmuting globally.
           * @param  {Boolean} muted Is muted or not.
           */
          mute: function(muted) {
            var self2 = this || Howler2;
            if (!self2.ctx) {
              setupAudioContext();
            }
            self2._muted = muted;
            if (self2.usingWebAudio) {
              self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (!self2._howls[i]._webAudio) {
                var ids = self2._howls[i]._getSoundIds();
                for (var j = 0; j < ids.length; j++) {
                  var sound = self2._howls[i]._soundById(ids[j]);
                  if (sound && sound._node) {
                    sound._node.muted = muted ? true : sound._muted;
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Handle stopping all sounds globally.
           */
          stop: function() {
            var self2 = this || Howler2;
            for (var i = 0; i < self2._howls.length; i++) {
              self2._howls[i].stop();
            }
            return self2;
          },
          /**
           * Unload and destroy all currently loaded Howl objects.
           * @return {Howler}
           */
          unload: function() {
            var self2 = this || Howler2;
            for (var i = self2._howls.length - 1; i >= 0; i--) {
              self2._howls[i].unload();
            }
            if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
              self2.ctx.close();
              self2.ctx = null;
              setupAudioContext();
            }
            return self2;
          },
          /**
           * Check for codec support of specific extension.
           * @param  {String} ext Audio file extention.
           * @return {Boolean}
           */
          codecs: function(ext) {
            return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
          },
          /**
           * Setup various state values for global tracking.
           * @return {Howler}
           */
          _setup: function() {
            var self2 = this || Howler2;
            self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
            self2._autoSuspend();
            if (!self2.usingWebAudio) {
              if (typeof Audio !== "undefined") {
                try {
                  var test = new Audio();
                  if (typeof test.oncanplaythrough === "undefined") {
                    self2._canPlayEvent = "canplay";
                  }
                } catch (e) {
                  self2.noAudio = true;
                }
              } else {
                self2.noAudio = true;
              }
            }
            try {
              var test = new Audio();
              if (test.muted) {
                self2.noAudio = true;
              }
            } catch (e) {
            }
            if (!self2.noAudio) {
              self2._setupCodecs();
            }
            return self2;
          },
          /**
           * Check for browser support for various codecs and cache the results.
           * @return {Howler}
           */
          _setupCodecs: function() {
            var self2 = this || Howler2;
            var audioTest = null;
            try {
              audioTest = typeof Audio !== "undefined" ? new Audio() : null;
            } catch (err) {
              return self2;
            }
            if (!audioTest || typeof audioTest.canPlayType !== "function") {
              return self2;
            }
            var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
            var ua = self2._navigator ? self2._navigator.userAgent : "";
            var checkOpera = ua.match(/OPR\/([0-6].)/g);
            var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
            var checkSafari = ua.indexOf("Safari") !== -1 && ua.indexOf("Chrome") === -1;
            var safariVersion = ua.match(/Version\/(.*?) /);
            var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
            self2._codecs = {
              mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
              mpeg: !!mpegTest,
              opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
              ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
              aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
              caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
              m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
              flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
            };
            return self2;
          },
          /**
           * Some browsers/devices will only allow audio to be played after a user interaction.
           * Attempt to automatically unlock audio on the first user interaction.
           * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
           * @return {Howler}
           */
          _unlockAudio: function() {
            var self2 = this || Howler2;
            if (self2._audioUnlocked || !self2.ctx) {
              return;
            }
            self2._audioUnlocked = false;
            self2.autoUnlock = false;
            if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
              self2._mobileUnloaded = true;
              self2.unload();
            }
            self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
            var unlock = function(e) {
              while (self2._html5AudioPool.length < self2.html5PoolSize) {
                try {
                  var audioNode = new Audio();
                  audioNode._unlocked = true;
                  self2._releaseHtml5Audio(audioNode);
                } catch (e2) {
                  self2.noAudio = true;
                  break;
                }
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node && !sound._node._unlocked) {
                      sound._node._unlocked = true;
                      sound._node.load();
                    }
                  }
                }
              }
              self2._autoResume();
              var source = self2.ctx.createBufferSource();
              source.buffer = self2._scratchBuffer;
              source.connect(self2.ctx.destination);
              if (typeof source.start === "undefined") {
                source.noteOn(0);
              } else {
                source.start(0);
              }
              if (typeof self2.ctx.resume === "function") {
                self2.ctx.resume();
              }
              source.onended = function() {
                source.disconnect(0);
                self2._audioUnlocked = true;
                document.removeEventListener("touchstart", unlock, true);
                document.removeEventListener("touchend", unlock, true);
                document.removeEventListener("click", unlock, true);
                document.removeEventListener("keydown", unlock, true);
                for (var i2 = 0; i2 < self2._howls.length; i2++) {
                  self2._howls[i2]._emit("unlock");
                }
              };
            };
            document.addEventListener("touchstart", unlock, true);
            document.addEventListener("touchend", unlock, true);
            document.addEventListener("click", unlock, true);
            document.addEventListener("keydown", unlock, true);
            return self2;
          },
          /**
           * Get an unlocked HTML5 Audio object from the pool. If none are left,
           * return a new Audio object and throw a warning.
           * @return {Audio} HTML5 Audio object.
           */
          _obtainHtml5Audio: function() {
            var self2 = this || Howler2;
            if (self2._html5AudioPool.length) {
              return self2._html5AudioPool.pop();
            }
            var testPlay = new Audio().play();
            if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
              testPlay.catch(function() {
                console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
              });
            }
            return new Audio();
          },
          /**
           * Return an activated HTML5 Audio object to the pool.
           * @return {Howler}
           */
          _releaseHtml5Audio: function(audio) {
            var self2 = this || Howler2;
            if (audio._unlocked) {
              self2._html5AudioPool.push(audio);
            }
            return self2;
          },
          /**
           * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
           * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
           * @return {Howler}
           */
          _autoSuspend: function() {
            var self2 = this;
            if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (self2._howls[i]._webAudio) {
                for (var j = 0; j < self2._howls[i]._sounds.length; j++) {
                  if (!self2._howls[i]._sounds[j]._paused) {
                    return self2;
                  }
                }
              }
            }
            if (self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
            }
            self2._suspendTimer = setTimeout(function() {
              if (!self2.autoSuspend) {
                return;
              }
              self2._suspendTimer = null;
              self2.state = "suspending";
              var handleSuspension = function() {
                self2.state = "suspended";
                if (self2._resumeAfterSuspend) {
                  delete self2._resumeAfterSuspend;
                  self2._autoResume();
                }
              };
              self2.ctx.suspend().then(handleSuspension, handleSuspension);
            }, 3e4);
            return self2;
          },
          /**
           * Automatically resume the Web Audio AudioContext when a new sound is played.
           * @return {Howler}
           */
          _autoResume: function() {
            var self2 = this;
            if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
              self2._suspendTimer = null;
            } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
              self2.ctx.resume().then(function() {
                self2.state = "running";
                for (var i = 0; i < self2._howls.length; i++) {
                  self2._howls[i]._emit("resume");
                }
              });
              if (self2._suspendTimer) {
                clearTimeout(self2._suspendTimer);
                self2._suspendTimer = null;
              }
            } else if (self2.state === "suspending") {
              self2._resumeAfterSuspend = true;
            }
            return self2;
          }
        };
        var Howler2 = new HowlerGlobal2();
        var Howl2 = function(o) {
          var self2 = this;
          if (!o.src || o.src.length === 0) {
            console.error("An array of source files must be passed with any new Howl.");
            return;
          }
          self2.init(o);
        };
        Howl2.prototype = {
          /**
           * Initialize a new Howl group object.
           * @param  {Object} o Passed in properties for this group.
           * @return {Howl}
           */
          init: function(o) {
            var self2 = this;
            if (!Howler2.ctx) {
              setupAudioContext();
            }
            self2._autoplay = o.autoplay || false;
            self2._format = typeof o.format !== "string" ? o.format : [o.format];
            self2._html5 = o.html5 || false;
            self2._muted = o.mute || false;
            self2._loop = o.loop || false;
            self2._pool = o.pool || 5;
            self2._preload = typeof o.preload === "boolean" || o.preload === "metadata" ? o.preload : true;
            self2._rate = o.rate || 1;
            self2._sprite = o.sprite || {};
            self2._src = typeof o.src !== "string" ? o.src : [o.src];
            self2._volume = o.volume !== void 0 ? o.volume : 1;
            self2._xhr = {
              method: o.xhr && o.xhr.method ? o.xhr.method : "GET",
              headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,
              withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false
            };
            self2._duration = 0;
            self2._state = "unloaded";
            self2._sounds = [];
            self2._endTimers = {};
            self2._queue = [];
            self2._playLock = false;
            self2._onend = o.onend ? [{ fn: o.onend }] : [];
            self2._onfade = o.onfade ? [{ fn: o.onfade }] : [];
            self2._onload = o.onload ? [{ fn: o.onload }] : [];
            self2._onloaderror = o.onloaderror ? [{ fn: o.onloaderror }] : [];
            self2._onplayerror = o.onplayerror ? [{ fn: o.onplayerror }] : [];
            self2._onpause = o.onpause ? [{ fn: o.onpause }] : [];
            self2._onplay = o.onplay ? [{ fn: o.onplay }] : [];
            self2._onstop = o.onstop ? [{ fn: o.onstop }] : [];
            self2._onmute = o.onmute ? [{ fn: o.onmute }] : [];
            self2._onvolume = o.onvolume ? [{ fn: o.onvolume }] : [];
            self2._onrate = o.onrate ? [{ fn: o.onrate }] : [];
            self2._onseek = o.onseek ? [{ fn: o.onseek }] : [];
            self2._onunlock = o.onunlock ? [{ fn: o.onunlock }] : [];
            self2._onresume = [];
            self2._webAudio = Howler2.usingWebAudio && !self2._html5;
            if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
              Howler2._unlockAudio();
            }
            Howler2._howls.push(self2);
            if (self2._autoplay) {
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play();
                }
              });
            }
            if (self2._preload && self2._preload !== "none") {
              self2.load();
            }
            return self2;
          },
          /**
           * Load the audio file.
           * @return {Howler}
           */
          load: function() {
            var self2 = this;
            var url = null;
            if (Howler2.noAudio) {
              self2._emit("loaderror", null, "No audio support.");
              return;
            }
            if (typeof self2._src === "string") {
              self2._src = [self2._src];
            }
            for (var i = 0; i < self2._src.length; i++) {
              var ext, str5;
              if (self2._format && self2._format[i]) {
                ext = self2._format[i];
              } else {
                str5 = self2._src[i];
                if (typeof str5 !== "string") {
                  self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                  continue;
                }
                ext = /^data:audio\/([^;,]+);/i.exec(str5);
                if (!ext) {
                  ext = /\.([^.]+)$/.exec(str5.split("?", 1)[0]);
                }
                if (ext) {
                  ext = ext[1].toLowerCase();
                }
              }
              if (!ext) {
                console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
              }
              if (ext && Howler2.codecs(ext)) {
                url = self2._src[i];
                break;
              }
            }
            if (!url) {
              self2._emit("loaderror", null, "No codec support for selected audio sources.");
              return;
            }
            self2._src = url;
            self2._state = "loading";
            if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
              self2._html5 = true;
              self2._webAudio = false;
            }
            new Sound2(self2);
            if (self2._webAudio) {
              loadBuffer(self2);
            }
            return self2;
          },
          /**
           * Play a sound or resume previous playback.
           * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Number}          Sound ID.
           */
          play: function(sprite, internal) {
            var self2 = this;
            var id = null;
            if (typeof sprite === "number") {
              id = sprite;
              sprite = null;
            } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
              return null;
            } else if (typeof sprite === "undefined") {
              sprite = "__default";
              if (!self2._playLock) {
                var num = 0;
                for (var i = 0; i < self2._sounds.length; i++) {
                  if (self2._sounds[i]._paused && !self2._sounds[i]._ended) {
                    num++;
                    id = self2._sounds[i]._id;
                  }
                }
                if (num === 1) {
                  sprite = null;
                } else {
                  id = null;
                }
              }
            }
            var sound = id ? self2._soundById(id) : self2._inactiveSound();
            if (!sound) {
              return null;
            }
            if (id && !sprite) {
              sprite = sound._sprite || "__default";
            }
            if (self2._state !== "loaded") {
              sound._sprite = sprite;
              sound._ended = false;
              var soundId = sound._id;
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play(soundId);
                }
              });
              return soundId;
            }
            if (id && !sound._paused) {
              if (!internal) {
                self2._loadQueue("play");
              }
              return sound._id;
            }
            if (self2._webAudio) {
              Howler2._autoResume();
            }
            var seek = Math.max(0, sound._seek > 0 ? sound._seek : self2._sprite[sprite][0] / 1e3);
            var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
            var timeout2 = duration * 1e3 / Math.abs(sound._rate);
            var start = self2._sprite[sprite][0] / 1e3;
            var stop = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
            sound._sprite = sprite;
            sound._ended = false;
            var setParams = function() {
              sound._paused = false;
              sound._seek = seek;
              sound._start = start;
              sound._stop = stop;
              sound._loop = !!(sound._loop || self2._sprite[sprite][2]);
            };
            if (seek >= stop) {
              self2._ended(sound);
              return;
            }
            var node = sound._node;
            if (self2._webAudio) {
              var playWebAudio = function() {
                self2._playLock = false;
                setParams();
                self2._refreshBuffer(sound);
                var vol = sound._muted || self2._muted ? 0 : sound._volume;
                node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                sound._playStart = Howler2.ctx.currentTime;
                if (typeof node.bufferSource.start === "undefined") {
                  sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
                } else {
                  sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
                }
                if (timeout2 !== Infinity) {
                  self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                }
                if (!internal) {
                  setTimeout(function() {
                    self2._emit("play", sound._id);
                    self2._loadQueue();
                  }, 0);
                }
              };
              if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
                playWebAudio();
              } else {
                self2._playLock = true;
                self2.once("resume", playWebAudio);
                self2._clearTimer(sound._id);
              }
            } else {
              var playHtml5 = function() {
                node.currentTime = seek;
                node.muted = sound._muted || self2._muted || Howler2._muted || node.muted;
                node.volume = sound._volume * Howler2.volume();
                node.playbackRate = sound._rate;
                try {
                  var play = node.play();
                  if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                    self2._playLock = true;
                    setParams();
                    play.then(function() {
                      self2._playLock = false;
                      node._unlocked = true;
                      if (!internal) {
                        self2._emit("play", sound._id);
                      } else {
                        self2._loadQueue();
                      }
                    }).catch(function() {
                      self2._playLock = false;
                      self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                      sound._ended = true;
                      sound._paused = true;
                    });
                  } else if (!internal) {
                    self2._playLock = false;
                    setParams();
                    self2._emit("play", sound._id);
                  }
                  node.playbackRate = sound._rate;
                  if (node.paused) {
                    self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                    return;
                  }
                  if (sprite !== "__default" || sound._loop) {
                    self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  } else {
                    self2._endTimers[sound._id] = function() {
                      self2._ended(sound);
                      node.removeEventListener("ended", self2._endTimers[sound._id], false);
                    };
                    node.addEventListener("ended", self2._endTimers[sound._id], false);
                  }
                } catch (err) {
                  self2._emit("playerror", sound._id, err);
                }
              };
              if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
                node.src = self2._src;
                node.load();
              }
              var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
              if (node.readyState >= 3 || loadedNoReadyState) {
                playHtml5();
              } else {
                self2._playLock = true;
                self2._state = "loading";
                var listener = function() {
                  self2._state = "loaded";
                  playHtml5();
                  node.removeEventListener(Howler2._canPlayEvent, listener, false);
                };
                node.addEventListener(Howler2._canPlayEvent, listener, false);
                self2._clearTimer(sound._id);
              }
            }
            return sound._id;
          },
          /**
           * Pause playback and save current position.
           * @param  {Number} id The sound ID (empty to pause all in group).
           * @return {Howl}
           */
          pause: function(id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "pause",
                action: function() {
                  self2.pause(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound && !sound._paused) {
                sound._seek = self2.seek(ids[i]);
                sound._rateSeek = 0;
                sound._paused = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (!sound._node.bufferSource) {
                      continue;
                    }
                    if (typeof sound._node.bufferSource.stop === "undefined") {
                      sound._node.bufferSource.noteOff(0);
                    } else {
                      sound._node.bufferSource.stop(0);
                    }
                    self2._cleanBuffer(sound._node);
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.pause();
                  }
                }
              }
              if (!arguments[1]) {
                self2._emit("pause", sound ? sound._id : null);
              }
            }
            return self2;
          },
          /**
           * Stop playback and reset to start.
           * @param  {Number} id The sound ID (empty to stop all in group).
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Howl}
           */
          stop: function(id, internal) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "stop",
                action: function() {
                  self2.stop(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._seek = sound._start || 0;
                sound._rateSeek = 0;
                sound._paused = true;
                sound._ended = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (sound._node.bufferSource) {
                      if (typeof sound._node.bufferSource.stop === "undefined") {
                        sound._node.bufferSource.noteOff(0);
                      } else {
                        sound._node.bufferSource.stop(0);
                      }
                      self2._cleanBuffer(sound._node);
                    }
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.currentTime = sound._start || 0;
                    sound._node.pause();
                    if (sound._node.duration === Infinity) {
                      self2._clearSound(sound._node);
                    }
                  }
                }
                if (!internal) {
                  self2._emit("stop", sound._id);
                }
              }
            }
            return self2;
          },
          /**
           * Mute/unmute a single sound or all sounds in this Howl group.
           * @param  {Boolean} muted Set to true to mute and false to unmute.
           * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
           * @return {Howl}
           */
          mute: function(muted, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "mute",
                action: function() {
                  self2.mute(muted, id);
                }
              });
              return self2;
            }
            if (typeof id === "undefined") {
              if (typeof muted === "boolean") {
                self2._muted = muted;
              } else {
                return self2._muted;
              }
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._muted = muted;
                if (sound._interval) {
                  self2._stopFade(sound._id);
                }
                if (self2._webAudio && sound._node) {
                  sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler2.ctx.currentTime);
                } else if (sound._node) {
                  sound._node.muted = Howler2._muted ? true : muted;
                }
                self2._emit("mute", sound._id);
              }
            }
            return self2;
          },
          /**
           * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
           *   volume() -> Returns the group's volume value.
           *   volume(id) -> Returns the sound id's current volume.
           *   volume(vol) -> Sets the volume of all sounds in this Howl group.
           *   volume(vol, id) -> Sets the volume of passed sound id.
           * @return {Howl/Number} Returns self or current volume.
           */
          volume: function() {
            var self2 = this;
            var args = arguments;
            var vol, id;
            if (args.length === 0) {
              return self2._volume;
            } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                vol = parseFloat(args[0]);
              }
            } else if (args.length >= 2) {
              vol = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "volume",
                  action: function() {
                    self2.volume.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._volume = vol;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  sound._volume = vol;
                  if (!args[2]) {
                    self2._stopFade(id[i]);
                  }
                  if (self2._webAudio && sound._node && !sound._muted) {
                    sound._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                  } else if (sound._node && !sound._muted) {
                    sound._node.volume = vol * Howler2.volume();
                  }
                  self2._emit("volume", sound._id);
                }
              }
            } else {
              sound = id ? self2._soundById(id) : self2._sounds[0];
              return sound ? sound._volume : 0;
            }
            return self2;
          },
          /**
           * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id (omit to fade all sounds).
           * @return {Howl}
           */
          fade: function(from, to, len4, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "fade",
                action: function() {
                  self2.fade(from, to, len4, id);
                }
              });
              return self2;
            }
            from = Math.min(Math.max(0, parseFloat(from)), 1);
            to = Math.min(Math.max(0, parseFloat(to)), 1);
            len4 = parseFloat(len4);
            self2.volume(from, id);
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                if (!id) {
                  self2._stopFade(ids[i]);
                }
                if (self2._webAudio && !sound._muted) {
                  var currentTime = Howler2.ctx.currentTime;
                  var end = currentTime + len4 / 1e3;
                  sound._volume = from;
                  sound._node.gain.setValueAtTime(from, currentTime);
                  sound._node.gain.linearRampToValueAtTime(to, end);
                }
                self2._startFadeInterval(sound, from, to, len4, ids[i], typeof id === "undefined");
              }
            }
            return self2;
          },
          /**
           * Starts the internal interval to fade a sound.
           * @param  {Object} sound Reference to sound to fade.
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id to fade.
           * @param  {Boolean} isGroup   If true, set the volume on the group.
           */
          _startFadeInterval: function(sound, from, to, len4, id, isGroup) {
            var self2 = this;
            var vol = from;
            var diff = to - from;
            var steps = Math.abs(diff / 0.01);
            var stepLen = Math.max(4, steps > 0 ? len4 / steps : len4);
            var lastTick = Date.now();
            sound._fadeTo = to;
            sound._interval = setInterval(function() {
              var tick = (Date.now() - lastTick) / len4;
              lastTick = Date.now();
              vol += diff * tick;
              vol = Math.round(vol * 100) / 100;
              if (diff < 0) {
                vol = Math.max(to, vol);
              } else {
                vol = Math.min(to, vol);
              }
              if (self2._webAudio) {
                sound._volume = vol;
              } else {
                self2.volume(vol, sound._id, true);
              }
              if (isGroup) {
                self2._volume = vol;
              }
              if (to < from && vol <= to || to > from && vol >= to) {
                clearInterval(sound._interval);
                sound._interval = null;
                sound._fadeTo = null;
                self2.volume(to, sound._id);
                self2._emit("fade", sound._id);
              }
            }, stepLen);
          },
          /**
           * Internal method that stops the currently playing fade when
           * a new fade starts, volume is changed or the sound is stopped.
           * @param  {Number} id The sound id.
           * @return {Howl}
           */
          _stopFade: function(id) {
            var self2 = this;
            var sound = self2._soundById(id);
            if (sound && sound._interval) {
              if (self2._webAudio) {
                sound._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
              }
              clearInterval(sound._interval);
              sound._interval = null;
              self2.volume(sound._fadeTo, id);
              sound._fadeTo = null;
              self2._emit("fade", id);
            }
            return self2;
          },
          /**
           * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
           *   loop() -> Returns the group's loop value.
           *   loop(id) -> Returns the sound id's loop value.
           *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
           *   loop(loop, id) -> Sets the loop value of passed sound id.
           * @return {Howl/Boolean} Returns self or current loop value.
           */
          loop: function() {
            var self2 = this;
            var args = arguments;
            var loop, id, sound;
            if (args.length === 0) {
              return self2._loop;
            } else if (args.length === 1) {
              if (typeof args[0] === "boolean") {
                loop = args[0];
                self2._loop = loop;
              } else {
                sound = self2._soundById(parseInt(args[0], 10));
                return sound ? sound._loop : false;
              }
            } else if (args.length === 2) {
              loop = args[0];
              id = parseInt(args[1], 10);
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              sound = self2._soundById(ids[i]);
              if (sound) {
                sound._loop = loop;
                if (self2._webAudio && sound._node && sound._node.bufferSource) {
                  sound._node.bufferSource.loop = loop;
                  if (loop) {
                    sound._node.bufferSource.loopStart = sound._start || 0;
                    sound._node.bufferSource.loopEnd = sound._stop;
                    if (self2.playing(ids[i])) {
                      self2.pause(ids[i], true);
                      self2.play(ids[i], true);
                    }
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   rate() -> Returns the first sound node's current playback rate.
           *   rate(id) -> Returns the sound id's current playback rate.
           *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
           *   rate(rate, id) -> Sets the playback rate of passed sound id.
           * @return {Howl/Number} Returns self or the current playback rate.
           */
          rate: function() {
            var self2 = this;
            var args = arguments;
            var rate, id;
            if (args.length === 0) {
              id = self2._sounds[0]._id;
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                rate = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              rate = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof rate === "number") {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "rate",
                  action: function() {
                    self2.rate.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._rate = rate;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  if (self2.playing(id[i])) {
                    sound._rateSeek = self2.seek(id[i]);
                    sound._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound._playStart;
                  }
                  sound._rate = rate;
                  if (self2._webAudio && sound._node && sound._node.bufferSource) {
                    sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
                  } else if (sound._node) {
                    sound._node.playbackRate = rate;
                  }
                  var seek = self2.seek(id[i]);
                  var duration = (self2._sprite[sound._sprite][0] + self2._sprite[sound._sprite][1]) / 1e3 - seek;
                  var timeout2 = duration * 1e3 / Math.abs(sound._rate);
                  if (self2._endTimers[id[i]] || !sound._paused) {
                    self2._clearTimer(id[i]);
                    self2._endTimers[id[i]] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  }
                  self2._emit("rate", sound._id);
                }
              }
            } else {
              sound = self2._soundById(id);
              return sound ? sound._rate : self2._rate;
            }
            return self2;
          },
          /**
           * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   seek() -> Returns the first sound node's current seek position.
           *   seek(id) -> Returns the sound id's current seek position.
           *   seek(seek) -> Sets the seek position of the first sound node.
           *   seek(seek, id) -> Sets the seek position of passed sound id.
           * @return {Howl/Number} Returns self or the current seek position.
           */
          seek: function() {
            var self2 = this;
            var args = arguments;
            var seek, id;
            if (args.length === 0) {
              if (self2._sounds.length) {
                id = self2._sounds[0]._id;
              }
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else if (self2._sounds.length) {
                id = self2._sounds[0]._id;
                seek = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              seek = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            if (typeof id === "undefined") {
              return 0;
            }
            if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
              self2._queue.push({
                event: "seek",
                action: function() {
                  self2.seek.apply(self2, args);
                }
              });
              return self2;
            }
            var sound = self2._soundById(id);
            if (sound) {
              if (typeof seek === "number" && seek >= 0) {
                var playing = self2.playing(id);
                if (playing) {
                  self2.pause(id, true);
                }
                sound._seek = seek;
                sound._ended = false;
                self2._clearTimer(id);
                if (!self2._webAudio && sound._node && !isNaN(sound._node.duration)) {
                  sound._node.currentTime = seek;
                }
                var seekAndEmit = function() {
                  if (playing) {
                    self2.play(id, true);
                  }
                  self2._emit("seek", id);
                };
                if (playing && !self2._webAudio) {
                  var emitSeek = function() {
                    if (!self2._playLock) {
                      seekAndEmit();
                    } else {
                      setTimeout(emitSeek, 0);
                    }
                  };
                  setTimeout(emitSeek, 0);
                } else {
                  seekAndEmit();
                }
              } else {
                if (self2._webAudio) {
                  var realTime = self2.playing(id) ? Howler2.ctx.currentTime - sound._playStart : 0;
                  var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;
                  return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));
                } else {
                  return sound._node.currentTime;
                }
              }
            }
            return self2;
          },
          /**
           * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
           * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
           * @return {Boolean} True if playing and false if not.
           */
          playing: function(id) {
            var self2 = this;
            if (typeof id === "number") {
              var sound = self2._soundById(id);
              return sound ? !sound._paused : false;
            }
            for (var i = 0; i < self2._sounds.length; i++) {
              if (!self2._sounds[i]._paused) {
                return true;
              }
            }
            return false;
          },
          /**
           * Get the duration of this sound. Passing a sound id will return the sprite duration.
           * @param  {Number} id The sound id to check. If none is passed, return full source duration.
           * @return {Number} Audio duration in seconds.
           */
          duration: function(id) {
            var self2 = this;
            var duration = self2._duration;
            var sound = self2._soundById(id);
            if (sound) {
              duration = self2._sprite[sound._sprite][1] / 1e3;
            }
            return duration;
          },
          /**
           * Returns the current loaded state of this Howl.
           * @return {String} 'unloaded', 'loading', 'loaded'
           */
          state: function() {
            return this._state;
          },
          /**
           * Unload and destroy the current Howl object.
           * This will immediately stop all sound instances attached to this group.
           */
          unload: function() {
            var self2 = this;
            var sounds = self2._sounds;
            for (var i = 0; i < sounds.length; i++) {
              if (!sounds[i]._paused) {
                self2.stop(sounds[i]._id);
              }
              if (!self2._webAudio) {
                self2._clearSound(sounds[i]._node);
                sounds[i]._node.removeEventListener("error", sounds[i]._errorFn, false);
                sounds[i]._node.removeEventListener(Howler2._canPlayEvent, sounds[i]._loadFn, false);
                sounds[i]._node.removeEventListener("ended", sounds[i]._endFn, false);
                Howler2._releaseHtml5Audio(sounds[i]._node);
              }
              delete sounds[i]._node;
              self2._clearTimer(sounds[i]._id);
            }
            var index = Howler2._howls.indexOf(self2);
            if (index >= 0) {
              Howler2._howls.splice(index, 1);
            }
            var remCache = true;
            for (i = 0; i < Howler2._howls.length; i++) {
              if (Howler2._howls[i]._src === self2._src || self2._src.indexOf(Howler2._howls[i]._src) >= 0) {
                remCache = false;
                break;
              }
            }
            if (cache && remCache) {
              delete cache[self2._src];
            }
            Howler2.noAudio = false;
            self2._state = "unloaded";
            self2._sounds = [];
            self2 = null;
            return null;
          },
          /**
           * Listen to a custom event.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
           * @return {Howl}
           */
          on: function(event, fn, id, once) {
            var self2 = this;
            var events = self2["_on" + event];
            if (typeof fn === "function") {
              events.push(once ? { id, fn, once } : { id, fn });
            }
            return self2;
          },
          /**
           * Remove a custom event. Call without parameters to remove all events.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to remove. Leave empty to remove all.
           * @param  {Number}   id    (optional) Only remove events for this sound.
           * @return {Howl}
           */
          off: function(event, fn, id) {
            var self2 = this;
            var events = self2["_on" + event];
            var i = 0;
            if (typeof fn === "number") {
              id = fn;
              fn = null;
            }
            if (fn || id) {
              for (i = 0; i < events.length; i++) {
                var isId = id === events[i].id;
                if (fn === events[i].fn && isId || !fn && isId) {
                  events.splice(i, 1);
                  break;
                }
              }
            } else if (event) {
              self2["_on" + event] = [];
            } else {
              var keys = Object.keys(self2);
              for (i = 0; i < keys.length; i++) {
                if (keys[i].indexOf("_on") === 0 && Array.isArray(self2[keys[i]])) {
                  self2[keys[i]] = [];
                }
              }
            }
            return self2;
          },
          /**
           * Listen to a custom event and remove it once fired.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @return {Howl}
           */
          once: function(event, fn, id) {
            var self2 = this;
            self2.on(event, fn, id, 1);
            return self2;
          },
          /**
           * Emit all events of a specific type and pass the sound id.
           * @param  {String} event Event name.
           * @param  {Number} id    Sound ID.
           * @param  {Number} msg   Message to go with event.
           * @return {Howl}
           */
          _emit: function(event, id, msg) {
            var self2 = this;
            var events = self2["_on" + event];
            for (var i = events.length - 1; i >= 0; i--) {
              if (!events[i].id || events[i].id === id || event === "load") {
                setTimeout(function(fn) {
                  fn.call(this, id, msg);
                }.bind(self2, events[i].fn), 0);
                if (events[i].once) {
                  self2.off(event, events[i].fn, events[i].id);
                }
              }
            }
            self2._loadQueue(event);
            return self2;
          },
          /**
           * Queue of actions initiated before the sound has loaded.
           * These will be called in sequence, with the next only firing
           * after the previous has finished executing (even if async like play).
           * @return {Howl}
           */
          _loadQueue: function(event) {
            var self2 = this;
            if (self2._queue.length > 0) {
              var task = self2._queue[0];
              if (task.event === event) {
                self2._queue.shift();
                self2._loadQueue();
              }
              if (!event) {
                task.action();
              }
            }
            return self2;
          },
          /**
           * Fired when playback ends at the end of the duration.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _ended: function(sound) {
            var self2 = this;
            var sprite = sound._sprite;
            if (!self2._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {
              setTimeout(self2._ended.bind(self2, sound), 100);
              return self2;
            }
            var loop = !!(sound._loop || self2._sprite[sprite][2]);
            self2._emit("end", sound._id);
            if (!self2._webAudio && loop) {
              self2.stop(sound._id, true).play(sound._id);
            }
            if (self2._webAudio && loop) {
              self2._emit("play", sound._id);
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              sound._playStart = Howler2.ctx.currentTime;
              var timeout2 = (sound._stop - sound._start) * 1e3 / Math.abs(sound._rate);
              self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
            }
            if (self2._webAudio && !loop) {
              sound._paused = true;
              sound._ended = true;
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              self2._clearTimer(sound._id);
              self2._cleanBuffer(sound._node);
              Howler2._autoSuspend();
            }
            if (!self2._webAudio && !loop) {
              self2.stop(sound._id, true);
            }
            return self2;
          },
          /**
           * Clear the end timer for a sound playback.
           * @param  {Number} id The sound ID.
           * @return {Howl}
           */
          _clearTimer: function(id) {
            var self2 = this;
            if (self2._endTimers[id]) {
              if (typeof self2._endTimers[id] !== "function") {
                clearTimeout(self2._endTimers[id]);
              } else {
                var sound = self2._soundById(id);
                if (sound && sound._node) {
                  sound._node.removeEventListener("ended", self2._endTimers[id], false);
                }
              }
              delete self2._endTimers[id];
            }
            return self2;
          },
          /**
           * Return the sound identified by this ID, or return null.
           * @param  {Number} id Sound ID
           * @return {Object}    Sound object or null.
           */
          _soundById: function(id) {
            var self2 = this;
            for (var i = 0; i < self2._sounds.length; i++) {
              if (id === self2._sounds[i]._id) {
                return self2._sounds[i];
              }
            }
            return null;
          },
          /**
           * Return an inactive sound from the pool or create a new one.
           * @return {Sound} Sound playback object.
           */
          _inactiveSound: function() {
            var self2 = this;
            self2._drain();
            for (var i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                return self2._sounds[i].reset();
              }
            }
            return new Sound2(self2);
          },
          /**
           * Drain excess inactive sounds from the pool.
           */
          _drain: function() {
            var self2 = this;
            var limit = self2._pool;
            var cnt = 0;
            var i = 0;
            if (self2._sounds.length < limit) {
              return;
            }
            for (i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                cnt++;
              }
            }
            for (i = self2._sounds.length - 1; i >= 0; i--) {
              if (cnt <= limit) {
                return;
              }
              if (self2._sounds[i]._ended) {
                if (self2._webAudio && self2._sounds[i]._node) {
                  self2._sounds[i]._node.disconnect(0);
                }
                self2._sounds.splice(i, 1);
                cnt--;
              }
            }
          },
          /**
           * Get all ID's from the sounds pool.
           * @param  {Number} id Only return one ID if one is passed.
           * @return {Array}    Array of IDs.
           */
          _getSoundIds: function(id) {
            var self2 = this;
            if (typeof id === "undefined") {
              var ids = [];
              for (var i = 0; i < self2._sounds.length; i++) {
                ids.push(self2._sounds[i]._id);
              }
              return ids;
            } else {
              return [id];
            }
          },
          /**
           * Load the sound back into the buffer source.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _refreshBuffer: function(sound) {
            var self2 = this;
            sound._node.bufferSource = Howler2.ctx.createBufferSource();
            sound._node.bufferSource.buffer = cache[self2._src];
            if (sound._panner) {
              sound._node.bufferSource.connect(sound._panner);
            } else {
              sound._node.bufferSource.connect(sound._node);
            }
            sound._node.bufferSource.loop = sound._loop;
            if (sound._loop) {
              sound._node.bufferSource.loopStart = sound._start || 0;
              sound._node.bufferSource.loopEnd = sound._stop || 0;
            }
            sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler2.ctx.currentTime);
            return self2;
          },
          /**
           * Prevent memory leaks by cleaning up the buffer source after playback.
           * @param  {Object} node Sound's audio node containing the buffer source.
           * @return {Howl}
           */
          _cleanBuffer: function(node) {
            var self2 = this;
            var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
            if (Howler2._scratchBuffer && node.bufferSource) {
              node.bufferSource.onended = null;
              node.bufferSource.disconnect(0);
              if (isIOS) {
                try {
                  node.bufferSource.buffer = Howler2._scratchBuffer;
                } catch (e) {
                }
              }
            }
            node.bufferSource = null;
            return self2;
          },
          /**
           * Set the source to a 0-second silence to stop any downloading (except in IE).
           * @param  {Object} node Audio node to clear.
           */
          _clearSound: function(node) {
            var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
            if (!checkIE) {
              node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
            }
          }
        };
        var Sound2 = function(howl) {
          this._parent = howl;
          this.init();
        };
        Sound2.prototype = {
          /**
           * Initialize a new Sound object.
           * @return {Sound}
           */
          init: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            parent._sounds.push(self2);
            self2.create();
            return self2;
          },
          /**
           * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
           * @return {Sound}
           */
          create: function() {
            var self2 = this;
            var parent = self2._parent;
            var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
            if (parent._webAudio) {
              self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
              self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
              self2._node.paused = true;
              self2._node.connect(Howler2.masterGain);
            } else if (!Howler2.noAudio) {
              self2._node = Howler2._obtainHtml5Audio();
              self2._errorFn = self2._errorListener.bind(self2);
              self2._node.addEventListener("error", self2._errorFn, false);
              self2._loadFn = self2._loadListener.bind(self2);
              self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
              self2._endFn = self2._endListener.bind(self2);
              self2._node.addEventListener("ended", self2._endFn, false);
              self2._node.src = parent._src;
              self2._node.preload = parent._preload === true ? "auto" : parent._preload;
              self2._node.volume = volume * Howler2.volume();
              self2._node.load();
            }
            return self2;
          },
          /**
           * Reset the parameters of this sound to the original state (for recycle).
           * @return {Sound}
           */
          reset: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._rateSeek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            return self2;
          },
          /**
           * HTML5 Audio error listener callback.
           */
          _errorListener: function() {
            var self2 = this;
            self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
            self2._node.removeEventListener("error", self2._errorFn, false);
          },
          /**
           * HTML5 Audio canplaythrough listener callback.
           */
          _loadListener: function() {
            var self2 = this;
            var parent = self2._parent;
            parent._duration = Math.ceil(self2._node.duration * 10) / 10;
            if (Object.keys(parent._sprite).length === 0) {
              parent._sprite = { __default: [0, parent._duration * 1e3] };
            }
            if (parent._state !== "loaded") {
              parent._state = "loaded";
              parent._emit("load");
              parent._loadQueue();
            }
            self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          },
          /**
           * HTML5 Audio ended listener callback.
           */
          _endListener: function() {
            var self2 = this;
            var parent = self2._parent;
            if (parent._duration === Infinity) {
              parent._duration = Math.ceil(self2._node.duration * 10) / 10;
              if (parent._sprite.__default[1] === Infinity) {
                parent._sprite.__default[1] = parent._duration * 1e3;
              }
              parent._ended(self2);
            }
            self2._node.removeEventListener("ended", self2._endFn, false);
          }
        };
        var cache = {};
        var loadBuffer = function(self2) {
          var url = self2._src;
          if (cache[url]) {
            self2._duration = cache[url].duration;
            loadSound(self2);
            return;
          }
          if (/^data:[^;]+;base64,/.test(url)) {
            var data = atob(url.split(",")[1]);
            var dataView = new Uint8Array(data.length);
            for (var i = 0; i < data.length; ++i) {
              dataView[i] = data.charCodeAt(i);
            }
            decodeAudioData(dataView.buffer, self2);
          } else {
            var xhr = new XMLHttpRequest();
            xhr.open(self2._xhr.method, url, true);
            xhr.withCredentials = self2._xhr.withCredentials;
            xhr.responseType = "arraybuffer";
            if (self2._xhr.headers) {
              Object.keys(self2._xhr.headers).forEach(function(key) {
                xhr.setRequestHeader(key, self2._xhr.headers[key]);
              });
            }
            xhr.onload = function() {
              var code = (xhr.status + "")[0];
              if (code !== "0" && code !== "2" && code !== "3") {
                self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
                return;
              }
              decodeAudioData(xhr.response, self2);
            };
            xhr.onerror = function() {
              if (self2._webAudio) {
                self2._html5 = true;
                self2._webAudio = false;
                self2._sounds = [];
                delete cache[url];
                self2.load();
              }
            };
            safeXhrSend(xhr);
          }
        };
        var safeXhrSend = function(xhr) {
          try {
            xhr.send();
          } catch (e) {
            xhr.onerror();
          }
        };
        var decodeAudioData = function(arraybuffer, self2) {
          var error = function() {
            self2._emit("loaderror", null, "Decoding audio data failed.");
          };
          var success = function(buffer) {
            if (buffer && self2._sounds.length > 0) {
              cache[self2._src] = buffer;
              loadSound(self2, buffer);
            } else {
              error();
            }
          };
          if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
            Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
          } else {
            Howler2.ctx.decodeAudioData(arraybuffer, success, error);
          }
        };
        var loadSound = function(self2, buffer) {
          if (buffer && !self2._duration) {
            self2._duration = buffer.duration;
          }
          if (Object.keys(self2._sprite).length === 0) {
            self2._sprite = { __default: [0, self2._duration * 1e3] };
          }
          if (self2._state !== "loaded") {
            self2._state = "loaded";
            self2._emit("load");
            self2._loadQueue();
          }
        };
        var setupAudioContext = function() {
          if (!Howler2.usingWebAudio) {
            return;
          }
          try {
            if (typeof AudioContext !== "undefined") {
              Howler2.ctx = new AudioContext();
            } else if (typeof webkitAudioContext !== "undefined") {
              Howler2.ctx = new webkitAudioContext();
            } else {
              Howler2.usingWebAudio = false;
            }
          } catch (e) {
            Howler2.usingWebAudio = false;
          }
          if (!Howler2.ctx) {
            Howler2.usingWebAudio = false;
          }
          var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
          var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
          var version = appVersion ? parseInt(appVersion[1], 10) : null;
          if (iOS && version && version < 9) {
            var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
            if (Howler2._navigator && !safari) {
              Howler2.usingWebAudio = false;
            }
          }
          if (Howler2.usingWebAudio) {
            Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
            Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
            Howler2.masterGain.connect(Howler2.ctx.destination);
          }
          Howler2._setup();
        };
        if (typeof define === "function" && define.amd) {
          define([], function() {
            return {
              Howler: Howler2,
              Howl: Howl2
            };
          });
        }
        if (typeof exports !== "undefined") {
          exports.Howler = Howler2;
          exports.Howl = Howl2;
        }
        if (typeof global !== "undefined") {
          global.HowlerGlobal = HowlerGlobal2;
          global.Howler = Howler2;
          global.Howl = Howl2;
          global.Sound = Sound2;
        } else if (typeof window !== "undefined") {
          window.HowlerGlobal = HowlerGlobal2;
          window.Howler = Howler2;
          window.Howl = Howl2;
          window.Sound = Sound2;
        }
      })();
      (function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0];
        HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
        HowlerGlobal.prototype.stereo = function(pan) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          for (var i = self2._howls.length - 1; i >= 0; i--) {
            self2._howls[i].stereo(pan);
          }
          return self2;
        };
        HowlerGlobal.prototype.pos = function(x, y, z) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          y = typeof y !== "number" ? self2._pos[1] : y;
          z = typeof z !== "number" ? self2._pos[2] : z;
          if (typeof x === "number") {
            self2._pos = [x, y, z];
            if (typeof self2.ctx.listener.positionX !== "undefined") {
              self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
            }
          } else {
            return self2._pos;
          }
          return self2;
        };
        HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          var or = self2._orientation;
          y = typeof y !== "number" ? or[1] : y;
          z = typeof z !== "number" ? or[2] : z;
          xUp = typeof xUp !== "number" ? or[3] : xUp;
          yUp = typeof yUp !== "number" ? or[4] : yUp;
          zUp = typeof zUp !== "number" ? or[5] : zUp;
          if (typeof x === "number") {
            self2._orientation = [x, y, z, xUp, yUp, zUp];
            if (typeof self2.ctx.listener.forwardX !== "undefined") {
              self2.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
            }
          } else {
            return or;
          }
          return self2;
        };
        Howl.prototype.init = function(_super) {
          return function(o) {
            var self2 = this;
            self2._orientation = o.orientation || [1, 0, 0];
            self2._stereo = o.stereo || null;
            self2._pos = o.pos || null;
            self2._pannerAttr = {
              coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : 360,
              coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : 360,
              coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : 0,
              distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : "inverse",
              maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : 1e4,
              panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : "HRTF",
              refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : 1,
              rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : 1
            };
            self2._onstereo = o.onstereo ? [{ fn: o.onstereo }] : [];
            self2._onpos = o.onpos ? [{ fn: o.onpos }] : [];
            self2._onorientation = o.onorientation ? [{ fn: o.onorientation }] : [];
            return _super.call(this, o);
          };
        }(Howl.prototype.init);
        Howl.prototype.stereo = function(pan, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "stereo",
              action: function() {
                self2.stereo(pan, id);
              }
            });
            return self2;
          }
          var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
          if (typeof id === "undefined") {
            if (typeof pan === "number") {
              self2._stereo = pan;
              self2._pos = [pan, 0, 0];
            } else {
              return self2._stereo;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof pan === "number") {
                sound._stereo = pan;
                sound._pos = [pan, 0, 0];
                if (sound._node) {
                  sound._pannerAttr.panningModel = "equalpower";
                  if (!sound._panner || !sound._panner.pan) {
                    setupPanner(sound, pannerType);
                  }
                  if (pannerType === "spatial") {
                    if (typeof sound._panner.positionX !== "undefined") {
                      sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                      sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                      sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                    } else {
                      sound._panner.setPosition(pan, 0, 0);
                    }
                  } else {
                    sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
                  }
                }
                self2._emit("stereo", sound._id);
              } else {
                return sound._stereo;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pos = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "pos",
              action: function() {
                self2.pos(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? 0 : y;
          z = typeof z !== "number" ? -0.5 : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._pos = [x, y, z];
            } else {
              return self2._pos;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._pos = [x, y, z];
                if (sound._node) {
                  if (!sound._panner || sound._panner.pan) {
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.positionX !== "undefined") {
                    sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setPosition(x, y, z);
                  }
                }
                self2._emit("pos", sound._id);
              } else {
                return sound._pos;
              }
            }
          }
          return self2;
        };
        Howl.prototype.orientation = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "orientation",
              action: function() {
                self2.orientation(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? self2._orientation[1] : y;
          z = typeof z !== "number" ? self2._orientation[2] : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._orientation = [x, y, z];
            } else {
              return self2._orientation;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._orientation = [x, y, z];
                if (sound._node) {
                  if (!sound._panner) {
                    if (!sound._pos) {
                      sound._pos = self2._pos || [0, 0, -0.5];
                    }
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.orientationX !== "undefined") {
                    sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setOrientation(x, y, z);
                  }
                }
                self2._emit("orientation", sound._id);
              } else {
                return sound._orientation;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pannerAttr = function() {
          var self2 = this;
          var args = arguments;
          var o, id, sound;
          if (!self2._webAudio) {
            return self2;
          }
          if (args.length === 0) {
            return self2._pannerAttr;
          } else if (args.length === 1) {
            if (typeof args[0] === "object") {
              o = args[0];
              if (typeof id === "undefined") {
                if (!o.pannerAttr) {
                  o.pannerAttr = {
                    coneInnerAngle: o.coneInnerAngle,
                    coneOuterAngle: o.coneOuterAngle,
                    coneOuterGain: o.coneOuterGain,
                    distanceModel: o.distanceModel,
                    maxDistance: o.maxDistance,
                    refDistance: o.refDistance,
                    rolloffFactor: o.rolloffFactor,
                    panningModel: o.panningModel
                  };
                }
                self2._pannerAttr = {
                  coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== "undefined" ? o.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
                  coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== "undefined" ? o.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
                  coneOuterGain: typeof o.pannerAttr.coneOuterGain !== "undefined" ? o.pannerAttr.coneOuterGain : self2._coneOuterGain,
                  distanceModel: typeof o.pannerAttr.distanceModel !== "undefined" ? o.pannerAttr.distanceModel : self2._distanceModel,
                  maxDistance: typeof o.pannerAttr.maxDistance !== "undefined" ? o.pannerAttr.maxDistance : self2._maxDistance,
                  refDistance: typeof o.pannerAttr.refDistance !== "undefined" ? o.pannerAttr.refDistance : self2._refDistance,
                  rolloffFactor: typeof o.pannerAttr.rolloffFactor !== "undefined" ? o.pannerAttr.rolloffFactor : self2._rolloffFactor,
                  panningModel: typeof o.pannerAttr.panningModel !== "undefined" ? o.pannerAttr.panningModel : self2._panningModel
                };
              }
            } else {
              sound = self2._soundById(parseInt(args[0], 10));
              return sound ? sound._pannerAttr : self2._pannerAttr;
            }
          } else if (args.length === 2) {
            o = args[0];
            id = parseInt(args[1], 10);
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            sound = self2._soundById(ids[i]);
            if (sound) {
              var pa = sound._pannerAttr;
              pa = {
                coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : pa.coneInnerAngle,
                coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : pa.coneOuterAngle,
                coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : pa.coneOuterGain,
                distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : pa.distanceModel,
                maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : pa.maxDistance,
                refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : pa.refDistance,
                rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : pa.rolloffFactor,
                panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : pa.panningModel
              };
              var panner = sound._panner;
              if (panner) {
                panner.coneInnerAngle = pa.coneInnerAngle;
                panner.coneOuterAngle = pa.coneOuterAngle;
                panner.coneOuterGain = pa.coneOuterGain;
                panner.distanceModel = pa.distanceModel;
                panner.maxDistance = pa.maxDistance;
                panner.refDistance = pa.refDistance;
                panner.rolloffFactor = pa.rolloffFactor;
                panner.panningModel = pa.panningModel;
              } else {
                if (!sound._pos) {
                  sound._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound, "spatial");
              }
            }
          }
          return self2;
        };
        Sound.prototype.init = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            _super.call(this);
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            }
          };
        }(Sound.prototype.init);
        Sound.prototype.reset = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            } else if (self2._panner) {
              self2._panner.disconnect(0);
              self2._panner = void 0;
              parent._refreshBuffer(self2);
            }
            return _super.call(this);
          };
        }(Sound.prototype.reset);
        var setupPanner = function(sound, type) {
          type = type || "spatial";
          if (type === "spatial") {
            sound._panner = Howler.ctx.createPanner();
            sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;
            sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;
            sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;
            sound._panner.distanceModel = sound._pannerAttr.distanceModel;
            sound._panner.maxDistance = sound._pannerAttr.maxDistance;
            sound._panner.refDistance = sound._pannerAttr.refDistance;
            sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;
            sound._panner.panningModel = sound._pannerAttr.panningModel;
            if (typeof sound._panner.positionX !== "undefined") {
              sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);
              sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);
              sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);
            }
            if (typeof sound._panner.orientationX !== "undefined") {
              sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);
              sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);
              sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);
            }
          } else {
            sound._panner = Howler.ctx.createStereoPanner();
            sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);
          }
          sound._panner.connect(sound._node);
          if (!sound._paused) {
            sound._parent.pause(sound._id, true).play(sound._id, true);
          }
        };
      })();
    }
  });

  // node_modules/earcut/src/earcut.js
  var require_earcut = __commonJS({
    "node_modules/earcut/src/earcut.js"(exports, module) {
      "use strict";
      module.exports = earcut2;
      module.exports.default = earcut2;
      function earcut2(data, holeIndices, dim) {
        dim = dim || 2;
        var hasHoles = holeIndices && holeIndices.length, outerLen = hasHoles ? holeIndices[0] * dim : data.length, outerNode = linkedList(data, 0, outerLen, dim, true), triangles = [];
        if (!outerNode || outerNode.next === outerNode.prev)
          return triangles;
        var minX, minY, maxX, maxY, x, y, invSize;
        if (hasHoles)
          outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
        if (data.length > 80 * dim) {
          minX = maxX = data[0];
          minY = maxY = data[1];
          for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX)
              minX = x;
            if (y < minY)
              minY = y;
            if (x > maxX)
              maxX = x;
            if (y > maxY)
              maxY = y;
          }
          invSize = Math.max(maxX - minX, maxY - minY);
          invSize = invSize !== 0 ? 32767 / invSize : 0;
        }
        earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);
        return triangles;
      }
      function linkedList(data, start, end, dim, clockwise) {
        var i, last;
        if (clockwise === signedArea(data, start, end, dim) > 0) {
          for (i = start; i < end; i += dim)
            last = insertNode(i, data[i], data[i + 1], last);
        } else {
          for (i = end - dim; i >= start; i -= dim)
            last = insertNode(i, data[i], data[i + 1], last);
        }
        if (last && equals6(last, last.next)) {
          removeNode(last);
          last = last.next;
        }
        return last;
      }
      function filterPoints(start, end) {
        if (!start)
          return start;
        if (!end)
          end = start;
        var p = start, again;
        do {
          again = false;
          if (!p.steiner && (equals6(p, p.next) || area(p.prev, p, p.next) === 0)) {
            removeNode(p);
            p = end = p.prev;
            if (p === p.next)
              break;
            again = true;
          } else {
            p = p.next;
          }
        } while (again || p !== end);
        return end;
      }
      function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
        if (!ear)
          return;
        if (!pass && invSize)
          indexCurve(ear, minX, minY, invSize);
        var stop = ear, prev, next;
        while (ear.prev !== ear.next) {
          prev = ear.prev;
          next = ear.next;
          if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
            triangles.push(prev.i / dim | 0);
            triangles.push(ear.i / dim | 0);
            triangles.push(next.i / dim | 0);
            removeNode(ear);
            ear = next.next;
            stop = next.next;
            continue;
          }
          ear = next;
          if (ear === stop) {
            if (!pass) {
              earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
            } else if (pass === 1) {
              ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
              earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
            } else if (pass === 2) {
              splitEarcut(ear, triangles, dim, minX, minY, invSize);
            }
            break;
          }
        }
      }
      function isEar(ear) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var p = c.next;
        while (p !== a) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.next;
        }
        return true;
      }
      function isEarHashed(ear, minX, minY, invSize) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var minZ = zOrder(x0, y0, minX, minY, invSize), maxZ = zOrder(x1, y1, minX, minY, invSize);
        var p = ear.prevZ, n = ear.nextZ;
        while (p && p.z >= minZ && n && n.z <= maxZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        while (p && p.z >= minZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
        }
        while (n && n.z <= maxZ) {
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        return true;
      }
      function cureLocalIntersections(start, triangles, dim) {
        var p = start;
        do {
          var a = p.prev, b = p.next.next;
          if (!equals6(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
            triangles.push(a.i / dim | 0);
            triangles.push(p.i / dim | 0);
            triangles.push(b.i / dim | 0);
            removeNode(p);
            removeNode(p.next);
            p = start = b;
          }
          p = p.next;
        } while (p !== start);
        return filterPoints(p);
      }
      function splitEarcut(start, triangles, dim, minX, minY, invSize) {
        var a = start;
        do {
          var b = a.next.next;
          while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
              var c = splitPolygon(a, b);
              a = filterPoints(a, a.next);
              c = filterPoints(c, c.next);
              earcutLinked(a, triangles, dim, minX, minY, invSize, 0);
              earcutLinked(c, triangles, dim, minX, minY, invSize, 0);
              return;
            }
            b = b.next;
          }
          a = a.next;
        } while (a !== start);
      }
      function eliminateHoles(data, holeIndices, outerNode, dim) {
        var queue = [], i, len4, start, end, list;
        for (i = 0, len4 = holeIndices.length; i < len4; i++) {
          start = holeIndices[i] * dim;
          end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
          list = linkedList(data, start, end, dim, false);
          if (list === list.next)
            list.steiner = true;
          queue.push(getLeftmost(list));
        }
        queue.sort(compareX);
        for (i = 0; i < queue.length; i++) {
          outerNode = eliminateHole(queue[i], outerNode);
        }
        return outerNode;
      }
      function compareX(a, b) {
        return a.x - b.x;
      }
      function eliminateHole(hole, outerNode) {
        var bridge = findHoleBridge(hole, outerNode);
        if (!bridge) {
          return outerNode;
        }
        var bridgeReverse = splitPolygon(bridge, hole);
        filterPoints(bridgeReverse, bridgeReverse.next);
        return filterPoints(bridge, bridge.next);
      }
      function findHoleBridge(hole, outerNode) {
        var p = outerNode, hx = hole.x, hy = hole.y, qx = -Infinity, m;
        do {
          if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            if (x <= hx && x > qx) {
              qx = x;
              m = p.x < p.next.x ? p : p.next;
              if (x === hx)
                return m;
            }
          }
          p = p.next;
        } while (p !== outerNode);
        if (!m)
          return null;
        var stop = m, mx = m.x, my = m.y, tanMin = Infinity, tan;
        p = m;
        do {
          if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
            tan = Math.abs(hy - p.y) / (hx - p.x);
            if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {
              m = p;
              tanMin = tan;
            }
          }
          p = p.next;
        } while (p !== stop);
        return m;
      }
      function sectorContainsSector(m, p) {
        return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;
      }
      function indexCurve(start, minX, minY, invSize) {
        var p = start;
        do {
          if (p.z === 0)
            p.z = zOrder(p.x, p.y, minX, minY, invSize);
          p.prevZ = p.prev;
          p.nextZ = p.next;
          p = p.next;
        } while (p !== start);
        p.prevZ.nextZ = null;
        p.prevZ = null;
        sortLinked(p);
      }
      function sortLinked(list) {
        var i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;
        do {
          p = list;
          list = null;
          tail = null;
          numMerges = 0;
          while (p) {
            numMerges++;
            q = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
              pSize++;
              q = q.nextZ;
              if (!q)
                break;
            }
            qSize = inSize;
            while (pSize > 0 || qSize > 0 && q) {
              if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
                e = p;
                p = p.nextZ;
                pSize--;
              } else {
                e = q;
                q = q.nextZ;
                qSize--;
              }
              if (tail)
                tail.nextZ = e;
              else
                list = e;
              e.prevZ = tail;
              tail = e;
            }
            p = q;
          }
          tail.nextZ = null;
          inSize *= 2;
        } while (numMerges > 1);
        return list;
      }
      function zOrder(x, y, minX, minY, invSize) {
        x = (x - minX) * invSize | 0;
        y = (y - minY) * invSize | 0;
        x = (x | x << 8) & 16711935;
        x = (x | x << 4) & 252645135;
        x = (x | x << 2) & 858993459;
        x = (x | x << 1) & 1431655765;
        y = (y | y << 8) & 16711935;
        y = (y | y << 4) & 252645135;
        y = (y | y << 2) & 858993459;
        y = (y | y << 1) & 1431655765;
        return x | y << 1;
      }
      function getLeftmost(start) {
        var p = start, leftmost = start;
        do {
          if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y)
            leftmost = p;
          p = p.next;
        } while (p !== start);
        return leftmost;
      }
      function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
        return (cx - px) * (ay - py) >= (ax - px) * (cy - py) && (ax - px) * (by - py) >= (bx - px) * (ay - py) && (bx - px) * (cy - py) >= (cx - px) * (by - py);
      }
      function isValidDiagonal(a, b) {
        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges
        (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible
        (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors
        equals6(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0);
      }
      function area(p, q, r) {
        return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
      }
      function equals6(p1, p2) {
        return p1.x === p2.x && p1.y === p2.y;
      }
      function intersects(p1, q1, p2, q2) {
        var o1 = sign(area(p1, q1, p2));
        var o2 = sign(area(p1, q1, q2));
        var o3 = sign(area(p2, q2, p1));
        var o4 = sign(area(p2, q2, q1));
        if (o1 !== o2 && o3 !== o4)
          return true;
        if (o1 === 0 && onSegment(p1, p2, q1))
          return true;
        if (o2 === 0 && onSegment(p1, q2, q1))
          return true;
        if (o3 === 0 && onSegment(p2, p1, q2))
          return true;
        if (o4 === 0 && onSegment(p2, q1, q2))
          return true;
        return false;
      }
      function onSegment(p, q, r) {
        return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);
      }
      function sign(num) {
        return num > 0 ? 1 : num < 0 ? -1 : 0;
      }
      function intersectsPolygon(a, b) {
        var p = a;
        do {
          if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b))
            return true;
          p = p.next;
        } while (p !== a);
        return false;
      }
      function locallyInside(a, b) {
        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
      }
      function middleInside(a, b) {
        var p = a, inside = false, px = (a.x + b.x) / 2, py = (a.y + b.y) / 2;
        do {
          if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x)
            inside = !inside;
          p = p.next;
        } while (p !== a);
        return inside;
      }
      function splitPolygon(a, b) {
        var a2 = new Node(a.i, a.x, a.y), b2 = new Node(b.i, b.x, b.y), an = a.next, bp = b.prev;
        a.next = b;
        b.prev = a;
        a2.next = an;
        an.prev = a2;
        b2.next = a2;
        a2.prev = b2;
        bp.next = b2;
        b2.prev = bp;
        return b2;
      }
      function insertNode(i, x, y, last) {
        var p = new Node(i, x, y);
        if (!last) {
          p.prev = p;
          p.next = p;
        } else {
          p.next = last.next;
          p.prev = last;
          last.next.prev = p;
          last.next = p;
        }
        return p;
      }
      function removeNode(p) {
        p.next.prev = p.prev;
        p.prev.next = p.next;
        if (p.prevZ)
          p.prevZ.nextZ = p.nextZ;
        if (p.nextZ)
          p.nextZ.prevZ = p.prevZ;
      }
      function Node(i, x, y) {
        this.i = i;
        this.x = x;
        this.y = y;
        this.prev = null;
        this.next = null;
        this.z = 0;
        this.prevZ = null;
        this.nextZ = null;
        this.steiner = false;
      }
      earcut2.deviation = function(data, holeIndices, dim, triangles) {
        var hasHoles = holeIndices && holeIndices.length;
        var outerLen = hasHoles ? holeIndices[0] * dim : data.length;
        var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
        if (hasHoles) {
          for (var i = 0, len4 = holeIndices.length; i < len4; i++) {
            var start = holeIndices[i] * dim;
            var end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
            polygonArea -= Math.abs(signedArea(data, start, end, dim));
          }
        }
        var trianglesArea = 0;
        for (i = 0; i < triangles.length; i += 3) {
          var a = triangles[i] * dim;
          var b = triangles[i + 1] * dim;
          var c = triangles[i + 2] * dim;
          trianglesArea += Math.abs(
            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) - (data[a] - data[b]) * (data[c + 1] - data[a + 1])
          );
        }
        return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);
      };
      function signedArea(data, start, end, dim) {
        var sum = 0;
        for (var i = start, j = end - dim; i < end; i += dim) {
          sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
          j = i;
        }
        return sum;
      }
      earcut2.flatten = function(data) {
        var dim = data[0][0].length, result = { vertices: [], holes: [], dimensions: dim }, holeIndex = 0;
        for (var i = 0; i < data.length; i++) {
          for (var j = 0; j < data[i].length; j++) {
            for (var d = 0; d < dim; d++)
              result.vertices.push(data[i][j][d]);
          }
          if (i > 0) {
            holeIndex += data[i - 1].length;
            result.holes.push(holeIndex);
          }
        }
        return result;
      };
    }
  });

  // node_modules/@wonderlandengine/components/dist/index.js
  var dist_exports = {};
  __export(dist_exports, {
    ARCamera8thwall: () => ARCamera8thwall,
    Anchor: () => Anchor,
    Cursor: () => Cursor,
    CursorTarget: () => CursorTarget,
    DebugObject: () => DebugObject,
    DeviceOrientationLook: () => DeviceOrientationLook,
    FingerCursor: () => FingerCursor,
    FixedFoveation: () => FixedFoveation,
    HandTracking: () => HandTracking,
    HitTestLocation: () => HitTestLocation,
    HowlerAudioListener: () => HowlerAudioListener,
    HowlerAudioSource: () => HowlerAudioSource,
    ImageTexture: () => ImageTexture,
    MouseLookComponent: () => MouseLookComponent,
    PlaneDetection: () => PlaneDetection,
    PlayerHeight: () => PlayerHeight,
    TargetFramerate: () => TargetFramerate,
    TeleportComponent: () => TeleportComponent,
    Trail: () => Trail,
    TwoJointIkSolver: () => TwoJointIkSolver,
    VideoTexture: () => VideoTexture,
    VrModeActiveSwitch: () => VrModeActiveSwitch,
    Vrm: () => Vrm,
    WasdControlsComponent: () => WasdControlsComponent,
    isPointLocalOnXRPlanePolygon: () => isPointLocalOnXRPlanePolygon,
    isPointWorldOnXRPlanePolygon: () => isPointWorldOnXRPlanePolygon
  });

  // node_modules/@wonderlandengine/api/dist/property.js
  var Type;
  (function(Type2) {
    Type2[Type2["Native"] = 1] = "Native";
    Type2[Type2["Bool"] = 2] = "Bool";
    Type2[Type2["Int"] = 4] = "Int";
    Type2[Type2["Float"] = 8] = "Float";
    Type2[Type2["String"] = 16] = "String";
    Type2[Type2["Enum"] = 32] = "Enum";
    Type2[Type2["Object"] = 64] = "Object";
    Type2[Type2["Mesh"] = 128] = "Mesh";
    Type2[Type2["Texture"] = 256] = "Texture";
    Type2[Type2["Material"] = 512] = "Material";
    Type2[Type2["Animation"] = 1024] = "Animation";
    Type2[Type2["Skin"] = 2048] = "Skin";
    Type2[Type2["Color"] = 4096] = "Color";
  })(Type || (Type = {}));
  var Property = {
    /**
     * Create an boolean property.
     *
     * @param defaultValue The default value. If not provided, defaults to `false`.
     */
    bool(defaultValue = false) {
      return { type: Type.Bool, default: defaultValue };
    },
    /**
     * Create an integer property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0`.
     */
    int(defaultValue = 0) {
      return { type: Type.Int, default: defaultValue };
    },
    /**
     * Create an float property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0.0`.
     */
    float(defaultValue = 0) {
      return { type: Type.Float, default: defaultValue };
    },
    /**
     * Create an string property.
     *
     * @param defaultValue The default value. If not provided, defaults to `''`.
     */
    string(defaultValue = "") {
      return { type: Type.String, default: defaultValue };
    },
    /**
     * Create an enumeration property.
     *
     * @param values The list of values.
     * @param defaultValue The default value. Can be a string or an index into
     *     `values`. If not provided, defaults to the first element.
     */
    enum(values, defaultValue) {
      return { type: Type.Enum, values, default: defaultValue };
    },
    /** Create an {@link Object3D} reference property. */
    object(opts) {
      return { type: Type.Object, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Mesh} reference property. */
    mesh(opts) {
      return { type: Type.Mesh, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Texture} reference property. */
    texture(opts) {
      return { type: Type.Texture, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Material} reference property. */
    material(opts) {
      return { type: Type.Material, default: null, required: opts?.required ?? false };
    },
    /** Create an {@link Animation} reference property. */
    animation(opts) {
      return { type: Type.Animation, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Skin} reference property. */
    skin(opts) {
      return { type: Type.Skin, default: null, required: opts?.required ?? false };
    },
    /**
     * Create a color property.
     *
     * @param r The red component, in the range [0; 1].
     * @param g The green component, in the range [0; 1].
     * @param b The blue component, in the range [0; 1].
     * @param a The alpha component, in the range [0; 1].
     */
    color(r = 0, g = 0, b = 0, a = 1) {
      return { type: Type.Color, default: [r, g, b, a] };
    }
  };

  // node_modules/@wonderlandengine/api/dist/decorators.js
  function propertyDecorator(data) {
    return function(target, propertyKey) {
      const ctor = target.constructor;
      ctor.Properties = ctor.hasOwnProperty("Properties") ? ctor.Properties : {};
      ctor.Properties[propertyKey] = data;
    };
  }
  function enumerable() {
    return function(_, __, descriptor) {
      descriptor.enumerable = true;
    };
  }
  function nativeProperty() {
    return function(target, propertyKey, descriptor) {
      enumerable()(target, propertyKey, descriptor);
      propertyDecorator({ type: Type.Native })(target, propertyKey);
    };
  }
  var property = {};
  for (const name in Property) {
    property[name] = (...args) => {
      const functor = Property[name];
      return propertyDecorator(functor(...args));
    };
  }

  // node_modules/@wonderlandengine/api/dist/utils/object.js
  function isNumber(value) {
    if (value === null || value === void 0)
      return false;
    return typeof value === "number" || value.constructor === Number;
  }

  // node_modules/@wonderlandengine/api/dist/utils/event.js
  var Emitter = class {
    /**
     * List of listeners to trigger when `notify` is called.
     *
     * @hidden
     */
    _listeners = [];
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Basic usage:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * });
     * ```
     *
     * Automatically remove the listener when an event is received:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * }, {once: true});
     * ```
     *
     * @param listener The callback to register.
     * @param opts The listener options. For more information, please have a look
     *     at the {@link ListenerOptions} interface.
     *
     * @returns Reference to self (for method chaining)
     */
    add(listener, opts = {}) {
      const { once = false, id = void 0 } = opts;
      this._listeners.push({ id, once, callback: listener });
      return this;
    }
    /**
     * Equivalent to {@link Emitter.add}.
     *
     * @param listeners The callback(s) to register.
     * @returns Reference to self (for method chaining).
     *
     * @deprecated Please use {@link Emitter.add} instead.
     */
    push(...listeners) {
      for (const cb of listeners)
        this.add(cb);
      return this;
    }
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Once notified, the listener will be automatically removed.
     *
     * The method is equivalent to calling {@link Emitter.add} with:
     *
     * ```js
     * emitter.add(listener, {once: true});
     * ```
     *
     * @param listener The callback to register.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener) {
      return this.add(listener, { once: true });
    }
    /**
     * Remove a registered listener.
     *
     * Usage with a callback:
     *
     * ```js
     * const listener = (data) => console.log(data);
     * emitter.add(listener);
     *
     * // Remove using the callback reference:
     * emitter.remove(listener);
     * ```
     *
     * Usage with an id:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'my-callback'});
     *
     * // Remove using the id:
     * emitter.remove('my-callback');
     * ```
     *
     * Using identifiers, you will need to ensure your value is unique to avoid
     * removing listeners from other libraries, e.g.,:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'non-unique'});
     * // This second listener could be added by a third-party library.
     * emitter.add((data) => console.log('Hello From Library!'), {id: 'non-unique'});
     *
     * // Ho Snap! This also removed the library listener!
     * emitter.remove('non-unique');
     * ```
     *
     * The identifier can be any type. However, remember that the comparison will be
     * by-value for primitive types (string, number), but by reference for objects.
     *
     * Example:
     *
     * ```js
     * emitter.add(() => console.log('Hello'), {id: {value: 42}});
     * emitter.add(() => console.log('World!'), {id: {value: 42}});
     * emitter.remove({value: 42}); // None of the above listeners match!
     * emitter.notify(); // Prints 'Hello' and 'World!'.
     * ```
     *
     * Here, both emitters have id `{value: 42}`, but the comparison is made by reference. Thus,
     * the `remove()` call has no effect. We can make it work by doing:
     *
     * ```js
     * const id = {value: 42};
     * emitter.add(() => console.log('Hello'), {id});
     * emitter.add(() => console.log('World!'), {id});
     * emitter.remove(id); // Same reference, it works!
     * emitter.notify(); // Doesn't print.
     * ```
     *
     * @param listener The registered callback or a value representing the `id`.
     *
     * @returns Reference to self (for method chaining)
     */
    remove(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener) {
          listeners.splice(i--, 1);
        }
      }
      return this;
    }
    /**
     * Check whether the listener is registered.
     *
     * @note This method performs a linear search.
     *
     * @param listener The registered callback or a value representing the `id`.
     * @returns `true` if the handle is found, `false` otherwise.
     */
    has(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener)
          return true;
      }
      return false;
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note This method ensures all listeners are called even if
     * an exception is thrown. For (possibly) faster notification,
     * please use {@link Emitter.notifyUnsafe}.
     *
     * @param data The data to pass to listener when invoked.
     */
    notify(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        try {
          listener.callback(...data);
        } catch (e) {
          console.error(e);
        }
      }
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note Because this method doesn't catch exceptions, some listeners
     * will be skipped on a throw. Please use {@link Emitter.notify} for safe
     * notification.
     *
     * @param data The data to pass to listener when invoked.
     */
    notifyUnsafe(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        listener.callback(...data);
      }
    }
    /**
     * Return a promise that will resolve on the next event.
     *
     * @note The promise might never resolve if no event is sent.
     *
     * @returns A promise that resolves with the data passed to
     *     {@link Emitter.notify}.
     */
    promise() {
      return new Promise((res, _) => {
        this.once((...args) => {
          if (args.length > 1) {
            res(args);
          } else {
            res(args[0]);
          }
        });
      });
    }
    /** Number of listeners. */
    get listenerCount() {
      return this._listeners.length;
    }
    /** `true` if it has no listeners, `false` otherwise. */
    get isEmpty() {
      return this.listenerCount === 0;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wonderland.js
  var __decorate = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var Collider;
  (function(Collider2) {
    Collider2[Collider2["Sphere"] = 0] = "Sphere";
    Collider2[Collider2["AxisAlignedBox"] = 1] = "AxisAlignedBox";
    Collider2[Collider2["Box"] = 2] = "Box";
  })(Collider || (Collider = {}));
  var Alignment;
  (function(Alignment2) {
    Alignment2[Alignment2["Left"] = 0] = "Left";
    Alignment2[Alignment2["Center"] = 1] = "Center";
    Alignment2[Alignment2["Right"] = 2] = "Right";
  })(Alignment || (Alignment = {}));
  var Justification;
  (function(Justification2) {
    Justification2[Justification2["Line"] = 0] = "Line";
    Justification2[Justification2["Middle"] = 1] = "Middle";
    Justification2[Justification2["Top"] = 2] = "Top";
    Justification2[Justification2["Bottom"] = 3] = "Bottom";
  })(Justification || (Justification = {}));
  var TextEffect;
  (function(TextEffect2) {
    TextEffect2[TextEffect2["None"] = 0] = "None";
    TextEffect2[TextEffect2["Outline"] = 1] = "Outline";
  })(TextEffect || (TextEffect = {}));
  var InputType;
  (function(InputType2) {
    InputType2[InputType2["Head"] = 0] = "Head";
    InputType2[InputType2["EyeLeft"] = 1] = "EyeLeft";
    InputType2[InputType2["EyeRight"] = 2] = "EyeRight";
    InputType2[InputType2["ControllerLeft"] = 3] = "ControllerLeft";
    InputType2[InputType2["ControllerRight"] = 4] = "ControllerRight";
    InputType2[InputType2["RayLeft"] = 5] = "RayLeft";
    InputType2[InputType2["RayRight"] = 6] = "RayRight";
  })(InputType || (InputType = {}));
  var LightType;
  (function(LightType2) {
    LightType2[LightType2["Point"] = 0] = "Point";
    LightType2[LightType2["Spot"] = 1] = "Spot";
    LightType2[LightType2["Sun"] = 2] = "Sun";
  })(LightType || (LightType = {}));
  var AnimationState;
  (function(AnimationState2) {
    AnimationState2[AnimationState2["Playing"] = 0] = "Playing";
    AnimationState2[AnimationState2["Paused"] = 1] = "Paused";
    AnimationState2[AnimationState2["Stopped"] = 2] = "Stopped";
  })(AnimationState || (AnimationState = {}));
  var ForceMode;
  (function(ForceMode2) {
    ForceMode2[ForceMode2["Force"] = 0] = "Force";
    ForceMode2[ForceMode2["Impulse"] = 1] = "Impulse";
    ForceMode2[ForceMode2["VelocityChange"] = 2] = "VelocityChange";
    ForceMode2[ForceMode2["Acceleration"] = 3] = "Acceleration";
  })(ForceMode || (ForceMode = {}));
  var CollisionEventType;
  (function(CollisionEventType2) {
    CollisionEventType2[CollisionEventType2["Touch"] = 0] = "Touch";
    CollisionEventType2[CollisionEventType2["TouchLost"] = 1] = "TouchLost";
    CollisionEventType2[CollisionEventType2["TriggerTouch"] = 2] = "TriggerTouch";
    CollisionEventType2[CollisionEventType2["TriggerTouchLost"] = 3] = "TriggerTouchLost";
  })(CollisionEventType || (CollisionEventType = {}));
  var Shape;
  (function(Shape2) {
    Shape2[Shape2["None"] = 0] = "None";
    Shape2[Shape2["Sphere"] = 1] = "Sphere";
    Shape2[Shape2["Capsule"] = 2] = "Capsule";
    Shape2[Shape2["Box"] = 3] = "Box";
    Shape2[Shape2["Plane"] = 4] = "Plane";
    Shape2[Shape2["ConvexMesh"] = 5] = "ConvexMesh";
    Shape2[Shape2["TriangleMesh"] = 6] = "TriangleMesh";
  })(Shape || (Shape = {}));
  var MeshAttribute;
  (function(MeshAttribute2) {
    MeshAttribute2[MeshAttribute2["Position"] = 0] = "Position";
    MeshAttribute2[MeshAttribute2["Tangent"] = 1] = "Tangent";
    MeshAttribute2[MeshAttribute2["Normal"] = 2] = "Normal";
    MeshAttribute2[MeshAttribute2["TextureCoordinate"] = 3] = "TextureCoordinate";
    MeshAttribute2[MeshAttribute2["Color"] = 4] = "Color";
    MeshAttribute2[MeshAttribute2["JointId"] = 5] = "JointId";
    MeshAttribute2[MeshAttribute2["JointWeight"] = 6] = "JointWeight";
  })(MeshAttribute || (MeshAttribute = {}));
  var MaterialParamType;
  (function(MaterialParamType2) {
    MaterialParamType2[MaterialParamType2["UnsignedInt"] = 0] = "UnsignedInt";
    MaterialParamType2[MaterialParamType2["Int"] = 1] = "Int";
    MaterialParamType2[MaterialParamType2["Float"] = 2] = "Float";
    MaterialParamType2[MaterialParamType2["Sampler"] = 3] = "Sampler";
    MaterialParamType2[MaterialParamType2["Font"] = 4] = "Font";
  })(MaterialParamType || (MaterialParamType = {}));
  function isMeshShape(shape) {
    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;
  }
  var SQRT_3 = Math.sqrt(3);
  var Component = class {
    /** Manager index. @hidden */
    _manager;
    /** Instance index. @hidden */
    _id;
    /**
     * Object containing this object.
     *
     * **Note**: This is cached for faster retrieval.
     *
     * @hidden
     */
    _object;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance
     *
     * @param engine The engine instance.
     * @param manager Index of the manager.
     * @param id WASM component instance index.
     *
     * @hidden
     */
    constructor(engine, manager = -1, id = -1) {
      this._engine = engine;
      this._manager = manager;
      this._id = id;
      this._object = null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /** The name of this component's type */
    get type() {
      const ctor = this.constructor;
      return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);
    }
    /** The object this component is attached to. */
    get object() {
      if (!this._object) {
        const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);
        this._object = this._engine.wrapObject(objectId);
      }
      return this._object;
    }
    /**
     * Set whether this component is active.
     *
     * Activating/deactivating a component comes at a small cost of reordering
     * components in the respective component manager. This function therefore
     * is not a trivial assignment.
     *
     * Does nothing if the component is already activated/deactivated.
     *
     * @param active New active state.
     */
    set active(active) {
      this._engine.wasm._wl_component_setActive(this._manager, this._id, active);
    }
    /**
     * Whether this component is active
     */
    get active() {
      return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;
    }
    /**
     * Remove this component from its objects and destroy it.
     *
     * It is best practice to set the component to `null` after,
     * to ensure it does not get used later.
     *
     * ```js
     *    c.destroy();
     *    c = null;
     * ```
     * @since 0.9.0
     */
    destroy() {
      if (this._manager < 0 || this._id < 0)
        return;
      const cache = this._engine._componentCache[this._manager];
      if (cache)
        cache[this._id] = null;
      this._engine.wasm._wl_component_remove(this._manager, this._id);
      this._manager = -1;
      this._id = -1;
    }
    /**
     * Checks equality by comparing whether the wrapped native component ids
     * and component manager types are equal.
     *
     * @param otherComponent Component to check equality with.
     * @returns Whether this component equals the given component.
     */
    equals(otherComponent) {
      if (!otherComponent)
        return false;
      return this._manager == otherComponent._manager && this._id == otherComponent._id;
    }
    /**
     * Reset the component properties to default.
     *
     * @note This is automatically called during the component instantiation.
     *
     * @returns Reference to self (for method chaining).
     */
    resetProperties() {
      const ctor = this.constructor;
      const properties = ctor.Properties;
      if (!properties)
        return this;
      for (const name in properties) {
        this[name] = properties[name].default;
      }
      return this;
    }
    /** @deprecated Use {@link Component.resetProperties} instead. */
    reset() {
      return this.resetProperties();
    }
    /**
     * Validate the properties on this instance.
     *
     * @throws If any of the required properties isn't initialized
     * on this instance.
     */
    validateProperties() {
      const ctor = this.constructor;
      if (!ctor.Properties)
        return;
      for (const name in ctor.Properties) {
        if (!ctor.Properties[name].required)
          continue;
        if (!this[name]) {
          throw new Error(`Property '${name}' is required but was not initialized`);
        }
      }
    }
    /**
     * Trigger the component {@link Component.init} method.
     *
     * @note Use this method instead of directly calling {@link Component.init},
     * because this method creates an handler for the {@link Component.start}.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerInit() {
      if (this.init) {
        try {
          this.init();
        } catch (e) {
          console.error(`Exception during ${this.type} init() on object ${this.object.name}`);
          console.error(e);
        }
      }
      const oldActivate = this.onActivate;
      this.onActivate = function() {
        this.onActivate = oldActivate;
        let failed = false;
        try {
          this.validateProperties();
        } catch (e) {
          console.error(`Exception during ${this.type} validateProperties() on object ${this.object.name}`);
          console.error(e);
          failed = true;
        }
        try {
          this.start?.();
        } catch (e) {
          console.error(`Exception during ${this.type} start() on object ${this.object.name}`);
          console.error(e);
          failed = true;
        }
        if (failed) {
          this.active = false;
          return;
        }
        if (!this.onActivate)
          return;
        try {
          this.onActivate();
        } catch (e) {
          console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);
          console.error(e);
        }
      };
    }
    /**
     * Trigger the component {@link Component.update} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerUpdate(dt) {
      if (!this.update)
        return;
      try {
        this.update(dt);
      } catch (e) {
        console.error(`Exception during ${this.type} update() on object ${this.object.name}`);
        console.error(e);
        if (this._engine.wasm._deactivate_component_on_error) {
          this.active = false;
        }
      }
    }
    /**
     * Trigger the component {@link Component.onActivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnActivate() {
      if (!this.onActivate)
        return;
      try {
        this.onActivate();
      } catch (e) {
        console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);
        console.error(e);
      }
    }
    /**
     * Trigger the component {@link Component.onDeactivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDeactivate() {
      if (!this.onDeactivate)
        return;
      try {
        this.onDeactivate();
      } catch (e) {
        console.error(`Exception during ${this.type} onDeactivate() on object ${this.object.name}`);
        console.error(e);
      }
    }
    /**
     * Trigger the component {@link Component.onDestroy} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDestroy() {
      if (!this.onDestroy)
        return;
      try {
        this.onDestroy();
      } catch (e) {
        console.error(`Exception during ${this.type} onDestroy() on object ${this.object.name}`);
        console.error(e);
      }
    }
  };
  /**
   * `true` for every class inheriting from this class.
   *
   * @note This is a workaround for `instanceof` to prevent issues
   * that could arise when an application ends up using multiple API versions.
   *
   * @hidden
   */
  __publicField(Component, "_isBaseComponent", true);
  /**
   * Unique identifier for this component class.
   *
   * This is used to register, add, and retrieve components of a given type.
   */
  __publicField(Component, "TypeName");
  /**
   * Properties of this component class.
   *
   * Properties are public attributes that can be configured via the
   * Wonderland Editor.
   *
   * Example:
   *
   * ```js
   * import { Component, Type } from '@wonderlandengine/api';
   * class MyComponent extends Component {
   *     static TypeName = 'my-component';
   *     static Properties = {
   *         myBoolean: { type: Type.Boolean, default: false },
   *         myFloat: { type: Type.Float, default: false },
   *         myTexture: { type: Type.Texture, default: null },
   *     };
   * }
   * ```
   *
   * Properties are automatically added to each component instance, and are
   * accessible like any JS attribute:
   *
   * ```js
   * // Creates a new component and set each properties value:
   * const myComponent = object.addComponent(MyComponent, {
   *     myBoolean: true,
   *     myFloat: 42.0,
   *     myTexture: null
   * });
   *
   * // You can also override the properties on the instance:
   * myComponent.myBoolean = false;
   * myComponent.myFloat = -42.0;
   * ```
   *
   * ## References
   *
   * Reference types (i.e., mesh, object, etc...) can also be listed as **required**:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class MyComponent extends Component {
   *     static Properties = {
   *         myObject: Property.object({required: true}),
   *         myAnimation: Property.animation({required: true}),
   *         myTexture: Property.texture({required: true}),
   *         myMesh: Property.mesh({required: true}),
   *     }
   * }
   * ```
   *
   * Please note that references are validated **once** before the call to {@link Component.start} only,
   * via the {@link Component.validateProperties} method.
   */
  __publicField(Component, "Properties");
  /**
   * When set to `true`, the child class inherits from the parent
   * properties, as shown in the following example:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class Parent extends Component {
   *     static TypeName = 'parent';
   *     static Properties = {parentName: Property.string('parent')}
   * }
   *
   * class Child extends Parent {
   *     static TypeName = 'child';
   *     static Properties = {name: Property.string('child')}
   *     static InheritProperties = true;
   *
   *     start() {
   *         // Works because `InheritProperties` is `true`.
   *         console.log(`${this.name} inherits from ${this.parentName}`);
   *     }
   * }
   * ```
   *
   * @note Properties defined in descendant classes will override properties
   * with the same name defined in ancestor classes.
   *
   * Defaults to `true`.
   */
  __publicField(Component, "InheritProperties");
  /**
   * Called when this component class is registered.
   *
   * @example
   *
   * This callback can be used to register dependencies of a component,
   * e.g., component classes that need to be registered in order to add
   * them at runtime with {@link Object3D.addComponent}, independent of whether
   * they are used in the editor.
   *
   * ```js
   * class Spawner extends Component {
   *     static TypeName = 'spawner';
   *
   *     static onRegister(engine) {
   *         engine.registerComponent(SpawnedComponent);
   *     }
   *
   *     // You can now use addComponent with SpawnedComponent
   * }
   * ```
   *
   * @example
   *
   * This callback can be used to register different implementations of a
   * component depending on client features or API versions.
   *
   * ```js
   * // Properties need to be the same for all implementations!
   * const SharedProperties = {};
   *
   * class Anchor extends Component {
   *     static TypeName = 'spawner';
   *     static Properties = SharedProperties;
   *
   *     static onRegister(engine) {
   *         if(navigator.xr === undefined) {
   *             /* WebXR unsupported, keep this dummy component *\/
   *             return;
   *         }
   *         /* WebXR supported! Override already registered dummy implementation
   *          * with one depending on hit-test API support *\/
   *         engine.registerComponent(window.HitTestSource === undefined ?
   *             AnchorWithoutHitTest : AnchorWithHitTest);
   *     }
   *
   *     // This one implements no functions
   * }
   * ```
   */
  __publicField(Component, "onRegister");
  var _CollisionComponent = class extends Component {
    /** Collision component collider */
    get collider() {
      return this._engine.wasm._wl_collision_component_get_collider(this._id);
    }
    /**
     * Set collision component collider.
     *
     * @param collider Collider of the collision component.
     */
    set collider(collider) {
      this._engine.wasm._wl_collision_component_set_collider(this._id, collider);
    }
    /**
     * Collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the returned vector is used.
     */
    get extents() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
    }
    /**
     * Set collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the passed vector is used.
     *
     * Example:
     *
     * ```js
     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.
     * collision.extent = [1, 2, 3];
     * ```
     *
     * @param extents Extents of the collision component, expects a
     *      3 component array.
     */
    set extents(extents) {
      this.extents.set(extents);
    }
    /**
     * Get collision component radius.
     *
     * @note If {@link collider} is not {@link Collider.Sphere}, the returned value
     * corresponds to the radius of a sphere enclosing the shape.
     *
     * Example:
     * ```js
     * sphere.radius = 3.0;
     * console.log(sphere.radius); // 3.0
     *
     * box.extents = [2.0, 2.0, 2.0];
     * console.log(box.radius); // 1.732...
     * ```
     *
     */
    get radius() {
      const wasm = this._engine.wasm;
      if (this.collider === Collider.Sphere)
        return wasm.HEAPF32[wasm._wl_collision_component_get_extents(this._id) >> 2];
      const extents = new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
      const x2 = extents[0] * extents[0];
      const y2 = extents[1] * extents[1];
      const z2 = extents[2] * extents[2];
      return Math.sqrt(x2 + y2 + z2) / 2;
    }
    /**
     * Set collision component radius.
     *
     * @param radius Radius of the collision component
     *
     * @note If {@link collider} is not {@link Collider.Sphere},
     * the extents are set to form a square that fits a sphere with the provided radius.
     *
     * Example:
     * ```js
     * aabbCollision.radius = 2.0; // AABB fits a sphere of radius 2.0
     * boxCollision.radius = 3.0; // Box now fits a sphere of radius 3.0, keeping orientation
     * ```
     *
     */
    set radius(radius) {
      const length5 = this.collider === Collider.Sphere ? radius : 2 * radius / SQRT_3;
      this.extents.set([length5, length5, length5]);
    }
    /**
     * Collision component group.
     *
     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}
     * or the group in {@link Scene#rayCast}.
     *
     * Colliders that have no common groups will not overlap with each other. If a collider
     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.
     *
     * Each bit represents belonging to a group, see example.
     *
     * ```js
     *    // c belongs to group 2
     *    c.group = (1 << 2);
     *
     *    // c belongs to group 0
     *    c.group = (1 << 0);
     *
     *    // c belongs to group 0 *and* 2
     *    c.group = (1 << 0) | (1 << 2);
     *
     *    (c.group & (1 << 2)) != 0; // true
     *    (c.group & (1 << 7)) != 0; // false
     * ```
     */
    get group() {
      return this._engine.wasm._wl_collision_component_get_group(this._id);
    }
    /**
     * Set collision component group.
     *
     * @param group Group mask of the collision component.
     */
    set group(group) {
      this._engine.wasm._wl_collision_component_set_group(this._id, group);
    }
    /**
     * Query overlapping objects.
     *
     * Usage:
     *
     * ```js
     * const collision = object.getComponent('collision');
     * const overlaps = collision.queryOverlaps();
     * for(const otherCollision of overlaps) {
     *     const otherObject = otherCollision.object;
     *     console.log(`Collision with object ${otherObject.objectId}`);
     * }
     * ```
     *
     * @returns Collision components overlapping this collider.
     */
    queryOverlaps() {
      const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);
      const overlaps = new Array(count);
      for (let i = 0; i < count; ++i) {
        overlaps[i] = new _CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);
      }
      return overlaps;
    }
  };
  var CollisionComponent = _CollisionComponent;
  /** @override */
  __publicField(CollisionComponent, "TypeName", "collision");
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "collider", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "group", null);
  var TextComponent = class extends Component {
    /** Text component alignment. */
    get alignment() {
      return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);
    }
    /**
     * Set text component alignment.
     *
     * @param alignment Alignment for the text component.
     */
    set alignment(alignment) {
      this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);
    }
    /** Text component justification. */
    get justification() {
      return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);
    }
    /**
     * Set text component justification.
     *
     * @param justification Justification for the text component.
     */
    set justification(justification) {
      this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);
    }
    /** Text component character spacing. */
    get characterSpacing() {
      return this._engine.wasm._wl_text_component_get_character_spacing(this._id);
    }
    /**
     * Set text component character spacing.
     *
     * @param spacing Character spacing for the text component.
     */
    set characterSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);
    }
    /** Text component line spacing. */
    get lineSpacing() {
      return this._engine.wasm._wl_text_component_get_line_spacing(this._id);
    }
    /**
     * Set text component line spacing
     *
     * @param spacing Line spacing for the text component
     */
    set lineSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);
    }
    /** Text component effect. */
    get effect() {
      return this._engine.wasm._wl_text_component_get_effect(this._id);
    }
    /**
     * Set text component effect
     *
     * @param effect Effect for the text component
     */
    set effect(effect) {
      this._engine.wasm._wl_text_component_set_effect(this._id, effect);
    }
    /** Text component text. */
    get text() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_text_component_get_text(this._id);
      return wasm.UTF8ToString(ptr);
    }
    /**
     * Set text component text.
     *
     * @param text Text of the text component.
     */
    set text(text) {
      const wasm = this._engine.wasm;
      wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text.toString()));
    }
    /**
     * Set material to render the text with.
     *
     * @param material New material.
     */
    set material(material) {
      const matIndex = material ? material._index : 0;
      this._engine.wasm._wl_text_component_set_material(this._id, matIndex);
    }
    /** Material used to render the text. */
    get material() {
      const id = this._engine.wasm._wl_text_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
  };
  /** @override */
  __publicField(TextComponent, "TypeName", "text");
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "alignment", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "justification", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "characterSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "lineSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "effect", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "text", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "material", null);
  var ViewComponent = class extends Component {
    /** Projection matrix. */
    get projectionMatrix() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);
    }
    /** ViewComponent near clipping plane value. */
    get near() {
      return this._engine.wasm._wl_view_component_get_near(this._id);
    }
    /**
     * Set near clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param near Near depth value.
     */
    set near(near) {
      this._engine.wasm._wl_view_component_set_near(this._id, near);
    }
    /** Far clipping plane value. */
    get far() {
      return this._engine.wasm._wl_view_component_get_far(this._id);
    }
    /**
     * Set far clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param far Near depth value.
     */
    set far(far) {
      this._engine.wasm._wl_view_component_set_far(this._id, far);
    }
    /**
     * Get the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, this returns the field of view reported by
     * the device, regardless of the fov that was set.
     */
    get fov() {
      return this._engine.wasm._wl_view_component_get_fov(this._id);
    }
    /**
     * Set the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, the field of view reported by the device is
     * used and this value is ignored. After the XR session ends, the new value
     * is applied.
     *
     * @param fov Horizontal field of view, **in degrees**.
     */
    set fov(fov) {
      this._engine.wasm._wl_view_component_set_fov(this._id, fov);
    }
  };
  /** @override */
  __publicField(ViewComponent, "TypeName", "view");
  __decorate([
    enumerable()
  ], ViewComponent.prototype, "projectionMatrix", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "near", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "far", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "fov", null);
  var InputComponent = class extends Component {
    /** Input component type */
    get inputType() {
      return this._engine.wasm._wl_input_component_get_type(this._id);
    }
    /**
     * Set input component type.
     *
     * @params New input component type.
     */
    set inputType(type) {
      this._engine.wasm._wl_input_component_set_type(this._id, type);
    }
    /**
     * WebXR Device API input source associated with this input component,
     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.
     */
    get xrInputSource() {
      const xrSession = this._engine.xrSession;
      if (xrSession) {
        for (let inputSource of xrSession.inputSources) {
          if (inputSource.handedness == this.handedness) {
            return inputSource;
          }
        }
      }
      return null;
    }
    /**
     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.
     */
    get handedness() {
      const inputType = this.inputType;
      if (inputType == InputType.ControllerRight || inputType == InputType.RayRight || inputType == InputType.EyeRight)
        return "right";
      if (inputType == InputType.ControllerLeft || inputType == InputType.RayLeft || inputType == InputType.EyeLeft)
        return "left";
      return null;
    }
  };
  /** @override */
  __publicField(InputComponent, "TypeName", "input");
  __decorate([
    nativeProperty()
  ], InputComponent.prototype, "inputType", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "xrInputSource", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "handedness", null);
  var LightComponent = class extends Component {
    getColor(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set light color.
     *
     * @param c New color array/vector, expected to have at least 3 elements.
     * @since 1.0.0
     */
    setColor(c) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      wasm.HEAPF32[ptr] = c[0];
      wasm.HEAPF32[ptr + 1] = c[1];
      wasm.HEAPF32[ptr + 2] = c[2];
    }
    /**
     * View on the light color.
     *
     * @note Prefer to use {@link getColor} in performance-critical code.
     */
    get color() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 3);
    }
    /**
     * Set light color.
     *
     * @param c Color of the light component.
     *
     * @note Prefer to use {@link setColor} in performance-critical code.
     */
    set color(c) {
      this.color.set(c);
    }
    /** Light type. */
    get lightType() {
      return this._engine.wasm._wl_light_component_get_type(this._id);
    }
    /**
     * Set light type.
     *
     * @param lightType Type of the light component.
     */
    set lightType(t) {
      this._engine.wasm._wl_light_component_set_type(this._id, t);
    }
    /**
     * Light intensity.
     * @since 1.0.0
     */
    get intensity() {
      return this._engine.wasm._wl_light_component_get_intensity(this._id);
    }
    /**
     * Set light intensity.
     *
     * @param intensity Intensity of the light component.
     * @since 1.0.0
     */
    set intensity(intensity) {
      this._engine.wasm._wl_light_component_set_intensity(this._id, intensity);
    }
    /**
     * Outer angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get outerAngle() {
      return this._engine.wasm._wl_light_component_get_outerAngle(this._id);
    }
    /**
     * Set outer angle for spot lights.
     *
     * @param angle Outer angle, in degrees.
     * @since 1.0.0
     */
    set outerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_outerAngle(this._id, angle2);
    }
    /**
     * Inner angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get innerAngle() {
      return this._engine.wasm._wl_light_component_get_innerAngle(this._id);
    }
    /**
     * Set inner angle for spot lights.
     *
     * @param angle Inner angle, in degrees.
     * @since 1.0.0
     */
    set innerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_innerAngle(this._id, angle2);
    }
    /**
     * Whether the light casts shadows.
     * @since 1.0.0
     */
    get shadows() {
      return !!this._engine.wasm._wl_light_component_get_shadows(this._id);
    }
    /**
     * Set whether the light casts shadows.
     *
     * @param b Whether the light casts shadows.
     * @since 1.0.0
     */
    set shadows(b) {
      this._engine.wasm._wl_light_component_set_shadows(this._id, b);
    }
    /**
     * Range for shadows.
     * @since 1.0.0
     */
    get shadowRange() {
      return this._engine.wasm._wl_light_component_get_shadowRange(this._id);
    }
    /**
     * Set range for shadows.
     *
     * @param range Range for shadows.
     * @since 1.0.0
     */
    set shadowRange(range) {
      this._engine.wasm._wl_light_component_set_shadowRange(this._id, range);
    }
    /**
     * Bias value for shadows.
     * @since 1.0.0
     */
    get shadowBias() {
      return this._engine.wasm._wl_light_component_get_shadowBias(this._id);
    }
    /**
     * Set bias value for shadows.
     *
     * @param bias Bias for shadows.
     * @since 1.0.0
     */
    set shadowBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowBias(this._id, bias);
    }
    /**
     * Normal bias value for shadows.
     * @since 1.0.0
     */
    get shadowNormalBias() {
      return this._engine.wasm._wl_light_component_get_shadowNormalBias(this._id);
    }
    /**
     * Set normal bias value for shadows.
     *
     * @param bias Normal bias for shadows.
     * @since 1.0.0
     */
    set shadowNormalBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowNormalBias(this._id, bias);
    }
    /**
     * Texel size for shadows.
     * @since 1.0.0
     */
    get shadowTexelSize() {
      return this._engine.wasm._wl_light_component_get_shadowTexelSize(this._id);
    }
    /**
     * Set texel size for shadows.
     *
     * @param size Texel size for shadows.
     * @since 1.0.0
     */
    set shadowTexelSize(size) {
      this._engine.wasm._wl_light_component_set_shadowTexelSize(this._id, size);
    }
    /**
     * Cascade count for {@link LightType.Sun} shadows.
     * @since 1.0.0
     */
    get cascadeCount() {
      return this._engine.wasm._wl_light_component_get_cascadeCount(this._id);
    }
    /**
     * Set cascade count for {@link LightType.Sun} shadows.
     *
     * @param count Cascade count.
     * @since 1.0.0
     */
    set cascadeCount(count) {
      this._engine.wasm._wl_light_component_set_cascadeCount(this._id, count);
    }
  };
  /** @override */
  __publicField(LightComponent, "TypeName", "light");
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "color", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "lightType", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "intensity", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "outerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "innerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadows", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowRange", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowNormalBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowTexelSize", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "cascadeCount", null);
  var AnimationComponent = class extends Component {
    /**
     * Set animation to play.
     *
     * Make sure to {@link Animation#retarget} the animation to affect the
     * right objects.
     *
     * @param anim Animation to play.
     */
    set animation(anim) {
      this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);
    }
    /** Animation set for this component */
    get animation() {
      const id = this._engine.wasm._wl_animation_component_get_animation(this._id);
      return id > 0 ? new Animation(this._engine, id) : null;
    }
    /**
     * Set play count. Set to `0` to loop indefinitely.
     *
     * @param playCount Number of times to repeat the animation.
     */
    set playCount(playCount) {
      this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);
    }
    /** Number of times the animation is played. */
    get playCount() {
      return this._engine.wasm._wl_animation_component_get_playCount(this._id);
    }
    /**
     * Set speed. Set to negative values to run the animation backwards.
     *
     * Setting speed has an immediate effect for the current frame's update
     * and will continue with the speed from the current point in the animation.
     *
     * @param speed New speed at which to play the animation.
     * @since 0.8.10
     */
    set speed(speed) {
      this._engine.wasm._wl_animation_component_set_speed(this._id, speed);
    }
    /**
     * Speed factor at which the animation is played.
     *
     * @since 0.8.10
     */
    get speed() {
      return this._engine.wasm._wl_animation_component_get_speed(this._id);
    }
    /** Current playing state of the animation */
    get state() {
      return this._engine.wasm._wl_animation_component_state(this._id);
    }
    /**
     * Play animation.
     *
     * If the animation is currently paused, resumes from that position. If the
     * animation is already playing, does nothing.
     *
     * To restart the animation, {@link AnimationComponent#stop} it first.
     */
    play() {
      this._engine.wasm._wl_animation_component_play(this._id);
    }
    /** Stop animation. */
    stop() {
      this._engine.wasm._wl_animation_component_stop(this._id);
    }
    /** Pause animation. */
    pause() {
      this._engine.wasm._wl_animation_component_pause(this._id);
    }
  };
  /** @override */
  __publicField(AnimationComponent, "TypeName", "animation");
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "animation", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "playCount", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "speed", null);
  __decorate([
    enumerable()
  ], AnimationComponent.prototype, "state", null);
  var MeshComponent = class extends Component {
    /**
     * Set material to render the mesh with.
     *
     * @param material Material to render the mesh with.
     */
    set material(material) {
      this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);
    }
    /** Material used to render the mesh. */
    get material() {
      const id = this._engine.wasm._wl_mesh_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /** Mesh rendered by this component. */
    get mesh() {
      const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);
      return id > 0 ? new Mesh(this._engine, id) : null;
    }
    /**
     * Set mesh to rendered with this component.
     *
     * @param mesh Mesh rendered by this component.
     */
    set mesh(mesh) {
      this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);
    }
    /** Skin for this mesh component. */
    get skin() {
      const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);
      return id > 0 ? new Skin(this._engine, id) : null;
    }
    /**
     * Set skin to transform this mesh component.
     *
     * @param skin Skin to use for rendering skinned meshes.
     */
    set skin(skin) {
      this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);
    }
  };
  /** @override */
  __publicField(MeshComponent, "TypeName", "mesh");
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "material", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "mesh", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "skin", null);
  var LockAxis;
  (function(LockAxis2) {
    LockAxis2[LockAxis2["None"] = 0] = "None";
    LockAxis2[LockAxis2["X"] = 1] = "X";
    LockAxis2[LockAxis2["Y"] = 2] = "Y";
    LockAxis2[LockAxis2["Z"] = 4] = "Z";
  })(LockAxis || (LockAxis = {}));
  var PhysXComponent = class extends Component {
    /**
     * Set whether this rigid body is static.
     *
     * Setting this property only takes effect once the component
     * switches from inactive to active.
     *
     * @param b Whether the rigid body should be static.
     */
    set static(b) {
      this._engine.wasm._wl_physx_component_set_static(this._id, b);
    }
    /**
     * Whether this rigid body is static.
     *
     * This property returns whether the rigid body is *effectively*
     * static. If static property was set while the rigid body was
     * active, it will not take effect until the rigid body is set
     * inactive and active again. Until the component is set inactive,
     * this getter will return whether the rigid body is actually
     * static.
     */
    get static() {
      return !!this._engine.wasm._wl_physx_component_get_static(this._id);
    }
    /**
     * Set whether this rigid body is kinematic.
     *
     * @param b Whether the rigid body should be kinematic.
     */
    set kinematic(b) {
      this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);
    }
    /**
     * Whether this rigid body is kinematic.
     */
    get kinematic() {
      return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);
    }
    /**
     * Set whether this rigid body's gravity is enabled.
     *
     * @param b Whether the rigid body's gravity should be enabled.
     */
    set gravity(b) {
      this._engine.wasm._wl_physx_component_set_gravity(this._id, b);
    }
    /**
     * Whether this rigid body's gravity flag is enabled.
     */
    get gravity() {
      return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);
    }
    /**
     * Set whether this rigid body's simulate flag is enabled.
     *
     * @param b Whether the rigid body's simulate flag should be enabled.
     */
    set simulate(b) {
      this._engine.wasm._wl_physx_component_set_simulate(this._id, b);
    }
    /**
     * Whether this rigid body's simulate flag is enabled.
     */
    get simulate() {
      return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);
    }
    /**
     * Set whether to allow simulation of this rigid body.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling {@link allowSimulation} while {@link trigger} is enabled
     * will disable {@link trigger}.
     *
     * @param b Whether to allow simulation of this rigid body.
     */
    set allowSimulation(b) {
      this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);
    }
    /**
     * Whether to allow simulation of this rigid body.
     */
    get allowSimulation() {
      return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);
    }
    /**
     * Set whether this rigid body may be queried in ray casts.
     *
     * @param b Whether this rigid body may be queried in ray casts.
     */
    set allowQuery(b) {
      this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);
    }
    /**
     * Whether this rigid body may be queried in ray casts.
     */
    get allowQuery() {
      return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);
    }
    /**
     * Set whether this physics body is a trigger.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling trigger while {@link allowSimulation} is enabled,
     * will disable {@link allowSimulation}.
     *
     * @param b Whether this physics body is a trigger.
     */
    set trigger(b) {
      this._engine.wasm._wl_physx_component_set_trigger(this._id, b);
    }
    /**
     * Whether this physics body is a trigger.
     */
    get trigger() {
      return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);
    }
    /**
     * Set the shape for collision detection.
     *
     * @param s New shape.
     * @since 0.8.5
     */
    set shape(s) {
      this._engine.wasm._wl_physx_component_set_shape(this._id, s);
    }
    /** The shape for collision detection. */
    get shape() {
      return this._engine.wasm._wl_physx_component_get_shape(this._id);
    }
    /**
     * Set additional data for the shape.
     *
     * Retrieved only from {@link PhysXComponent#shapeData}.
     * @since 0.8.10
     */
    set shapeData(d) {
      if (d == null || !isMeshShape(this.shape))
        return;
      this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);
    }
    /**
     * Additional data for the shape.
     *
     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.
     * `{index: n}` for `TriangleMesh` and `ConvexHull`.
     *
     * This data is currently only for passing onto or creating other {@link PhysXComponent}.
     * @since 0.8.10
     */
    get shapeData() {
      if (!isMeshShape(this.shape))
        return null;
      return {
        index: this._engine.wasm._wl_physx_component_get_shape_data(this._id)
      };
    }
    /**
     * Set the shape extents for collision detection.
     *
     * @param e New extents for the shape.
     * @since 0.8.5
     */
    set extents(e) {
      this.extents.set(e);
    }
    /**
     * The shape extents for collision detection.
     */
    get extents() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_extents(this._id);
      return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);
    }
    /**
     * Get staticFriction.
     */
    get staticFriction() {
      return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);
    }
    /**
     * Set staticFriction.
     * @param v New staticFriction.
     */
    set staticFriction(v) {
      this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);
    }
    /**
     * Get dynamicFriction.
     */
    get dynamicFriction() {
      return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);
    }
    /**
     * Set dynamicFriction
     * @param v New dynamicDamping.
     */
    set dynamicFriction(v) {
      this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);
    }
    /**
     * Get bounciness.
     * @since 0.9.0
     */
    get bounciness() {
      return this._engine.wasm._wl_physx_component_get_bounciness(this._id);
    }
    /**
     * Set bounciness.
     * @param v New bounciness.
     * @since 0.9.0
     */
    set bounciness(v) {
      this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);
    }
    /**
     * Get linearDamping/
     */
    get linearDamping() {
      return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);
    }
    /**
     * Set linearDamping.
     * @param v New linearDamping.
     */
    set linearDamping(v) {
      this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);
    }
    /** Get angularDamping. */
    get angularDamping() {
      return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);
    }
    /**
     * Set angularDamping.
     * @param v New angularDamping.
     */
    set angularDamping(v) {
      this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);
    }
    /**
     * Set linear velocity.
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New linear velocity.
     */
    set linearVelocity(v) {
      this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Linear velocity or `[0, 0, 0]` if the component is not active. */
    get linearVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set angular velocity
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New angular velocity
     */
    set angularVelocity(v) {
      this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Angular velocity or `[0, 0, 0]` if the component is not active. */
    get angularVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set the components groups mask.
     *
     * @param flags New flags that need to be set.
     */
    set groupsMask(flags) {
      this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);
    }
    /**
     * Get the components groups mask flags.
     *
     * Each bit represents membership to group, see example.
     *
     * ```js
     * // Assign c to group 2
     * c.groupsMask = (1 << 2);
     *
     * // Assign c to group 0
     * c.groupsMask  = (1 << 0);
     *
     * // Assign c to group 0 and 2
     * c.groupsMask = (1 << 0) | (1 << 2);
     *
     * (c.groupsMask & (1 << 2)) != 0; // true
     * (c.groupsMask & (1 << 7)) != 0; // false
     * ```
     */
    get groupsMask() {
      return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);
    }
    /**
     * Set the components blocks mask.
     *
     * @param flags New flags that need to be set.
     */
    set blocksMask(flags) {
      this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);
    }
    /**
     * Get the components blocks mask flags.
     *
     * Each bit represents membership to the block, see example.
     *
     * ```js
     * // Block overlap with any objects in group 2
     * c.blocksMask = (1 << 2);
     *
     * // Block overlap with any objects in group 0
     * c.blocksMask  = (1 << 0)
     *
     * // Block overlap with any objects in group 0 and 2
     * c.blocksMask = (1 << 0) | (1 << 2);
     *
     * (c.blocksMask & (1 << 2)) != 0; // true
     * (c.blocksMask & (1 << 7)) != 0; // false
     * ```
     */
    get blocksMask() {
      return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);
    }
    /**
     * Set axes to lock for linear velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * Combine flags with Bitwise OR.
     * ```js
     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.linearLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set linearLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);
    }
    /**
     * Get the linear lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.linearLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for linear movement.
     */
    get linearLockAxis() {
      return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);
    }
    /**
     * Set axes to lock for angular velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * ```js
     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.angularLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set angularLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);
    }
    /**
     * Get the angular lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.angularLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for angular movement.
     */
    get angularLockAxis() {
      return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);
    }
    /**
     * Set mass.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * @param m New mass.
     */
    set mass(m) {
      this._engine.wasm._wl_physx_component_set_mass(this._id, m);
    }
    /** Mass */
    get mass() {
      return this._engine.wasm._wl_physx_component_get_mass(this._id);
    }
    /**
     * Set mass space interia tensor.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New mass space interatia tensor.
     */
    set massSpaceInteriaTensor(v) {
      this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);
    }
    /**
     * Apply a force.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     * @param localForce Whether the force vector is in local space, default `false`.
     * @param p Position to apply force at, default is center of mass.
     * @param local Whether position is in local space, default `false`.
     */
    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {
      const wasm = this._engine.wasm;
      if (!p) {
        wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);
        return;
      }
      wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);
    }
    /**
     * Apply torque.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     */
    addTorque(f, m = ForceMode.Force) {
      this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);
    }
    /**
     * Add on collision callback.
     *
     * @param callback Function to call when this rigid body (un)collides with any other.
     *
     * ```js
     *  let rigidBody = this.object.getComponent('physx');
     *  rigidBody.onCollision(function(type, other) {
     *      // Ignore uncollides
     *      if(type == CollisionEventType.TouchLost) return;
     *
     *      // Take damage on collision with enemies
     *      if(other.object.name.startsWith("enemy-")) {
     *          this.applyDamage(10);
     *      }
     *  }.bind(this));
     * ```
     *
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollision(callback) {
      return this.onCollisionWith(this, callback);
    }
    /**
     * Add filtered on collision callback.
     *
     * @param otherComp Component for which callbacks will
     *        be triggered. If you pass this component, the method is equivalent to.
     *        {@link PhysXComponent#onCollision}.
     * @param callback Function to call when this rigid body
     *        (un)collides with `otherComp`.
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollisionWith(otherComp, callback) {
      const physics = this._engine.physics;
      physics._callbacks[this._id] = physics._callbacks[this._id] || [];
      physics._callbacks[this._id].push(callback);
      return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);
    }
    /**
     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     *
     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     * @throws When the callback does not belong to the component.
     * @throws When the callback does not exist.
     */
    removeCollisionCallback(callbackId) {
      const physics = this._engine.physics;
      const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);
      if (r)
        physics._callbacks[this._id].splice(-r);
    }
  };
  /** @override */
  __publicField(PhysXComponent, "TypeName", "physx");
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "static", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "kinematic", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "gravity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "simulate", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowSimulation", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowQuery", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "trigger", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shape", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shapeData", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "staticFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "dynamicFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "bounciness", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "groupsMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "blocksMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "mass", null);
  var MeshIndexType;
  (function(MeshIndexType2) {
    MeshIndexType2[MeshIndexType2["UnsignedByte"] = 1] = "UnsignedByte";
    MeshIndexType2[MeshIndexType2["UnsignedShort"] = 2] = "UnsignedShort";
    MeshIndexType2[MeshIndexType2["UnsignedInt"] = 4] = "UnsignedInt";
  })(MeshIndexType || (MeshIndexType = {}));
  var MeshSkinningType;
  (function(MeshSkinningType2) {
    MeshSkinningType2[MeshSkinningType2["None"] = 0] = "None";
    MeshSkinningType2[MeshSkinningType2["FourJoints"] = 1] = "FourJoints";
    MeshSkinningType2[MeshSkinningType2["EightJoints"] = 2] = "EightJoints";
  })(MeshSkinningType || (MeshSkinningType = {}));
  var Mesh = class {
    /**
     * Index of the mesh in the manager.
     *
     * @hidden
     */
    _index = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance.
     *
     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.
     *    For more information, please have a look at the {@link MeshParameters} interface.
     */
    constructor(engine, params) {
      this._engine = engine ?? WL;
      this._index = -1;
      if (isNumber(params)) {
        this._index = params;
        return;
      }
      if (!params.vertexCount)
        throw new Error("Missing parameter 'vertexCount'");
      const wasm = this._engine.wasm;
      let indexData = 0;
      let indexType = 0;
      let indexDataSize = 0;
      if (params.indexData) {
        indexType = params.indexType || MeshIndexType.UnsignedShort;
        indexDataSize = params.indexData.length * indexType;
        indexData = wasm._malloc(indexDataSize);
        switch (indexType) {
          case MeshIndexType.UnsignedByte:
            wasm.HEAPU8.set(params.indexData, indexData);
            break;
          case MeshIndexType.UnsignedShort:
            wasm.HEAPU16.set(params.indexData, indexData >> 1);
            break;
          case MeshIndexType.UnsignedInt:
            wasm.HEAPU32.set(params.indexData, indexData >> 2);
            break;
        }
      }
      const { skinningType = MeshSkinningType.None } = params;
      this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinningType);
    }
    /** Number of vertices in this mesh. */
    get vertexCount() {
      return this._engine.wasm._wl_mesh_get_vertexCount(this._index);
    }
    /** Index data (read-only) or `null` if the mesh is not indexed. */
    get indexData() {
      const wasm = this._engine.wasm;
      const tempMem = wasm._tempMem;
      const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);
      if (ptr === null)
        return null;
      const indexCount = wasm.HEAPU32[tempMem / 4];
      const indexSize = wasm.HEAPU32[tempMem / 4 + 1];
      switch (indexSize) {
        case MeshIndexType.UnsignedByte:
          return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedShort:
          return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedInt:
          return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);
      }
      return null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Apply changes to {@link attribute | vertex attributes}.
     *
     * Uploads the updated vertex attributes to the GPU and updates the bounding
     * sphere to match the new vertex positions.
     *
     * Since this is an expensive operation, call it only once you have performed
     * all modifications on a mesh and avoid calling if you did not perform any
     * modifications at all.
     */
    update() {
      this._engine.wasm._wl_mesh_update(this._index);
    }
    getBoundingSphere(out = new Float32Array(4)) {
      const tempMemFloat = this._engine.wasm._tempMemFloat;
      this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);
      out[0] = tempMemFloat[0];
      out[1] = tempMemFloat[1];
      out[2] = tempMemFloat[2];
      out[3] = tempMemFloat[3];
      return out;
    }
    attribute(attr) {
      if (typeof attr != "number")
        throw new TypeError("Expected number, but got " + typeof attr);
      const tempMemUint32 = this._engine.wasm._tempMemUint32;
      this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);
      if (tempMemUint32[0] == 255)
        return null;
      const arraySize = tempMemUint32[5];
      return new MeshAttributeAccessor(this._engine, {
        attribute: tempMemUint32[0],
        offset: tempMemUint32[1],
        stride: tempMemUint32[2],
        formatSize: tempMemUint32[3],
        componentCount: tempMemUint32[4],
        /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */
        arraySize: arraySize ? arraySize : 1,
        length: this.vertexCount,
        bufferType: attr !== MeshAttribute.JointId ? Float32Array : Uint16Array
      });
    }
    /**
     * Destroy and free the meshes memory.
     *
     * It is best practice to set the mesh variable to `null` after calling
     * destroy to prevent accidental use:
     *
     * ```js
     *   mesh.destroy();
     *   mesh = null;
     * ```
     *
     * Accessing the mesh after destruction behaves like accessing an empty
     * mesh.
     *
     * @since 0.9.0
     */
    destroy() {
      this._engine.wasm._wl_mesh_destroy(this._index);
    }
    /**
     * Checks equality by comparing whether the wrapped native mesh ids are
     * equal.
     *
     * @param otherMesh Mesh to check equality with.
     * @returns Whether this mesh equals the given mesh.
     *
     * @since 1.0.0
     */
    equals(otherMesh) {
      if (!otherMesh)
        return false;
      return this._index === otherMesh._index;
    }
  };
  var MeshAttributeAccessor = class {
    /** Max number of elements. */
    length = 0;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Attribute index. @hidden */
    _attribute = -1;
    /** Attribute offset. @hidden */
    _offset = 0;
    /** Attribute stride. @hidden */
    _stride = 0;
    /** Format size native enum. @hidden */
    _formatSize = 0;
    /** Number of components per vertex. @hidden */
    _componentCount = 0;
    /** Number of values per vertex. @hidden */
    _arraySize = 1;
    /**
     * Class to instantiate an ArrayBuffer to get/set values.
     */
    _bufferType;
    /**
     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid
     * conditionals during get/set.
     */
    _tempBufferGetter;
    /**
     * Create a new instance.
     *
     * @note Please use {@link Mesh.attribute} to create a new instance.
     *
     * @param options Contains information about how to read the data.
     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.
     *
     * @hidden
     */
    constructor(engine, options) {
      this._engine = engine;
      const wasm = this._engine.wasm;
      this._attribute = options.attribute;
      this._offset = options.offset;
      this._stride = options.stride;
      this._formatSize = options.formatSize;
      this._componentCount = options.componentCount;
      this._arraySize = options.arraySize;
      this._bufferType = options.bufferType;
      this.length = options.length;
      this._tempBufferGetter = this._bufferType === Float32Array ? wasm.getTempBufferF32.bind(wasm) : wasm.getTempBufferU16.bind(wasm);
    }
    /**
     * Create a new TypedArray to hold this attribute's values.
     *
     * This method is useful to create a view to hold the data to
     * pass to {@link get} and {@link set}
     *
     * Example:
     *
     * ```js
     * const vertexCount = 4;
     * const positionAttribute = mesh.attribute(MeshAttribute.Position);
     *
     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.
     * const positions = positionAttribute.createArray(vertexCount);
     * ```
     *
     * @param count The number of **vertices** expected.
     * @returns A TypedArray with the appropriate format to access the data
     */
    createArray(count = 1) {
      count = count > this.length ? this.length : count;
      return new this._bufferType(count * this._componentCount * this._arraySize);
    }
    get(index, out = this.createArray()) {
      if (out.length % this._componentCount !== 0) {
        throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      }
      const dest = this._tempBufferGetter(out.length);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const destSize = elementSize * out.length;
      const srcFormatSize = this._formatSize * this._arraySize;
      const destFormatSize = this._componentCount * elementSize * this._arraySize;
      this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);
      for (let i = 0; i < out.length; ++i)
        out[i] = dest[i];
      return out;
    }
    /**
     * Set attribute element.
     *
     * @param i Index
     * @param v Value to set the element to
     *
     * `v.length` needs to be a multiple of the attributes component count, see
     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be
     * filled with the next n attribute elements, which can reduce overhead
     * of this call.
     *
     * @returns Reference to self (for method chaining)
     */
    set(i, v) {
      if (v.length % this._componentCount !== 0)
        throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const srcSize = elementSize * v.length;
      const srcFormatSize = this._componentCount * elementSize * this._arraySize;
      const destFormatSize = this._formatSize * this._arraySize;
      const wasm = this._engine.wasm;
      if (v.buffer != wasm.HEAPU8.buffer) {
        const dest = this._tempBufferGetter(v.length);
        dest.set(v);
        v = dest;
      }
      wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);
      return this;
    }
  };
  var Material = class {
    /**
     * Index of this material in the manager.
     *
     * @hidden
     */
    _index;
    /**
     * Material definition index in the scene.
     *
     * @hidden
     */
    _definition;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new Material.
     *
     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.
     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.
     */
    constructor(engine, params) {
      this._engine = engine;
      if (typeof params !== "number") {
        if (!params?.pipeline)
          throw new Error("Missing parameter 'pipeline'");
        const wasm = this._engine.wasm;
        const pipeline = params.pipeline;
        this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));
        if (this._index < 0)
          throw new Error(`No such pipeline '${pipeline}'`);
      } else {
        this._index = params;
      }
      this._definition = this._engine.wasm._wl_material_get_definition(this._index);
      if (!this._engine.wasm._materialDefinitions[this._definition])
        throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);
      return new Proxy(this, {
        get(target, prop) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param)
            return target[prop];
          if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {
            const type = param.type;
            switch (type.type) {
              case MaterialParamType.UnsignedInt:
                return type.componentCount == 1 ? wasm._tempMemUint32[0] : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Int:
                return type.componentCount == 1 ? wasm._tempMemInt[0] : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Float:
                return type.componentCount == 1 ? wasm._tempMemFloat[0] : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Sampler:
                return engine.textures.wrap(wasm._tempMemInt[0]);
              default:
                throw new Error(`Invalid type ${type.type} on parameter ${param.index} for material ${target._index}`);
            }
          }
        },
        set(target, prop, value) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param) {
            target[prop] = value;
            return true;
          }
          const type = param.type;
          switch (type.type) {
            case MaterialParamType.UnsignedInt:
            case MaterialParamType.Int:
            case MaterialParamType.Sampler:
              const v = value.id ?? value;
              wasm._wl_material_set_param_value_uint(target._index, param.index, v);
              break;
            case MaterialParamType.Float:
              let count = 1;
              if (typeof value === "number") {
                wasm._tempMemFloat[0] = value;
              } else {
                count = value.length;
                for (let i = 0; i < count; ++i)
                  wasm._tempMemFloat[i] = value[i];
              }
              wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);
              break;
            case MaterialParamType.Font:
              throw new Error("Setting font properties is currently unsupported.");
          }
          return true;
        }
      });
    }
    /** @deprecated Use {@link #pipeline} instead. */
    get shader() {
      return this.pipeline;
    }
    /** Name of the pipeline used by this material. */
    get pipeline() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_material_get_pipeline(this._index));
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Create a copy of the underlying native material.
     *
     * @returns Material clone.
     */
    clone() {
      const id = this._engine.wasm._wl_material_clone(this._index);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /**
     * Checks equality by comparing whether the wrapped native material ids are
     * equal.
     *
     * @param otherMaterial Material to check equality with.
     * @returns Whether this material equals the given material.
     *
     * @since 1.0.0
     */
    equals(otherMaterial) {
      if (!otherMaterial)
        return false;
      return this._index === otherMaterial._index;
    }
    /**
     * Wrap a native material index.
     *
     * @param engine Engine instance.
     * @param index The index.
     * @returns Material instance or `null` if index <= 0.
     *
     * @deprecated Please use `new Material()` instead.
     */
    static wrap(engine, index) {
      return index > 0 ? new Material(engine, index) : null;
    }
  };
  var temp2d = null;
  var Texture = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Index in the manager. @hidden */
    _id = 0;
    /** HTML image index. @hidden */
    _imageIndex = null;
    /**
     * @param engine The engine instance
     * @param param HTML media element to create texture from or texture id to wrap.
     */
    constructor(engine, param) {
      this._engine = engine ?? WL;
      const wasm = engine.wasm;
      if (param instanceof HTMLImageElement || param instanceof HTMLVideoElement || param instanceof HTMLCanvasElement) {
        const index = wasm._images.length;
        wasm._images.push(param);
        this._imageIndex = index;
        this._id = this._engine.wasm._wl_renderer_addImage(index);
      } else {
        this._id = param;
      }
      this._engine.textures._set(this);
    }
    /** Whether this texture is valid. */
    get valid() {
      return this._id >= 0;
    }
    /** Index in this manager. */
    get id() {
      return this._id;
    }
    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */
    update() {
      if (!this.valid || this._imageIndex === null)
        return;
      this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);
    }
    /** Width of the texture. */
    get width() {
      return this._engine.wasm._wl_texture_width(this._id);
    }
    /** Height of the texture. */
    get height() {
      return this._engine.wasm._wl_texture_height(this._id);
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).
     *
     * Usage:
     *
     * ```js
     * // Copies rectangle of pixel starting from (10, 20)
     * texture.updateSubImage(10, 20, 600, 400);
     * ```
     *
     * @param x x offset
     * @param y y offset
     * @param w width
     * @param h height
     */
    updateSubImage(x, y, w, h) {
      if (!this.valid || this._imageIndex === null)
        return;
      if (!temp2d) {
        const canvas2 = document.createElement("canvas");
        const ctx = canvas2.getContext("2d");
        if (!ctx) {
          throw new Error("Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.");
        }
        temp2d = {
          canvas: canvas2,
          ctx
        };
      }
      const wasm = this._engine.wasm;
      const img = wasm._images[this._imageIndex];
      if (!img)
        return;
      temp2d.canvas.width = w;
      temp2d.canvas.height = h;
      temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);
      const yOffset = (img.videoHeight ?? img.height) - y - h;
      wasm._images[this._imageIndex] = temp2d.canvas;
      wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);
      wasm._images[this._imageIndex] = img;
    }
    /**
     * Destroy and free the texture's texture altas space and memory.
     *
     * It is best practice to set the texture variable to `null` after calling
     * destroy to prevent accidental use of the invalid texture:
     *
     * ```js
     *   texture.destroy();
     *   texture = null;
     * ```
     *
     * @since 0.9.0
     */
    destroy() {
      this.engine.textures._destroy(this);
      this._id = -1;
      this._imageIndex = null;
    }
    /**
     * Checks equality by comparing whether the wrapped native texture ids are
     * equal.
     *
     * @param otherTexture Texture to check equality with.
     * @returns Whether this texture equals the given texture.
     *
     * @since 1.0.0
     */
    equals(otherTexture) {
      if (!otherTexture)
        return false;
      return this._id === otherTexture._id;
    }
  };
  var Animation = class {
    /** Index of the mesh in the manager. @hidden */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param index Index in the manager
     */
    constructor(engine = WL, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Duration of this animation. */
    get duration() {
      return this._engine.wasm._wl_animation_get_duration(this._index);
    }
    /** Number of tracks in this animation. */
    get trackCount() {
      return this._engine.wasm._wl_animation_get_trackCount(this._index);
    }
    /**
     * Clone this animation retargeted to a new set of objects.
     *
     * The clone shares most of the data with the original and is therefore
     * light-weight.
     *
     * **Experimental:** This API might change in upcoming versions.
     *
     * If retargeting to {@link Skin}, the join names will be used to determine a mapping
     * from the previous skin to the new skin. The source skin will be retrieved from
     * the first track in the animation that targets a joint.
     *
     * @param newTargets New targets per track. Expected to have
     *      {@link Animation#trackCount} elements or to be a {@link Skin}.
     * @returns The retargeted clone of this animation.
     */
    retarget(newTargets) {
      const wasm = this._engine.wasm;
      if (newTargets instanceof Skin) {
        const animId2 = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);
        return new Animation(this._engine, animId2);
      }
      if (newTargets.length != this.trackCount) {
        throw Error("Expected " + this.trackCount.toString() + " targets, but got " + newTargets.length.toString());
      }
      const ptr = wasm._malloc(2 * newTargets.length);
      for (let i = 0; i < newTargets.length; ++i) {
        wasm.HEAPU16[ptr >> 1 + i] = newTargets[i].objectId;
      }
      const animId = wasm._wl_animation_retarget(this._index, ptr);
      wasm._free(ptr);
      return new Animation(this._engine, animId);
    }
    /**
     * Checks equality by comparing whether the wrapped native animation ids
     * are equal.
     *
     * @param otherAnimation Animation to check equality with.
     * @returns Whether this animation equals the given animation.
     *
     * @since 1.0.0
     */
    equals(otherAnimation) {
      if (!otherAnimation)
        return false;
      return this._index === otherAnimation._index;
    }
  };
  var Skin = class {
    /**
     * Index of the skin in the manager.
     * @hidden
     */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    constructor(engine, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Amount of joints in this skin. */
    get jointCount() {
      return this._engine.wasm._wl_skin_get_joint_count(this._index);
    }
    /** Joints object ids for this skin */
    get jointIds() {
      const wasm = this._engine.wasm;
      return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);
    }
    /**
     * Dual quaternions in a flat array of size 8 times {@link jointCount}.
     *
     * Inverse bind transforms of the skin.
     */
    get inverseBindTransforms() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);
    }
    /**
     * Vectors in a flat array of size 3 times {@link jointCount}.
     *
     * Inverse bind scalings of the skin.
     */
    get inverseBindScalings() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);
    }
    /**
     * Checks equality by comparing whether the wrapped native skin ids are
     * equal.
     *
     * @param otherSkin Skin to check equality with.
     * @returns Whether this skin equals the given skin.
     *
     * @since 1.0.0
     */
    equals(otherSkin) {
      if (!otherSkin)
        return false;
      return this._index === otherSkin._index;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wasm.js
  var _componentDefaults = /* @__PURE__ */ new Map([
    [Type.Bool, false],
    [Type.Int, 0],
    [Type.Float, 0],
    [Type.String, ""],
    [Type.Enum, void 0],
    [Type.Object, null],
    [Type.Mesh, null],
    [Type.Texture, null],
    [Type.Material, null],
    [Type.Animation, null],
    [Type.Skin, null],
    [Type.Color, [0, 0, 0, 1]]
  ]);

  // node_modules/@wonderlandengine/components/dist/8thwall-camera.js
  var ARCamera8thwall = class extends Component {
    /* 8thwall camera pipeline module name */
    name = "wonderland-engine-8thwall-camera";
    started = false;
    view = null;
    // cache camera
    position = [0, 0, 0];
    // cache 8thwall cam position
    rotation = [0, 0, 0, -1];
    // cache 8thwall cam rotation
    glTextureRenderer = null;
    // cache XR8.GlTextureRenderer.pipelineModule
    promptForDeviceMotion() {
      return new Promise(async (resolve, reject) => {
        window.dispatchEvent(new Event("8thwall-request-user-interaction"));
        window.addEventListener("8thwall-safe-to-request-permissions", async () => {
          try {
            const motionEvent = await DeviceMotionEvent.requestPermission();
            resolve(motionEvent);
          } catch (exception) {
            reject(exception);
          }
        });
      });
    }
    async getPermissions() {
      if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {
        try {
          const result = await DeviceMotionEvent.requestPermission();
          if (result !== "granted") {
            throw new Error("MotionEvent");
          }
        } catch (exception) {
          if (exception.name === "NotAllowedError") {
            const motionEvent = await this.promptForDeviceMotion();
            if (motionEvent !== "granted") {
              throw new Error("MotionEvent");
            }
          } else {
            throw new Error("MotionEvent");
          }
        }
      }
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: true,
          audio: true
        });
        stream.getTracks().forEach((track) => {
          track.stop();
        });
      } catch (exception) {
        throw new Error("Camera");
      }
    }
    init() {
      this.view = this.object.getComponent("view");
      this.onUpdate = this.onUpdate.bind(this);
      this.onAttach = this.onAttach.bind(this);
      this.onException = this.onException.bind(this);
      this.onCameraStatusChange = this.onCameraStatusChange.bind(this);
    }
    async start() {
      this.view = this.object.getComponent("view");
      if (!this.useCustomUIOverlays) {
        OverlaysHandler.init();
      }
      try {
        await this.getPermissions();
      } catch (error) {
        window.dispatchEvent(new CustomEvent("8thwall-permission-fail", { detail: error }));
        return;
      }
      await this.waitForXR8();
      XR8.XrController.configure({
        disableWorldTracking: false
      });
      this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();
      XR8.addCameraPipelineModules([
        this.glTextureRenderer,
        XR8.XrController.pipelineModule(),
        this
      ]);
      const config = {
        cameraConfig: {
          direction: XR8.XrConfig.camera().BACK
        },
        canvas: Module.canvas,
        allowedDevices: XR8.XrConfig.device().ANY,
        ownRunLoop: false
      };
      XR8.run(config);
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onAttach(params) {
      this.started = true;
      this.engine.scene.colorClearEnabled = false;
      const gl = Module.ctx;
      const rot = this.object.rotationWorld;
      const pos = this.object.getTranslationWorld([]);
      this.position = Array.from(pos);
      this.rotation = Array.from(rot);
      XR8.XrController.updateCameraProjectionMatrix({
        origin: { x: pos[0], y: pos[1], z: pos[2] },
        facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },
        cam: {
          pixelRectWidth: Module.canvas.width,
          pixelRectHeight: Module.canvas.height,
          nearClipPlane: this.view.near,
          farClipPlane: this.view.far
        }
      });
      this.engine.scene.onPreRender.push(() => {
        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
        XR8.runPreRender(Date.now());
        XR8.runRender();
      });
      this.engine.scene.onPostRender.push(() => {
        XR8.runPostRender(Date.now());
      });
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onCameraStatusChange(e) {
      if (e && e.status === "failed") {
        this.onException(new Error(`Camera failed with status: ${e.status}`));
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onUpdate(e) {
      if (!e.processCpuResult.reality)
        return;
      const { rotation, position, intrinsics } = e.processCpuResult.reality;
      this.rotation[0] = rotation.x;
      this.rotation[1] = rotation.y;
      this.rotation[2] = rotation.z;
      this.rotation[3] = rotation.w;
      this.position[0] = position.x;
      this.position[1] = position.y;
      this.position[2] = position.z;
      if (intrinsics) {
        const projectionMatrix = this.view.projectionMatrix;
        for (let i = 0; i < 16; i++) {
          if (Number.isFinite(intrinsics[i])) {
            projectionMatrix[i] = intrinsics[i];
          }
        }
      }
      if (position && rotation) {
        this.object.rotationWorld = this.rotation;
        this.object.setTranslationWorld(this.position);
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onException(error) {
      console.error("8thwall exception:", error);
      window.dispatchEvent(new CustomEvent("8thwall-error", { detail: error }));
    }
    waitForXR8() {
      return new Promise((resolve, _rej) => {
        if (window.XR8) {
          resolve();
        } else {
          window.addEventListener("xrloaded", () => resolve());
        }
      });
    }
  };
  __publicField(ARCamera8thwall, "TypeName", "8thwall-camera");
  __publicField(ARCamera8thwall, "Properties", {
    /** Override the WL html overlays for handling camera/motion permissions and error handling */
    useCustomUIOverlays: { type: Type.Bool, default: false }
  });
  var OverlaysHandler = {
    init: function() {
      this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);
      this.handlePermissionFail = this.handlePermissionFail.bind(this);
      this.handleError = this.handleError.bind(this);
      window.addEventListener("8thwall-request-user-interaction", this.handleRequestUserInteraction);
      window.addEventListener("8thwall-permission-fail", this.handlePermissionFail);
      window.addEventListener("8thwall-error", this.handleError);
    },
    handleRequestUserInteraction: function() {
      const overlay = this.showOverlay(requestPermissionOverlay);
      window.addEventListener("8thwall-safe-to-request-permissions", () => {
        overlay.remove();
      });
    },
    handlePermissionFail: function(_reason) {
      this.showOverlay(failedPermissionOverlay);
    },
    handleError: function(_error) {
      this.showOverlay(runtimeErrorOverlay);
    },
    showOverlay: function(htmlContent) {
      const overlay = document.createElement("div");
      overlay.innerHTML = htmlContent;
      document.body.appendChild(overlay);
      return overlay;
    }
  };
  var requestPermissionOverlay = `
<style>
  #request-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .request-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .request-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="request-permission-overlay">
  <div class="request-permission-overlay_title">This app requires to use your camera and motion sensors</div>

  <button class="request-permission-overlay_button" onclick="window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))">OK</button>
</div>`;
  var failedPermissionOverlay = `
<style>
  #failed-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .failed-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .failed-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="failed-permission-overlay">
  <div class="failed-permission-overlay_title">Failed to grant permissions. Reset the the permissions and refresh the page.</div>

  <button class="failed-permission-overlay_button" onclick="window.location.reload()">Refresh the page</button>
</div>`;
  var runtimeErrorOverlay = `
<style>
  #wall-error-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .wall-error-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .wall-error-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="wall-error-overlay">
  <div class="wall-error-overlay_title">Error has occurred. Please reload the page</div>

  <button class="wall-error-overlay_button" onclick="window.location.reload()">Reload</button>
</div>`;

  // node_modules/@wonderlandengine/components/dist/utils/webxr.js
  var tempVec = new Float32Array(3);
  var tempQuat = new Float32Array(4);
  function setXRRigidTransformLocal(o, transform) {
    const r = transform.orientation;
    tempQuat[0] = r.x;
    tempQuat[1] = r.y;
    tempQuat[2] = r.z;
    tempQuat[3] = r.w;
    const t = transform.position;
    tempVec[0] = t.x;
    tempVec[1] = t.y;
    tempVec[2] = t.z;
    o.resetTranslationRotation();
    o.transformLocal.set(tempQuat);
    o.translate(tempVec);
  }

  // node_modules/@wonderlandengine/components/dist/anchor.js
  var __decorate2 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec3 = new Float32Array(3);
  var tempQuat2 = new Float32Array(4);
  var _anchors, _addAnchor, addAnchor_fn, _removeAnchor, removeAnchor_fn, _getFrame, getFrame_fn, _createAnchor, createAnchor_fn, _onAddAnchor, onAddAnchor_fn, _onRestoreAnchor, onRestoreAnchor_fn, _onCreate, onCreate_fn;
  var _Anchor = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _getFrame);
      __privateAdd(this, _createAnchor);
      __privateAdd(this, _onAddAnchor);
      __privateAdd(this, _onRestoreAnchor);
      __privateAdd(this, _onCreate);
      __publicField(this, "persist", false);
      /** Unique identifier to load a persistent anchor from, or empty/null if unknown */
      __publicField(this, "uuid", null);
      /** The xrAnchor, if created */
      __publicField(this, "xrAnchor", null);
      /** Emits events when the anchor is created either by being restored or newly created */
      __publicField(this, "onCreate", new Emitter());
      /** Whether the anchor is currently being tracked */
      __publicField(this, "visible", false);
      /** Emits an event when this anchor starts tracking */
      __publicField(this, "onTrackingFound", new Emitter());
      /** Emits an event when this anchor stops tracking */
      __publicField(this, "onTrackingLost", new Emitter());
      /** XRFrame to use for creating the anchor */
      __publicField(this, "xrFrame", null);
      /** XRHitTestResult to use for creating the anchor */
      __publicField(this, "xrHitResult", null);
    }
    /** Retrieve all anchors of the current scene */
    static getAllAnchors() {
      return __privateGet(_Anchor, _anchors);
    }
    /**
     * Create a new anchor
     *
     * @param o Object to attach the component to
     * @param params Parameters for the anchor component
     * @param frame XRFrame to use for anchor cration, if null, will use the current frame if available
     * @param hitResult Optional hit-test result to create the anchor with
     * @returns Promise for the newly created anchor component
     */
    static create(o, params, frame, hitResult) {
      const a = o.addComponent(_Anchor, { ...params, active: false });
      if (a === null)
        return null;
      a.xrHitResult = hitResult ?? null;
      a.xrFrame = frame ?? null;
      a.onCreate.once(() => (a.xrFrame = null, a.xrHitResult = null));
      a.active = true;
      return a.onCreate.promise();
    }
    start() {
      if (this.uuid && this.engine.xr) {
        this.persist = true;
        if (this.engine.xr.session.restorePersistentAnchor === void 0) {
          console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
        }
        this.engine.xr.session.restorePersistentAnchor(this.uuid).then(__privateMethod(this, _onRestoreAnchor, onRestoreAnchor_fn).bind(this));
      } else if (__privateMethod(this, _getFrame, getFrame_fn).call(this)) {
        __privateMethod(this, _createAnchor, createAnchor_fn).call(this).then(__privateMethod(this, _onAddAnchor, onAddAnchor_fn).bind(this));
      } else {
        throw new Error("Anchors can only be created during the XR frame in an active XR session");
      }
    }
    update() {
      if (!this.xrAnchor || !this.engine.xr)
        return;
      const pose = this.engine.xr.frame.getPose(this.xrAnchor.anchorSpace, this.engine.xr.currentReferenceSpace);
      const visible = !!pose;
      if (visible != this.visible) {
        this.visible = visible;
        (visible ? this.onTrackingFound : this.onTrackingLost).notify(this);
      }
      if (pose) {
        setXRRigidTransformLocal(this.object, pose.transform);
      }
    }
    onDestroy() {
      var _a;
      __privateMethod(_a = _Anchor, _removeAnchor, removeAnchor_fn).call(_a, this);
    }
  };
  var Anchor = _Anchor;
  _anchors = new WeakMap();
  _addAnchor = new WeakSet();
  addAnchor_fn = function(anchor) {
    __privateGet(_Anchor, _anchors).push(anchor);
  };
  _removeAnchor = new WeakSet();
  removeAnchor_fn = function(anchor) {
    const index = __privateGet(_Anchor, _anchors).indexOf(anchor);
    if (index < 0)
      return;
    __privateGet(_Anchor, _anchors).splice(index, 1);
  };
  _getFrame = new WeakSet();
  getFrame_fn = function() {
    return this.xrFrame || this.engine.xr.frame;
  };
  _createAnchor = new WeakSet();
  createAnchor_fn = async function() {
    if (!__privateMethod(this, _getFrame, getFrame_fn).call(this).createAnchor) {
      throw new Error("Cannot create anchor - anchors not supported, did you enable the 'anchors' WebXR feature?");
    }
    if (this.xrHitResult) {
      if (this.xrHitResult.createAnchor === void 0) {
        throw new Error("Requested anchor on XRHitTestResult, but WebXR hit-test feature is not available.");
      }
      return this.xrHitResult.createAnchor();
    } else {
      this.object.getTranslationWorld(tempVec3);
      tempQuat2.set(this.object.rotationWorld);
      const rotation = tempQuat2;
      const anchorPose = new XRRigidTransform({ x: tempVec3[0], y: tempVec3[1], z: tempVec3[2] }, { x: rotation[0], y: rotation[1], z: rotation[2], w: rotation[3] });
      return __privateMethod(this, _getFrame, getFrame_fn).call(this)?.createAnchor(anchorPose, this.engine.xr.currentReferenceSpace);
    }
  };
  _onAddAnchor = new WeakSet();
  onAddAnchor_fn = function(anchor) {
    if (!anchor)
      return;
    if (this.persist) {
      if (anchor.requestPersistentHandle !== void 0) {
        anchor.requestPersistentHandle().then((uuid) => {
          var _a;
          this.uuid = uuid;
          __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
          __privateMethod(_a = _Anchor, _addAnchor, addAnchor_fn).call(_a, this);
        });
        return;
      } else {
        console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
      }
    }
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onRestoreAnchor = new WeakSet();
  onRestoreAnchor_fn = function(anchor) {
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onCreate = new WeakSet();
  onCreate_fn = function(anchor) {
    this.xrAnchor = anchor;
    this.onCreate.notify(this);
  };
  __privateAdd(Anchor, _addAnchor);
  __privateAdd(Anchor, _removeAnchor);
  __publicField(Anchor, "TypeName", "anchor");
  /* Static management of all anchors */
  __privateAdd(Anchor, _anchors, []);
  __decorate2([
    property.bool(false)
  ], Anchor.prototype, "persist", void 0);
  __decorate2([
    property.string()
  ], Anchor.prototype, "uuid", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor-target.js
  var CursorTarget = class extends Component {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.add(f);
     */
    addHoverFunction(f) {
      this.onHover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.remove(f);
     */
    removeHoverFunction(f) {
      this.onHover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.add(f);
     */
    addUnHoverFunction(f) {
      this.onUnhover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.remove(f);
     */
    removeUnHoverFunction(f) {
      this.onUnhover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onClick.add(f);
     */
    addClickFunction(f) {
      this.onClick.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onClick.remove(f);
     */
    removeClickFunction(f) {
      this.onClick.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.add(f);
     */
    addMoveFunction(f) {
      this.onMove.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.remove(f);
     */
    removeMoveFunction(f) {
      this.onMove.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.add(f);
     */
    addDownFunction(f) {
      this.onDown.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.remove(f);
     */
    removeDownFunction(f) {
      this.onDown.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.add(f);
     */
    addUpFunction(f) {
      this.onUp.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.remove(f);
     */
    removeUpFunction(f) {
      this.onUp.remove(f);
    }
  };
  __publicField(CursorTarget, "TypeName", "cursor-target");
  __publicField(CursorTarget, "Properties", {});

  // node_modules/gl-matrix/esm/common.js
  var EPSILON = 1e-6;
  var ARRAY_TYPE = typeof Float32Array !== "undefined" ? Float32Array : Array;
  var RANDOM = Math.random;
  var degree = Math.PI / 180;
  if (!Math.hypot)
    Math.hypot = function() {
      var y = 0, i = arguments.length;
      while (i--) {
        y += arguments[i] * arguments[i];
      }
      return Math.sqrt(y);
    };

  // node_modules/gl-matrix/esm/mat3.js
  function create() {
    var out = new ARRAY_TYPE(9);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
    }
    out[0] = 1;
    out[4] = 1;
    out[8] = 1;
    return out;
  }

  // node_modules/gl-matrix/esm/mat4.js
  var mat4_exports = {};
  __export(mat4_exports, {
    add: () => add,
    adjoint: () => adjoint,
    clone: () => clone,
    copy: () => copy,
    create: () => create2,
    determinant: () => determinant,
    equals: () => equals,
    exactEquals: () => exactEquals,
    frob: () => frob,
    fromQuat: () => fromQuat,
    fromQuat2: () => fromQuat2,
    fromRotation: () => fromRotation,
    fromRotationTranslation: () => fromRotationTranslation,
    fromRotationTranslationScale: () => fromRotationTranslationScale,
    fromRotationTranslationScaleOrigin: () => fromRotationTranslationScaleOrigin,
    fromScaling: () => fromScaling,
    fromTranslation: () => fromTranslation,
    fromValues: () => fromValues,
    fromXRotation: () => fromXRotation,
    fromYRotation: () => fromYRotation,
    fromZRotation: () => fromZRotation,
    frustum: () => frustum,
    getRotation: () => getRotation,
    getScaling: () => getScaling,
    getTranslation: () => getTranslation,
    identity: () => identity,
    invert: () => invert,
    lookAt: () => lookAt,
    mul: () => mul,
    multiply: () => multiply,
    multiplyScalar: () => multiplyScalar,
    multiplyScalarAndAdd: () => multiplyScalarAndAdd,
    ortho: () => ortho,
    orthoNO: () => orthoNO,
    orthoZO: () => orthoZO,
    perspective: () => perspective,
    perspectiveFromFieldOfView: () => perspectiveFromFieldOfView,
    perspectiveNO: () => perspectiveNO,
    perspectiveZO: () => perspectiveZO,
    rotate: () => rotate,
    rotateX: () => rotateX,
    rotateY: () => rotateY,
    rotateZ: () => rotateZ,
    scale: () => scale,
    set: () => set,
    str: () => str,
    sub: () => sub,
    subtract: () => subtract,
    targetTo: () => targetTo,
    translate: () => translate,
    transpose: () => transpose
  });
  function create2() {
    var out = new ARRAY_TYPE(16);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
    }
    out[0] = 1;
    out[5] = 1;
    out[10] = 1;
    out[15] = 1;
    return out;
  }
  function clone(a) {
    var out = new ARRAY_TYPE(16);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function copy(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    var out = new ARRAY_TYPE(16);
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function identity(out) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function transpose(out, a) {
    if (out === a) {
      var a01 = a[1], a02 = a[2], a03 = a[3];
      var a12 = a[6], a13 = a[7];
      var a23 = a[11];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a01;
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a02;
      out[9] = a12;
      out[11] = a[14];
      out[12] = a03;
      out[13] = a13;
      out[14] = a23;
    } else {
      out[0] = a[0];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a[1];
      out[5] = a[5];
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a[2];
      out[9] = a[6];
      out[10] = a[10];
      out[11] = a[14];
      out[12] = a[3];
      out[13] = a[7];
      out[14] = a[11];
      out[15] = a[15];
    }
    return out;
  }
  function invert(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
    if (!det) {
      return null;
    }
    det = 1 / det;
    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
    return out;
  }
  function adjoint(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
    out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
    out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
    out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
    out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
    out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
    out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
    out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
    out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
    out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
    out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
    out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
    out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
    return out;
  }
  function determinant(a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
  }
  function multiply(out, a, b) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[4];
    b1 = b[5];
    b2 = b[6];
    b3 = b[7];
    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[8];
    b1 = b[9];
    b2 = b[10];
    b3 = b[11];
    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[12];
    b1 = b[13];
    b2 = b[14];
    b3 = b[15];
    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    return out;
  }
  function translate(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    if (a === out) {
      out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
      out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
      out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
      out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
    } else {
      a00 = a[0];
      a01 = a[1];
      a02 = a[2];
      a03 = a[3];
      a10 = a[4];
      a11 = a[5];
      a12 = a[6];
      a13 = a[7];
      a20 = a[8];
      a21 = a[9];
      a22 = a[10];
      a23 = a[11];
      out[0] = a00;
      out[1] = a01;
      out[2] = a02;
      out[3] = a03;
      out[4] = a10;
      out[5] = a11;
      out[6] = a12;
      out[7] = a13;
      out[8] = a20;
      out[9] = a21;
      out[10] = a22;
      out[11] = a23;
      out[12] = a00 * x + a10 * y + a20 * z + a[12];
      out[13] = a01 * x + a11 * y + a21 * z + a[13];
      out[14] = a02 * x + a12 * y + a22 * z + a[14];
      out[15] = a03 * x + a13 * y + a23 * z + a[15];
    }
    return out;
  }
  function scale(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    out[0] = a[0] * x;
    out[1] = a[1] * x;
    out[2] = a[2] * x;
    out[3] = a[3] * x;
    out[4] = a[4] * y;
    out[5] = a[5] * y;
    out[6] = a[6] * y;
    out[7] = a[7] * y;
    out[8] = a[8] * z;
    out[9] = a[9] * z;
    out[10] = a[10] * z;
    out[11] = a[11] * z;
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function rotate(out, a, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    var b00, b01, b02;
    var b10, b11, b12;
    var b20, b21, b22;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    b00 = x * x * t + c;
    b01 = y * x * t + z * s;
    b02 = z * x * t - y * s;
    b10 = x * y * t - z * s;
    b11 = y * y * t + c;
    b12 = z * y * t + x * s;
    b20 = x * z * t + y * s;
    b21 = y * z * t - x * s;
    b22 = z * z * t + c;
    out[0] = a00 * b00 + a10 * b01 + a20 * b02;
    out[1] = a01 * b00 + a11 * b01 + a21 * b02;
    out[2] = a02 * b00 + a12 * b01 + a22 * b02;
    out[3] = a03 * b00 + a13 * b01 + a23 * b02;
    out[4] = a00 * b10 + a10 * b11 + a20 * b12;
    out[5] = a01 * b10 + a11 * b11 + a21 * b12;
    out[6] = a02 * b10 + a12 * b11 + a22 * b12;
    out[7] = a03 * b10 + a13 * b11 + a23 * b12;
    out[8] = a00 * b20 + a10 * b21 + a20 * b22;
    out[9] = a01 * b20 + a11 * b21 + a21 * b22;
    out[10] = a02 * b20 + a12 * b21 + a22 * b22;
    out[11] = a03 * b20 + a13 * b21 + a23 * b22;
    if (a !== out) {
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    return out;
  }
  function rotateX(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[4] = a10 * c + a20 * s;
    out[5] = a11 * c + a21 * s;
    out[6] = a12 * c + a22 * s;
    out[7] = a13 * c + a23 * s;
    out[8] = a20 * c - a10 * s;
    out[9] = a21 * c - a11 * s;
    out[10] = a22 * c - a12 * s;
    out[11] = a23 * c - a13 * s;
    return out;
  }
  function rotateY(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c - a20 * s;
    out[1] = a01 * c - a21 * s;
    out[2] = a02 * c - a22 * s;
    out[3] = a03 * c - a23 * s;
    out[8] = a00 * s + a20 * c;
    out[9] = a01 * s + a21 * c;
    out[10] = a02 * s + a22 * c;
    out[11] = a03 * s + a23 * c;
    return out;
  }
  function rotateZ(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    if (a !== out) {
      out[8] = a[8];
      out[9] = a[9];
      out[10] = a[10];
      out[11] = a[11];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c + a10 * s;
    out[1] = a01 * c + a11 * s;
    out[2] = a02 * c + a12 * s;
    out[3] = a03 * c + a13 * s;
    out[4] = a10 * c - a00 * s;
    out[5] = a11 * c - a01 * s;
    out[6] = a12 * c - a02 * s;
    out[7] = a13 * c - a03 * s;
    return out;
  }
  function fromTranslation(out, v) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromScaling(out, v) {
    out[0] = v[0];
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = v[1];
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = v[2];
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotation(out, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    out[0] = x * x * t + c;
    out[1] = y * x * t + z * s;
    out[2] = z * x * t - y * s;
    out[3] = 0;
    out[4] = x * y * t - z * s;
    out[5] = y * y * t + c;
    out[6] = z * y * t + x * s;
    out[7] = 0;
    out[8] = x * z * t + y * s;
    out[9] = y * z * t - x * s;
    out[10] = z * z * t + c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromXRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = c;
    out[6] = s;
    out[7] = 0;
    out[8] = 0;
    out[9] = -s;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromYRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = 0;
    out[2] = -s;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = s;
    out[9] = 0;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromZRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = s;
    out[2] = 0;
    out[3] = 0;
    out[4] = -s;
    out[5] = c;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotationTranslation(out, q, v) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - (yy + zz);
    out[1] = xy + wz;
    out[2] = xz - wy;
    out[3] = 0;
    out[4] = xy - wz;
    out[5] = 1 - (xx + zz);
    out[6] = yz + wx;
    out[7] = 0;
    out[8] = xz + wy;
    out[9] = yz - wx;
    out[10] = 1 - (xx + yy);
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromQuat2(out, a) {
    var translation = new ARRAY_TYPE(3);
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7];
    var magnitude = bx * bx + by * by + bz * bz + bw * bw;
    if (magnitude > 0) {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
    } else {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    }
    fromRotationTranslation(out, a, translation);
    return out;
  }
  function getTranslation(out, mat) {
    out[0] = mat[12];
    out[1] = mat[13];
    out[2] = mat[14];
    return out;
  }
  function getScaling(out, mat) {
    var m11 = mat[0];
    var m12 = mat[1];
    var m13 = mat[2];
    var m21 = mat[4];
    var m22 = mat[5];
    var m23 = mat[6];
    var m31 = mat[8];
    var m32 = mat[9];
    var m33 = mat[10];
    out[0] = Math.hypot(m11, m12, m13);
    out[1] = Math.hypot(m21, m22, m23);
    out[2] = Math.hypot(m31, m32, m33);
    return out;
  }
  function getRotation(out, mat) {
    var scaling = new ARRAY_TYPE(3);
    getScaling(scaling, mat);
    var is1 = 1 / scaling[0];
    var is2 = 1 / scaling[1];
    var is3 = 1 / scaling[2];
    var sm11 = mat[0] * is1;
    var sm12 = mat[1] * is2;
    var sm13 = mat[2] * is3;
    var sm21 = mat[4] * is1;
    var sm22 = mat[5] * is2;
    var sm23 = mat[6] * is3;
    var sm31 = mat[8] * is1;
    var sm32 = mat[9] * is2;
    var sm33 = mat[10] * is3;
    var trace = sm11 + sm22 + sm33;
    var S = 0;
    if (trace > 0) {
      S = Math.sqrt(trace + 1) * 2;
      out[3] = 0.25 * S;
      out[0] = (sm23 - sm32) / S;
      out[1] = (sm31 - sm13) / S;
      out[2] = (sm12 - sm21) / S;
    } else if (sm11 > sm22 && sm11 > sm33) {
      S = Math.sqrt(1 + sm11 - sm22 - sm33) * 2;
      out[3] = (sm23 - sm32) / S;
      out[0] = 0.25 * S;
      out[1] = (sm12 + sm21) / S;
      out[2] = (sm31 + sm13) / S;
    } else if (sm22 > sm33) {
      S = Math.sqrt(1 + sm22 - sm11 - sm33) * 2;
      out[3] = (sm31 - sm13) / S;
      out[0] = (sm12 + sm21) / S;
      out[1] = 0.25 * S;
      out[2] = (sm23 + sm32) / S;
    } else {
      S = Math.sqrt(1 + sm33 - sm11 - sm22) * 2;
      out[3] = (sm12 - sm21) / S;
      out[0] = (sm31 + sm13) / S;
      out[1] = (sm23 + sm32) / S;
      out[2] = 0.25 * S;
    }
    return out;
  }
  function fromRotationTranslationScale(out, q, v, s) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    out[0] = (1 - (yy + zz)) * sx;
    out[1] = (xy + wz) * sx;
    out[2] = (xz - wy) * sx;
    out[3] = 0;
    out[4] = (xy - wz) * sy;
    out[5] = (1 - (xx + zz)) * sy;
    out[6] = (yz + wx) * sy;
    out[7] = 0;
    out[8] = (xz + wy) * sz;
    out[9] = (yz - wx) * sz;
    out[10] = (1 - (xx + yy)) * sz;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    var ox = o[0];
    var oy = o[1];
    var oz = o[2];
    var out0 = (1 - (yy + zz)) * sx;
    var out1 = (xy + wz) * sx;
    var out2 = (xz - wy) * sx;
    var out4 = (xy - wz) * sy;
    var out5 = (1 - (xx + zz)) * sy;
    var out6 = (yz + wx) * sy;
    var out8 = (xz + wy) * sz;
    var out9 = (yz - wx) * sz;
    var out10 = (1 - (xx + yy)) * sz;
    out[0] = out0;
    out[1] = out1;
    out[2] = out2;
    out[3] = 0;
    out[4] = out4;
    out[5] = out5;
    out[6] = out6;
    out[7] = 0;
    out[8] = out8;
    out[9] = out9;
    out[10] = out10;
    out[11] = 0;
    out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
    out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
    out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
    out[15] = 1;
    return out;
  }
  function fromQuat(out, q) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var yx = y * x2;
    var yy = y * y2;
    var zx = z * x2;
    var zy = z * y2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - yy - zz;
    out[1] = yx + wz;
    out[2] = zx - wy;
    out[3] = 0;
    out[4] = yx - wz;
    out[5] = 1 - xx - zz;
    out[6] = zy + wx;
    out[7] = 0;
    out[8] = zx + wy;
    out[9] = zy - wx;
    out[10] = 1 - xx - yy;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function frustum(out, left, right, bottom, top, near, far) {
    var rl = 1 / (right - left);
    var tb = 1 / (top - bottom);
    var nf = 1 / (near - far);
    out[0] = near * 2 * rl;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = near * 2 * tb;
    out[6] = 0;
    out[7] = 0;
    out[8] = (right + left) * rl;
    out[9] = (top + bottom) * tb;
    out[10] = (far + near) * nf;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near * 2 * nf;
    out[15] = 0;
    return out;
  }
  function perspectiveNO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = (far + near) * nf;
      out[14] = 2 * far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -2 * near;
    }
    return out;
  }
  var perspective = perspectiveNO;
  function perspectiveZO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = far * nf;
      out[14] = far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -near;
    }
    return out;
  }
  function perspectiveFromFieldOfView(out, fov, near, far) {
    var upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    var downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    var xScale = 2 / (leftTan + rightTan);
    var yScale = 2 / (upTan + downTan);
    out[0] = xScale;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = yScale;
    out[6] = 0;
    out[7] = 0;
    out[8] = -((leftTan - rightTan) * xScale * 0.5);
    out[9] = (upTan - downTan) * yScale * 0.5;
    out[10] = far / (near - far);
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near / (near - far);
    out[15] = 0;
    return out;
  }
  function orthoNO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 2 * nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = (far + near) * nf;
    out[15] = 1;
    return out;
  }
  var ortho = orthoNO;
  function orthoZO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = near * nf;
    out[15] = 1;
    return out;
  }
  function lookAt(out, eye, center, up) {
    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len4;
    var eyex = eye[0];
    var eyey = eye[1];
    var eyez = eye[2];
    var upx = up[0];
    var upy = up[1];
    var upz = up[2];
    var centerx = center[0];
    var centery = center[1];
    var centerz = center[2];
    if (Math.abs(eyex - centerx) < EPSILON && Math.abs(eyey - centery) < EPSILON && Math.abs(eyez - centerz) < EPSILON) {
      return identity(out);
    }
    z0 = eyex - centerx;
    z1 = eyey - centery;
    z2 = eyez - centerz;
    len4 = 1 / Math.hypot(z0, z1, z2);
    z0 *= len4;
    z1 *= len4;
    z2 *= len4;
    x0 = upy * z2 - upz * z1;
    x1 = upz * z0 - upx * z2;
    x2 = upx * z1 - upy * z0;
    len4 = Math.hypot(x0, x1, x2);
    if (!len4) {
      x0 = 0;
      x1 = 0;
      x2 = 0;
    } else {
      len4 = 1 / len4;
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    y0 = z1 * x2 - z2 * x1;
    y1 = z2 * x0 - z0 * x2;
    y2 = z0 * x1 - z1 * x0;
    len4 = Math.hypot(y0, y1, y2);
    if (!len4) {
      y0 = 0;
      y1 = 0;
      y2 = 0;
    } else {
      len4 = 1 / len4;
      y0 *= len4;
      y1 *= len4;
      y2 *= len4;
    }
    out[0] = x0;
    out[1] = y0;
    out[2] = z0;
    out[3] = 0;
    out[4] = x1;
    out[5] = y1;
    out[6] = z1;
    out[7] = 0;
    out[8] = x2;
    out[9] = y2;
    out[10] = z2;
    out[11] = 0;
    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
    out[15] = 1;
    return out;
  }
  function targetTo(out, eye, target, up) {
    var eyex = eye[0], eyey = eye[1], eyez = eye[2], upx = up[0], upy = up[1], upz = up[2];
    var z0 = eyex - target[0], z1 = eyey - target[1], z2 = eyez - target[2];
    var len4 = z0 * z0 + z1 * z1 + z2 * z2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      z0 *= len4;
      z1 *= len4;
      z2 *= len4;
    }
    var x0 = upy * z2 - upz * z1, x1 = upz * z0 - upx * z2, x2 = upx * z1 - upy * z0;
    len4 = x0 * x0 + x1 * x1 + x2 * x2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    out[0] = x0;
    out[1] = x1;
    out[2] = x2;
    out[3] = 0;
    out[4] = z1 * x2 - z2 * x1;
    out[5] = z2 * x0 - z0 * x2;
    out[6] = z0 * x1 - z1 * x0;
    out[7] = 0;
    out[8] = z0;
    out[9] = z1;
    out[10] = z2;
    out[11] = 0;
    out[12] = eyex;
    out[13] = eyey;
    out[14] = eyez;
    out[15] = 1;
    return out;
  }
  function str(a) {
    return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
  }
  function frob(a) {
    return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
  }
  function add(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    out[8] = a[8] + b[8];
    out[9] = a[9] + b[9];
    out[10] = a[10] + b[10];
    out[11] = a[11] + b[11];
    out[12] = a[12] + b[12];
    out[13] = a[13] + b[13];
    out[14] = a[14] + b[14];
    out[15] = a[15] + b[15];
    return out;
  }
  function subtract(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    out[3] = a[3] - b[3];
    out[4] = a[4] - b[4];
    out[5] = a[5] - b[5];
    out[6] = a[6] - b[6];
    out[7] = a[7] - b[7];
    out[8] = a[8] - b[8];
    out[9] = a[9] - b[9];
    out[10] = a[10] - b[10];
    out[11] = a[11] - b[11];
    out[12] = a[12] - b[12];
    out[13] = a[13] - b[13];
    out[14] = a[14] - b[14];
    out[15] = a[15] - b[15];
    return out;
  }
  function multiplyScalar(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    out[8] = a[8] * b;
    out[9] = a[9] * b;
    out[10] = a[10] * b;
    out[11] = a[11] * b;
    out[12] = a[12] * b;
    out[13] = a[13] * b;
    out[14] = a[14] * b;
    out[15] = a[15] * b;
    return out;
  }
  function multiplyScalarAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    out[3] = a[3] + b[3] * scale6;
    out[4] = a[4] + b[4] * scale6;
    out[5] = a[5] + b[5] * scale6;
    out[6] = a[6] + b[6] * scale6;
    out[7] = a[7] + b[7] * scale6;
    out[8] = a[8] + b[8] * scale6;
    out[9] = a[9] + b[9] * scale6;
    out[10] = a[10] + b[10] * scale6;
    out[11] = a[11] + b[11] * scale6;
    out[12] = a[12] + b[12] * scale6;
    out[13] = a[13] + b[13] * scale6;
    out[14] = a[14] + b[14] * scale6;
    out[15] = a[15] + b[15] * scale6;
    return out;
  }
  function exactEquals(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
  }
  function equals(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var a8 = a[8], a9 = a[9], a10 = a[10], a11 = a[11];
    var a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    var b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    var b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11];
    var b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= EPSILON * Math.max(1, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= EPSILON * Math.max(1, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= EPSILON * Math.max(1, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= EPSILON * Math.max(1, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= EPSILON * Math.max(1, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= EPSILON * Math.max(1, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= EPSILON * Math.max(1, Math.abs(a15), Math.abs(b15));
  }
  var mul = multiply;
  var sub = subtract;

  // node_modules/gl-matrix/esm/quat.js
  var quat_exports = {};
  __export(quat_exports, {
    add: () => add4,
    calculateW: () => calculateW,
    clone: () => clone4,
    conjugate: () => conjugate,
    copy: () => copy4,
    create: () => create5,
    dot: () => dot3,
    equals: () => equals4,
    exactEquals: () => exactEquals4,
    exp: () => exp,
    fromEuler: () => fromEuler,
    fromMat3: () => fromMat3,
    fromValues: () => fromValues4,
    getAngle: () => getAngle,
    getAxisAngle: () => getAxisAngle,
    identity: () => identity2,
    invert: () => invert2,
    len: () => len2,
    length: () => length3,
    lerp: () => lerp3,
    ln: () => ln,
    mul: () => mul3,
    multiply: () => multiply3,
    normalize: () => normalize3,
    pow: () => pow,
    random: () => random2,
    rotateX: () => rotateX3,
    rotateY: () => rotateY3,
    rotateZ: () => rotateZ3,
    rotationTo: () => rotationTo,
    scale: () => scale4,
    set: () => set4,
    setAxes: () => setAxes,
    setAxisAngle: () => setAxisAngle,
    slerp: () => slerp,
    sqlerp: () => sqlerp,
    sqrLen: () => sqrLen2,
    squaredLength: () => squaredLength3,
    str: () => str3
  });

  // node_modules/gl-matrix/esm/vec3.js
  var vec3_exports = {};
  __export(vec3_exports, {
    add: () => add2,
    angle: () => angle,
    bezier: () => bezier,
    ceil: () => ceil,
    clone: () => clone2,
    copy: () => copy2,
    create: () => create3,
    cross: () => cross,
    dist: () => dist,
    distance: () => distance,
    div: () => div,
    divide: () => divide,
    dot: () => dot,
    equals: () => equals2,
    exactEquals: () => exactEquals2,
    floor: () => floor,
    forEach: () => forEach,
    fromValues: () => fromValues2,
    hermite: () => hermite,
    inverse: () => inverse,
    len: () => len,
    length: () => length,
    lerp: () => lerp,
    max: () => max,
    min: () => min,
    mul: () => mul2,
    multiply: () => multiply2,
    negate: () => negate,
    normalize: () => normalize,
    random: () => random,
    rotateX: () => rotateX2,
    rotateY: () => rotateY2,
    rotateZ: () => rotateZ2,
    round: () => round,
    scale: () => scale2,
    scaleAndAdd: () => scaleAndAdd,
    set: () => set2,
    sqrDist: () => sqrDist,
    sqrLen: () => sqrLen,
    squaredDistance: () => squaredDistance,
    squaredLength: () => squaredLength,
    str: () => str2,
    sub: () => sub2,
    subtract: () => subtract2,
    transformMat3: () => transformMat3,
    transformMat4: () => transformMat4,
    transformQuat: () => transformQuat,
    zero: () => zero
  });
  function create3() {
    var out = new ARRAY_TYPE(3);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    return out;
  }
  function clone2(a) {
    var out = new ARRAY_TYPE(3);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function length(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return Math.hypot(x, y, z);
  }
  function fromValues2(x, y, z) {
    var out = new ARRAY_TYPE(3);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function copy2(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function set2(out, x, y, z) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function add2(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    return out;
  }
  function subtract2(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    return out;
  }
  function multiply2(out, a, b) {
    out[0] = a[0] * b[0];
    out[1] = a[1] * b[1];
    out[2] = a[2] * b[2];
    return out;
  }
  function divide(out, a, b) {
    out[0] = a[0] / b[0];
    out[1] = a[1] / b[1];
    out[2] = a[2] / b[2];
    return out;
  }
  function ceil(out, a) {
    out[0] = Math.ceil(a[0]);
    out[1] = Math.ceil(a[1]);
    out[2] = Math.ceil(a[2]);
    return out;
  }
  function floor(out, a) {
    out[0] = Math.floor(a[0]);
    out[1] = Math.floor(a[1]);
    out[2] = Math.floor(a[2]);
    return out;
  }
  function min(out, a, b) {
    out[0] = Math.min(a[0], b[0]);
    out[1] = Math.min(a[1], b[1]);
    out[2] = Math.min(a[2], b[2]);
    return out;
  }
  function max(out, a, b) {
    out[0] = Math.max(a[0], b[0]);
    out[1] = Math.max(a[1], b[1]);
    out[2] = Math.max(a[2], b[2]);
    return out;
  }
  function round(out, a) {
    out[0] = Math.round(a[0]);
    out[1] = Math.round(a[1]);
    out[2] = Math.round(a[2]);
    return out;
  }
  function scale2(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    return out;
  }
  function scaleAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    return out;
  }
  function distance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return Math.hypot(x, y, z);
  }
  function squaredDistance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return x * x + y * y + z * z;
  }
  function squaredLength(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return x * x + y * y + z * z;
  }
  function negate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    return out;
  }
  function inverse(out, a) {
    out[0] = 1 / a[0];
    out[1] = 1 / a[1];
    out[2] = 1 / a[2];
    return out;
  }
  function normalize(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var len4 = x * x + y * y + z * z;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = a[0] * len4;
    out[1] = a[1] * len4;
    out[2] = a[2] * len4;
    return out;
  }
  function dot(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
  }
  function cross(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2];
    var bx = b[0], by = b[1], bz = b[2];
    out[0] = ay * bz - az * by;
    out[1] = az * bx - ax * bz;
    out[2] = ax * by - ay * bx;
    return out;
  }
  function lerp(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    return out;
  }
  function hermite(out, a, b, c, d, t) {
    var factorTimes2 = t * t;
    var factor1 = factorTimes2 * (2 * t - 3) + 1;
    var factor2 = factorTimes2 * (t - 2) + t;
    var factor3 = factorTimes2 * (t - 1);
    var factor4 = factorTimes2 * (3 - 2 * t);
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function bezier(out, a, b, c, d, t) {
    var inverseFactor = 1 - t;
    var inverseFactorTimesTwo = inverseFactor * inverseFactor;
    var factorTimes2 = t * t;
    var factor1 = inverseFactorTimesTwo * inverseFactor;
    var factor2 = 3 * t * inverseFactorTimesTwo;
    var factor3 = 3 * factorTimes2 * inverseFactor;
    var factor4 = factorTimes2 * t;
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function random(out, scale6) {
    scale6 = scale6 || 1;
    var r = RANDOM() * 2 * Math.PI;
    var z = RANDOM() * 2 - 1;
    var zScale = Math.sqrt(1 - z * z) * scale6;
    out[0] = Math.cos(r) * zScale;
    out[1] = Math.sin(r) * zScale;
    out[2] = z * scale6;
    return out;
  }
  function transformMat4(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    var w = m[3] * x + m[7] * y + m[11] * z + m[15];
    w = w || 1;
    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
    return out;
  }
  function transformMat3(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x * m[0] + y * m[3] + z * m[6];
    out[1] = x * m[1] + y * m[4] + z * m[7];
    out[2] = x * m[2] + y * m[5] + z * m[8];
    return out;
  }
  function transformQuat(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3];
    var x = a[0], y = a[1], z = a[2];
    var uvx = qy * z - qz * y, uvy = qz * x - qx * z, uvz = qx * y - qy * x;
    var uuvx = qy * uvz - qz * uvy, uuvy = qz * uvx - qx * uvz, uuvz = qx * uvy - qy * uvx;
    var w2 = qw * 2;
    uvx *= w2;
    uvy *= w2;
    uvz *= w2;
    uuvx *= 2;
    uuvy *= 2;
    uuvz *= 2;
    out[0] = x + uvx + uuvx;
    out[1] = y + uvy + uuvy;
    out[2] = z + uvz + uuvz;
    return out;
  }
  function rotateX2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0];
    r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
    r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateY2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
    r[1] = p[1];
    r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateZ2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
    r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
    r[2] = p[2];
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function angle(a, b) {
    var ax = a[0], ay = a[1], az = a[2], bx = b[0], by = b[1], bz = b[2], mag1 = Math.sqrt(ax * ax + ay * ay + az * az), mag2 = Math.sqrt(bx * bx + by * by + bz * bz), mag = mag1 * mag2, cosine = mag && dot(a, b) / mag;
    return Math.acos(Math.min(Math.max(cosine, -1), 1));
  }
  function zero(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    return out;
  }
  function str2(a) {
    return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
  }
  function exactEquals2(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
  }
  function equals2(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2];
    var b0 = b[0], b1 = b[1], b2 = b[2];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2));
  }
  var sub2 = subtract2;
  var mul2 = multiply2;
  var div = divide;
  var dist = distance;
  var sqrDist = squaredDistance;
  var len = length;
  var sqrLen = squaredLength;
  var forEach = function() {
    var vec = create3();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 3;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/vec4.js
  function create4() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
    }
    return out;
  }
  function clone3(a) {
    var out = new ARRAY_TYPE(4);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function fromValues3(x, y, z, w) {
    var out = new ARRAY_TYPE(4);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function copy3(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function set3(out, x, y, z, w) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function add3(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    return out;
  }
  function scale3(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    return out;
  }
  function length2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return Math.hypot(x, y, z, w);
  }
  function squaredLength2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return x * x + y * y + z * z + w * w;
  }
  function normalize2(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    var len4 = x * x + y * y + z * z + w * w;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = x * len4;
    out[1] = y * len4;
    out[2] = z * len4;
    out[3] = w * len4;
    return out;
  }
  function dot2(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
  }
  function lerp2(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    var aw = a[3];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    out[3] = aw + t * (b[3] - aw);
    return out;
  }
  function exactEquals3(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
  }
  function equals3(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3));
  }
  var forEach2 = function() {
    var vec = create4();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 4;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        vec[3] = a[i + 3];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
        a[i + 3] = vec[3];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/quat.js
  function create5() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    out[3] = 1;
    return out;
  }
  function identity2(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    return out;
  }
  function setAxisAngle(out, axis, rad) {
    rad = rad * 0.5;
    var s = Math.sin(rad);
    out[0] = s * axis[0];
    out[1] = s * axis[1];
    out[2] = s * axis[2];
    out[3] = Math.cos(rad);
    return out;
  }
  function getAxisAngle(out_axis, q) {
    var rad = Math.acos(q[3]) * 2;
    var s = Math.sin(rad / 2);
    if (s > EPSILON) {
      out_axis[0] = q[0] / s;
      out_axis[1] = q[1] / s;
      out_axis[2] = q[2] / s;
    } else {
      out_axis[0] = 1;
      out_axis[1] = 0;
      out_axis[2] = 0;
    }
    return rad;
  }
  function getAngle(a, b) {
    var dotproduct = dot3(a, b);
    return Math.acos(2 * dotproduct * dotproduct - 1);
  }
  function multiply3(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    out[0] = ax * bw + aw * bx + ay * bz - az * by;
    out[1] = ay * bw + aw * by + az * bx - ax * bz;
    out[2] = az * bw + aw * bz + ax * by - ay * bx;
    out[3] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function rotateX3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + aw * bx;
    out[1] = ay * bw + az * bx;
    out[2] = az * bw - ay * bx;
    out[3] = aw * bw - ax * bx;
    return out;
  }
  function rotateY3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var by = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw - az * by;
    out[1] = ay * bw + aw * by;
    out[2] = az * bw + ax * by;
    out[3] = aw * bw - ay * by;
    return out;
  }
  function rotateZ3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bz = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + ay * bz;
    out[1] = ay * bw - ax * bz;
    out[2] = az * bw + aw * bz;
    out[3] = aw * bw - az * bz;
    return out;
  }
  function calculateW(out, a) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = Math.sqrt(Math.abs(1 - x * x - y * y - z * z));
    return out;
  }
  function exp(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var et = Math.exp(w);
    var s = r > 0 ? et * Math.sin(r) / r : 0;
    out[0] = x * s;
    out[1] = y * s;
    out[2] = z * s;
    out[3] = et * Math.cos(r);
    return out;
  }
  function ln(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var t = r > 0 ? Math.atan2(r, w) / r : 0;
    out[0] = x * t;
    out[1] = y * t;
    out[2] = z * t;
    out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);
    return out;
  }
  function pow(out, a, b) {
    ln(out, a);
    scale4(out, out, b);
    exp(out, out);
    return out;
  }
  function slerp(out, a, b, t) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    var omega, cosom, sinom, scale0, scale1;
    cosom = ax * bx + ay * by + az * bz + aw * bw;
    if (cosom < 0) {
      cosom = -cosom;
      bx = -bx;
      by = -by;
      bz = -bz;
      bw = -bw;
    }
    if (1 - cosom > EPSILON) {
      omega = Math.acos(cosom);
      sinom = Math.sin(omega);
      scale0 = Math.sin((1 - t) * omega) / sinom;
      scale1 = Math.sin(t * omega) / sinom;
    } else {
      scale0 = 1 - t;
      scale1 = t;
    }
    out[0] = scale0 * ax + scale1 * bx;
    out[1] = scale0 * ay + scale1 * by;
    out[2] = scale0 * az + scale1 * bz;
    out[3] = scale0 * aw + scale1 * bw;
    return out;
  }
  function random2(out) {
    var u1 = RANDOM();
    var u2 = RANDOM();
    var u3 = RANDOM();
    var sqrt1MinusU1 = Math.sqrt(1 - u1);
    var sqrtU1 = Math.sqrt(u1);
    out[0] = sqrt1MinusU1 * Math.sin(2 * Math.PI * u2);
    out[1] = sqrt1MinusU1 * Math.cos(2 * Math.PI * u2);
    out[2] = sqrtU1 * Math.sin(2 * Math.PI * u3);
    out[3] = sqrtU1 * Math.cos(2 * Math.PI * u3);
    return out;
  }
  function invert2(out, a) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var dot5 = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;
    var invDot = dot5 ? 1 / dot5 : 0;
    out[0] = -a0 * invDot;
    out[1] = -a1 * invDot;
    out[2] = -a2 * invDot;
    out[3] = a3 * invDot;
    return out;
  }
  function conjugate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    return out;
  }
  function fromMat3(out, m) {
    var fTrace = m[0] + m[4] + m[8];
    var fRoot;
    if (fTrace > 0) {
      fRoot = Math.sqrt(fTrace + 1);
      out[3] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[0] = (m[5] - m[7]) * fRoot;
      out[1] = (m[6] - m[2]) * fRoot;
      out[2] = (m[1] - m[3]) * fRoot;
    } else {
      var i = 0;
      if (m[4] > m[0])
        i = 1;
      if (m[8] > m[i * 3 + i])
        i = 2;
      var j = (i + 1) % 3;
      var k = (i + 2) % 3;
      fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1);
      out[i] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;
      out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;
      out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;
    }
    return out;
  }
  function fromEuler(out, x, y, z) {
    var halfToRad = 0.5 * Math.PI / 180;
    x *= halfToRad;
    y *= halfToRad;
    z *= halfToRad;
    var sx = Math.sin(x);
    var cx = Math.cos(x);
    var sy = Math.sin(y);
    var cy = Math.cos(y);
    var sz = Math.sin(z);
    var cz = Math.cos(z);
    out[0] = sx * cy * cz - cx * sy * sz;
    out[1] = cx * sy * cz + sx * cy * sz;
    out[2] = cx * cy * sz - sx * sy * cz;
    out[3] = cx * cy * cz + sx * sy * sz;
    return out;
  }
  function str3(a) {
    return "quat(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ")";
  }
  var clone4 = clone3;
  var fromValues4 = fromValues3;
  var copy4 = copy3;
  var set4 = set3;
  var add4 = add3;
  var mul3 = multiply3;
  var scale4 = scale3;
  var dot3 = dot2;
  var lerp3 = lerp2;
  var length3 = length2;
  var len2 = length3;
  var squaredLength3 = squaredLength2;
  var sqrLen2 = squaredLength3;
  var normalize3 = normalize2;
  var exactEquals4 = exactEquals3;
  var equals4 = equals3;
  var rotationTo = function() {
    var tmpvec3 = create3();
    var xUnitVec3 = fromValues2(1, 0, 0);
    var yUnitVec3 = fromValues2(0, 1, 0);
    return function(out, a, b) {
      var dot5 = dot(a, b);
      if (dot5 < -0.999999) {
        cross(tmpvec3, xUnitVec3, a);
        if (len(tmpvec3) < 1e-6)
          cross(tmpvec3, yUnitVec3, a);
        normalize(tmpvec3, tmpvec3);
        setAxisAngle(out, tmpvec3, Math.PI);
        return out;
      } else if (dot5 > 0.999999) {
        out[0] = 0;
        out[1] = 0;
        out[2] = 0;
        out[3] = 1;
        return out;
      } else {
        cross(tmpvec3, a, b);
        out[0] = tmpvec3[0];
        out[1] = tmpvec3[1];
        out[2] = tmpvec3[2];
        out[3] = 1 + dot5;
        return normalize3(out, out);
      }
    };
  }();
  var sqlerp = function() {
    var temp1 = create5();
    var temp2 = create5();
    return function(out, a, b, c, d, t) {
      slerp(temp1, a, d, t);
      slerp(temp2, b, c, t);
      slerp(out, temp1, temp2, 2 * t * (1 - t));
      return out;
    };
  }();
  var setAxes = function() {
    var matr = create();
    return function(out, view, right, up) {
      matr[0] = right[0];
      matr[3] = right[1];
      matr[6] = right[2];
      matr[1] = up[0];
      matr[4] = up[1];
      matr[7] = up[2];
      matr[2] = -view[0];
      matr[5] = -view[1];
      matr[8] = -view[2];
      return normalize3(out, fromMat3(out, matr));
    };
  }();

  // node_modules/gl-matrix/esm/quat2.js
  var quat2_exports = {};
  __export(quat2_exports, {
    add: () => add5,
    clone: () => clone5,
    conjugate: () => conjugate2,
    copy: () => copy5,
    create: () => create6,
    dot: () => dot4,
    equals: () => equals5,
    exactEquals: () => exactEquals5,
    fromMat4: () => fromMat4,
    fromRotation: () => fromRotation2,
    fromRotationTranslation: () => fromRotationTranslation2,
    fromRotationTranslationValues: () => fromRotationTranslationValues,
    fromTranslation: () => fromTranslation2,
    fromValues: () => fromValues5,
    getDual: () => getDual,
    getReal: () => getReal,
    getTranslation: () => getTranslation2,
    identity: () => identity3,
    invert: () => invert3,
    len: () => len3,
    length: () => length4,
    lerp: () => lerp4,
    mul: () => mul4,
    multiply: () => multiply4,
    normalize: () => normalize4,
    rotateAroundAxis: () => rotateAroundAxis,
    rotateByQuatAppend: () => rotateByQuatAppend,
    rotateByQuatPrepend: () => rotateByQuatPrepend,
    rotateX: () => rotateX4,
    rotateY: () => rotateY4,
    rotateZ: () => rotateZ4,
    scale: () => scale5,
    set: () => set5,
    setDual: () => setDual,
    setReal: () => setReal,
    sqrLen: () => sqrLen3,
    squaredLength: () => squaredLength4,
    str: () => str4,
    translate: () => translate2
  });
  function create6() {
    var dq = new ARRAY_TYPE(8);
    if (ARRAY_TYPE != Float32Array) {
      dq[0] = 0;
      dq[1] = 0;
      dq[2] = 0;
      dq[4] = 0;
      dq[5] = 0;
      dq[6] = 0;
      dq[7] = 0;
    }
    dq[3] = 1;
    return dq;
  }
  function clone5(a) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = a[0];
    dq[1] = a[1];
    dq[2] = a[2];
    dq[3] = a[3];
    dq[4] = a[4];
    dq[5] = a[5];
    dq[6] = a[6];
    dq[7] = a[7];
    return dq;
  }
  function fromValues5(x1, y1, z1, w1, x2, y2, z2, w2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    dq[4] = x2;
    dq[5] = y2;
    dq[6] = z2;
    dq[7] = w2;
    return dq;
  }
  function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    var ax = x2 * 0.5, ay = y2 * 0.5, az = z2 * 0.5;
    dq[4] = ax * w1 + ay * z1 - az * y1;
    dq[5] = ay * w1 + az * x1 - ax * z1;
    dq[6] = az * w1 + ax * y1 - ay * x1;
    dq[7] = -ax * x1 - ay * y1 - az * z1;
    return dq;
  }
  function fromRotationTranslation2(out, q, t) {
    var ax = t[0] * 0.5, ay = t[1] * 0.5, az = t[2] * 0.5, bx = q[0], by = q[1], bz = q[2], bw = q[3];
    out[0] = bx;
    out[1] = by;
    out[2] = bz;
    out[3] = bw;
    out[4] = ax * bw + ay * bz - az * by;
    out[5] = ay * bw + az * bx - ax * bz;
    out[6] = az * bw + ax * by - ay * bx;
    out[7] = -ax * bx - ay * by - az * bz;
    return out;
  }
  function fromTranslation2(out, t) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = t[0] * 0.5;
    out[5] = t[1] * 0.5;
    out[6] = t[2] * 0.5;
    out[7] = 0;
    return out;
  }
  function fromRotation2(out, q) {
    out[0] = q[0];
    out[1] = q[1];
    out[2] = q[2];
    out[3] = q[3];
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function fromMat4(out, a) {
    var outer = create5();
    getRotation(outer, a);
    var t = new ARRAY_TYPE(3);
    getTranslation(t, a);
    fromRotationTranslation2(out, outer, t);
    return out;
  }
  function copy5(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    return out;
  }
  function identity3(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function set5(out, x1, y1, z1, w1, x2, y2, z2, w2) {
    out[0] = x1;
    out[1] = y1;
    out[2] = z1;
    out[3] = w1;
    out[4] = x2;
    out[5] = y2;
    out[6] = z2;
    out[7] = w2;
    return out;
  }
  var getReal = copy4;
  function getDual(out, a) {
    out[0] = a[4];
    out[1] = a[5];
    out[2] = a[6];
    out[3] = a[7];
    return out;
  }
  var setReal = copy4;
  function setDual(out, q) {
    out[4] = q[0];
    out[5] = q[1];
    out[6] = q[2];
    out[7] = q[3];
    return out;
  }
  function getTranslation2(out, a) {
    var ax = a[4], ay = a[5], az = a[6], aw = a[7], bx = -a[0], by = -a[1], bz = -a[2], bw = a[3];
    out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    return out;
  }
  function translate2(out, a, v) {
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3], bx1 = v[0] * 0.5, by1 = v[1] * 0.5, bz1 = v[2] * 0.5, ax2 = a[4], ay2 = a[5], az2 = a[6], aw2 = a[7];
    out[0] = ax1;
    out[1] = ay1;
    out[2] = az1;
    out[3] = aw1;
    out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;
    out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;
    out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;
    out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;
    return out;
  }
  function rotateX4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateX3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateY4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateY3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateZ4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateZ3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateByQuatAppend(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], ax = a[0], ay = a[1], az = a[2], aw = a[3];
    out[0] = ax * qw + aw * qx + ay * qz - az * qy;
    out[1] = ay * qw + aw * qy + az * qx - ax * qz;
    out[2] = az * qw + aw * qz + ax * qy - ay * qx;
    out[3] = aw * qw - ax * qx - ay * qy - az * qz;
    ax = a[4];
    ay = a[5];
    az = a[6];
    aw = a[7];
    out[4] = ax * qw + aw * qx + ay * qz - az * qy;
    out[5] = ay * qw + aw * qy + az * qx - ax * qz;
    out[6] = az * qw + aw * qz + ax * qy - ay * qx;
    out[7] = aw * qw - ax * qx - ay * qy - az * qz;
    return out;
  }
  function rotateByQuatPrepend(out, q, a) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], bx = a[0], by = a[1], bz = a[2], bw = a[3];
    out[0] = qx * bw + qw * bx + qy * bz - qz * by;
    out[1] = qy * bw + qw * by + qz * bx - qx * bz;
    out[2] = qz * bw + qw * bz + qx * by - qy * bx;
    out[3] = qw * bw - qx * bx - qy * by - qz * bz;
    bx = a[4];
    by = a[5];
    bz = a[6];
    bw = a[7];
    out[4] = qx * bw + qw * bx + qy * bz - qz * by;
    out[5] = qy * bw + qw * by + qz * bx - qx * bz;
    out[6] = qz * bw + qw * bz + qx * by - qy * bx;
    out[7] = qw * bw - qx * bx - qy * by - qz * bz;
    return out;
  }
  function rotateAroundAxis(out, a, axis, rad) {
    if (Math.abs(rad) < EPSILON) {
      return copy5(out, a);
    }
    var axisLength = Math.hypot(axis[0], axis[1], axis[2]);
    rad = rad * 0.5;
    var s = Math.sin(rad);
    var bx = s * axis[0] / axisLength;
    var by = s * axis[1] / axisLength;
    var bz = s * axis[2] / axisLength;
    var bw = Math.cos(rad);
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3];
    out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    var ax = a[4], ay = a[5], az = a[6], aw = a[7];
    out[4] = ax * bw + aw * bx + ay * bz - az * by;
    out[5] = ay * bw + aw * by + az * bx - ax * bz;
    out[6] = az * bw + aw * bz + ax * by - ay * bx;
    out[7] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function add5(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    return out;
  }
  function multiply4(out, a, b) {
    var ax0 = a[0], ay0 = a[1], az0 = a[2], aw0 = a[3], bx1 = b[4], by1 = b[5], bz1 = b[6], bw1 = b[7], ax1 = a[4], ay1 = a[5], az1 = a[6], aw1 = a[7], bx0 = b[0], by0 = b[1], bz0 = b[2], bw0 = b[3];
    out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;
    out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;
    out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;
    out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;
    out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;
    out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;
    out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;
    out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;
    return out;
  }
  var mul4 = multiply4;
  function scale5(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    return out;
  }
  var dot4 = dot3;
  function lerp4(out, a, b, t) {
    var mt = 1 - t;
    if (dot4(a, b) < 0)
      t = -t;
    out[0] = a[0] * mt + b[0] * t;
    out[1] = a[1] * mt + b[1] * t;
    out[2] = a[2] * mt + b[2] * t;
    out[3] = a[3] * mt + b[3] * t;
    out[4] = a[4] * mt + b[4] * t;
    out[5] = a[5] * mt + b[5] * t;
    out[6] = a[6] * mt + b[6] * t;
    out[7] = a[7] * mt + b[7] * t;
    return out;
  }
  function invert3(out, a) {
    var sqlen = squaredLength4(a);
    out[0] = -a[0] / sqlen;
    out[1] = -a[1] / sqlen;
    out[2] = -a[2] / sqlen;
    out[3] = a[3] / sqlen;
    out[4] = -a[4] / sqlen;
    out[5] = -a[5] / sqlen;
    out[6] = -a[6] / sqlen;
    out[7] = a[7] / sqlen;
    return out;
  }
  function conjugate2(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    out[4] = -a[4];
    out[5] = -a[5];
    out[6] = -a[6];
    out[7] = a[7];
    return out;
  }
  var length4 = length3;
  var len3 = length4;
  var squaredLength4 = squaredLength3;
  var sqrLen3 = squaredLength4;
  function normalize4(out, a) {
    var magnitude = squaredLength4(a);
    if (magnitude > 0) {
      magnitude = Math.sqrt(magnitude);
      var a0 = a[0] / magnitude;
      var a1 = a[1] / magnitude;
      var a2 = a[2] / magnitude;
      var a3 = a[3] / magnitude;
      var b0 = a[4];
      var b1 = a[5];
      var b2 = a[6];
      var b3 = a[7];
      var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;
      out[0] = a0;
      out[1] = a1;
      out[2] = a2;
      out[3] = a3;
      out[4] = (b0 - a0 * a_dot_b) / magnitude;
      out[5] = (b1 - a1 * a_dot_b) / magnitude;
      out[6] = (b2 - a2 * a_dot_b) / magnitude;
      out[7] = (b3 - a3 * a_dot_b) / magnitude;
    }
    return out;
  }
  function str4(a) {
    return "quat2(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ")";
  }
  function exactEquals5(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];
  }
  function equals5(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7));
  }

  // node_modules/@wonderlandengine/components/dist/hit-test-location.js
  var __decorate3 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var HitTestLocation = class extends Component {
    tempScaling = new Float32Array(3);
    visible = false;
    xrHitTestSource = null;
    /** Reference space for creating the hit test when the session starts */
    xrReferenceSpace = null;
    /**
     * For maintaining backwards compatibility: Whether to scale the object to 0 and back.
     * @deprecated Use onHitLost and onHitFound instead.
     */
    scaleObject = true;
    /** Emits an event when the hit test switches from visible to invisible */
    onHitLost = new Emitter();
    /** Emits an event when the hit test switches from invisible to visible */
    onHitFound = new Emitter();
    onSessionStartCallback = null;
    onSessionEndCallback = null;
    start() {
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
      if (this.scaleObject) {
        this.tempScaling.set(this.object.scalingLocal);
        this.object.scale([0, 0, 0]);
        this.onHitLost.add(() => {
          this.tempScaling.set(this.object.scalingLocal);
          this.object.scale([0, 0, 0]);
        });
        this.onHitFound.add(() => {
          this.object.scalingLocal.set(this.tempScaling);
          this.object.setDirty();
        });
      }
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    update() {
      const wasVisible = this.visible;
      if (this.xrHitTestSource) {
        const frame = this.engine.xrFrame;
        if (!frame)
          return;
        let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);
        if (hitTestResults.length > 0) {
          let pose = hitTestResults[0].getPose(this.engine.xr.currentReferenceSpace);
          this.visible = !!pose;
          if (pose) {
            setXRRigidTransformLocal(this.object, pose.transform);
          }
        } else {
          this.visible = false;
        }
      }
      if (this.visible != wasVisible) {
        (this.visible ? this.onHitFound : this.onHitLost).notify(this);
      }
    }
    getHitTestResults(frame = this.engine.xr?.frame ?? null) {
      if (!frame)
        return [];
      if (!this.xrHitTestSource)
        return [];
      return frame.getHitTestResults(this.xrHitTestSource);
    }
    onXRSessionStart(session) {
      if (session.requestHitTestSource === void 0) {
        console.error("hit-test-location: hit test feature not available. Deactivating component.");
        this.active = false;
        return;
      }
      session.requestHitTestSource({
        space: this.xrReferenceSpace ?? this.engine.xr.referenceSpaceForType("viewer")
      }).then((hitTestSource) => {
        this.xrHitTestSource = hitTestSource;
      }).catch(console.error);
    }
    onXRSessionEnd() {
      if (!this.xrHitTestSource)
        return;
      this.xrHitTestSource.cancel();
      this.xrHitTestSource = null;
    }
  };
  __publicField(HitTestLocation, "TypeName", "hit-test-location");
  __decorate3([
    property.bool(true)
  ], HitTestLocation.prototype, "scaleObject", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor.js
  var __decorate4 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec2 = new Float32Array(3);
  var CursorTargetEmitters = class {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
  };
  var Cursor = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HitTestLocation);
    }
    _collisionMask = 0;
    _onDeactivateCallbacks = [];
    _input = null;
    _origin = new Float32Array(3);
    _cursorObjScale = new Float32Array(3);
    _direction = new Float32Array(3);
    _projectionMatrix = new Float32Array(16);
    _viewComponent = null;
    _isDown = false;
    _lastIsDown = false;
    _arTouchDown = false;
    _lastPointerPos = new Float32Array(2);
    _lastCursorPosOnTarget = new Float32Array(3);
    _cursorRayScale = new Float32Array(3);
    _hitTestLocation = null;
    _hitTestObject = null;
    _onSessionStartCallback = null;
    /**
     * Whether the cursor (and cursorObject) is visible, i.e. pointing at an object
     * that matches the collision group
     */
    visible = true;
    /** Maximum distance for the cursor's ray cast */
    maxDistance = 100;
    /** Currently hovered object */
    hoveringObject = null;
    /** CursorTarget component of the currently hovered object */
    hoveringObjectTarget = null;
    /** Whether the cursor is hovering reality via hit-test */
    hoveringReality = false;
    /**
     * Global target lets you receive global cursor events on any object.
     */
    globalTarget = new CursorTargetEmitters();
    /**
     * Hit test target lets you receive cursor events for "reality", if
     * `useWebXRHitTest` is set to `true`.
     *
     * @example
     * ```js
     * cursor.hitTestTarget.onClick.add((hit, cursor) => {
     *     // User clicked on reality
     * });
     * ```
     */
    hitTestTarget = new CursorTargetEmitters();
    /** World position of the cursor */
    cursorPos = new Float32Array(3);
    /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */
    collisionGroup = 1;
    /** (optional) Object that visualizes the cursor's ray. */
    cursorRayObject = null;
    /** Axis along which to scale the `cursorRayObject`. */
    cursorRayScalingAxis = 2;
    /** (optional) Object that visualizes the cursor's hit location. */
    cursorObject = null;
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness = 0;
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode = 0;
    /** Whether to set the CSS style of the mouse cursor on desktop */
    styleCursor = true;
    /**
     * Use WebXR hit-test if available.
     *
     * Attaches a hit-test-location component to the cursorObject, which will be used
     * by the cursor to send events to the hitTestTarget with HitTestResult.
     */
    useWebXRHitTest = false;
    _onViewportResize = () => {
      if (!this._viewComponent)
        return;
      mat4_exports.invert(this._projectionMatrix, this._viewComponent.projectionMatrix);
    };
    start() {
      this._collisionMask = 1 << this.collisionGroup;
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("cursor component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness || "none";
          this._input = inputComp;
        }
      } else {
        this.handedness = ["left", "right", "none"][this.handedness - 1];
      }
      this._viewComponent = this.object.getComponent(ViewComponent);
      if (this.useWebXRHitTest) {
        this._hitTestObject = this.engine.scene.addObject(this.object);
        this._hitTestLocation = this._hitTestObject.addComponent(HitTestLocation, {
          scaleObject: false
        }) ?? null;
      }
      this._onSessionStartCallback = this.setupVREvents.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this._onSessionStartCallback);
      this.engine.onResize.add(this._onViewportResize);
      this._setCursorVisibility(true);
      if (this._viewComponent != null) {
        const canvas2 = this.engine.canvas;
        const onClick = this.onClick.bind(this);
        const onPointerMove = this.onPointerMove.bind(this);
        const onPointerDown = this.onPointerDown.bind(this);
        const onPointerUp = this.onPointerUp.bind(this);
        canvas2.addEventListener("click", onClick);
        canvas2.addEventListener("pointermove", onPointerMove);
        canvas2.addEventListener("pointerdown", onPointerDown);
        canvas2.addEventListener("pointerup", onPointerUp);
        this._onDeactivateCallbacks.push(() => {
          canvas2.removeEventListener("click", onClick);
          canvas2.removeEventListener("pointermove", onPointerMove);
          canvas2.removeEventListener("pointerdown", onPointerDown);
          canvas2.removeEventListener("pointerup", onPointerUp);
        });
      }
      this._onViewportResize();
    }
    _setCursorRayTransform(hitPosition) {
      if (!this.cursorRayObject)
        return;
      const dist2 = vec3_exports.dist(this._origin, hitPosition);
      this.cursorRayObject.setTranslationLocal([0, 0, -dist2 / 2]);
      if (this.cursorRayScalingAxis != 4) {
        this.cursorRayObject.resetScaling();
        this._cursorRayScale[this.cursorRayScalingAxis] = dist2 / 2;
        this.cursorRayObject.scale(this._cursorRayScale);
      }
    }
    _setCursorVisibility(visible) {
      if (this.visible == visible)
        return;
      this.visible = visible;
      if (!this.cursorObject)
        return;
      if (visible) {
        this.cursorObject.setScalingWorld(this._cursorObjScale);
      } else {
        this.cursorObject.getScalingLocal(this._cursorObjScale);
        this.cursorObject.scale([0, 0, 0]);
      }
    }
    update() {
      if (this.engine.xr && this._arTouchDown && this._input && this.engine.xr.session.inputSources[0].handedness === "none" && this.engine.xr.session.inputSources[0].gamepad) {
        const p = this.engine.xr.session.inputSources[0].gamepad.axes;
        this._direction[0] = p[0];
        this._direction[1] = -p[1];
        this._direction[2] = -1;
        this.applyTransformAndProjectDirection();
      } else if (this.engine.xr && this._input && this._input.xrInputSource) {
        this._direction[0] = 0;
        this._direction[1] = 0;
        this._direction[2] = -1;
        this.applyTransformToDirection();
      } else if (this._viewComponent) {
        this.updateDirection();
      }
      this.rayCast(null, this.engine.xr?.frame);
      if (this.cursorObject) {
        if (this.hoveringObject && (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {
          this._setCursorVisibility(true);
          this.cursorObject.setTranslationWorld(this.cursorPos);
          this._setCursorRayTransform(this.cursorPos);
        } else {
          this._setCursorVisibility(false);
        }
      }
    }
    /* Returns the hovered cursor target, if available */
    notify(event, originalEvent) {
      const target = this.hoveringObject;
      if (target) {
        const cursorTarget = this.hoveringObjectTarget;
        if (cursorTarget)
          cursorTarget[event].notify(target, this, originalEvent ?? void 0);
        this.globalTarget[event].notify(target, this, originalEvent ?? void 0);
      }
    }
    hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent) {
      const hit = !this.hoveringReality && rayHit.hitCount > 0 ? rayHit.objects[0] : null;
      if (hit) {
        if (!this.hoveringObject || !this.hoveringObject.equals(hit)) {
          if (this.hoveringObject) {
            this.notify("onUnhover", originalEvent);
          }
          this.hoveringObject = hit;
          this.hoveringObjectTarget = this.hoveringObject.getComponent(CursorTarget);
          if (this.styleCursor)
            this.engine.canvas.style.cursor = "pointer";
          this.notify("onHover", originalEvent);
        }
      } else if (this.hoveringObject) {
        this.notify("onUnhover", originalEvent);
        this.hoveringObject = null;
        this.hoveringObjectTarget = null;
        if (this.styleCursor)
          this.engine.canvas.style.cursor = "default";
      }
      if (this.hoveringObject) {
        if (this._isDown !== this._lastIsDown) {
          this.notify(this._isDown ? "onDown" : "onUp", originalEvent);
        }
        if (doClick)
          this.notify("onClick", originalEvent);
      } else if (this.hoveringReality) {
        if (this._isDown !== this._lastIsDown) {
          (this._isDown ? this.hitTestTarget.onDown : this.hitTestTarget.onUp).notify(hitTestResult, this, originalEvent ?? void 0);
        }
        if (doClick)
          this.hitTestTarget.onClick.notify(hitTestResult, this, originalEvent ?? void 0);
      }
      if (hit) {
        if (this.hoveringObject) {
          this.hoveringObject.transformPointInverseWorld(tempVec2, this.cursorPos);
        } else {
          tempVec2.set(this.cursorPos);
        }
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, tempVec2)) {
          this.notify("onMove", originalEvent);
          this._lastCursorPosOnTarget.set(tempVec2);
        }
      } else if (this.hoveringReality) {
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, this.cursorPos)) {
          this.hitTestTarget.onMove.notify(hitTestResult, this, originalEvent ?? void 0);
          this._lastCursorPosOnTarget.set(this.cursorPos);
        }
      } else {
        this._lastCursorPosOnTarget.set(this.cursorPos);
      }
      this._lastIsDown = this._isDown;
    }
    /**
     * Setup event listeners on session object
     * @param s WebXR session
     *
     * Sets up 'select' and 'end' events.
     */
    setupVREvents(s) {
      if (!s)
        console.error("setupVREvents called without a valid session");
      const onSelect = this.onSelect.bind(this);
      s.addEventListener("select", onSelect);
      const onSelectStart = this.onSelectStart.bind(this);
      s.addEventListener("selectstart", onSelectStart);
      const onSelectEnd = this.onSelectEnd.bind(this);
      s.addEventListener("selectend", onSelectEnd);
      this._onDeactivateCallbacks.push(() => {
        if (!this.engine.xrSession)
          return;
        s.removeEventListener("select", onSelect);
        s.removeEventListener("selectstart", onSelectStart);
        s.removeEventListener("selectend", onSelectEnd);
      });
      this._onViewportResize();
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this._onSessionStartCallback);
      this.engine.onResize.remove(this._onViewportResize);
      this._setCursorVisibility(false);
      if (this.hoveringObject)
        this.notify("onUnhover", null);
      if (this.cursorRayObject)
        this.cursorRayObject.scale([0, 0, 0]);
      for (const f of this._onDeactivateCallbacks)
        f();
      this._onDeactivateCallbacks.length = 0;
    }
    onDestroy() {
      this._hitTestObject?.destroy();
    }
    /** 'select' event listener */
    onSelect(e) {
      if (e.inputSource.handedness != this.handedness)
        return;
      this.rayCast(e, e.frame, true);
    }
    /** 'selectstart' event listener */
    onSelectStart(e) {
      this._arTouchDown = true;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = true;
        this.rayCast(e, e.frame);
      }
    }
    /** 'selectend' event listener */
    onSelectEnd(e) {
      this._arTouchDown = false;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = false;
        this.rayCast(e, e.frame);
      }
    }
    /** 'pointermove' event listener */
    onPointerMove(e) {
      if (!e.isPrimary)
        return;
      this.updateMousePos(e);
      this.rayCast(e, null);
    }
    /** 'click' event listener */
    onClick(e) {
      this.updateMousePos(e);
      this.rayCast(e, null, true);
    }
    /** 'pointerdown' event listener */
    onPointerDown(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = true;
      this.rayCast(e);
    }
    /** 'pointerup' event listener */
    onPointerUp(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = false;
      this.rayCast(e);
    }
    /**
     * Update mouse position in non-VR mode and raycast for new position
     * @returns @ref WL.RayHit for new position.
     */
    updateMousePos(e) {
      this._lastPointerPos[0] = e.clientX;
      this._lastPointerPos[1] = e.clientY;
      this.updateDirection();
    }
    updateDirection() {
      const bounds = this.engine.canvas.getBoundingClientRect();
      const left = this._lastPointerPos[0] / bounds.width;
      const top = this._lastPointerPos[1] / bounds.height;
      this._direction[0] = left * 2 - 1;
      this._direction[1] = -top * 2 + 1;
      this._direction[2] = -1;
      this.applyTransformAndProjectDirection();
    }
    applyTransformAndProjectDirection() {
      vec3_exports.transformMat4(this._direction, this._direction, this._projectionMatrix);
      vec3_exports.normalize(this._direction, this._direction);
      this.applyTransformToDirection();
    }
    applyTransformToDirection() {
      vec3_exports.transformQuat(this._direction, this._direction, this.object.transformWorld);
      this.object.getTranslationWorld(this._origin);
    }
    rayCast(originalEvent, frame = null, doClick = false) {
      const rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(this._origin, this._direction, this._collisionMask) : this.engine.physics.rayCast(this._origin, this._direction, this._collisionMask, this.maxDistance);
      let hitResultDistance = Infinity;
      let hitTestResult = null;
      if (this._hitTestLocation?.visible) {
        this._hitTestObject.getTranslationWorld(this.cursorPos);
        hitResultDistance = vec3_exports.distance(this.object.getTranslationWorld(tempVec2), this.cursorPos);
        hitTestResult = this._hitTestLocation?.getHitTestResults(frame)[0];
      }
      let hoveringReality = false;
      if (rayHit.hitCount > 0) {
        const d = rayHit.distances[0];
        if (hitResultDistance >= d) {
          this.cursorPos.set(rayHit.locations[0]);
        } else {
          hoveringReality = true;
        }
      } else if (hitResultDistance < Infinity) {
      } else {
        this.cursorPos.fill(0);
      }
      if (hoveringReality && !this.hoveringReality) {
        this.hitTestTarget.onHover.notify(hitTestResult, this);
      } else if (!hoveringReality && this.hoveringReality) {
        this.hitTestTarget.onUnhover.notify(hitTestResult, this);
      }
      this.hoveringReality = hoveringReality;
      this.hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent);
      return rayHit;
    }
  };
  __publicField(Cursor, "TypeName", "cursor");
  /* Dependencies is deprecated, but we keep it here for compatibility
   * with 1.0.0-rc2 until 1.0.0 is released */
  __publicField(Cursor, "Dependencies", [HitTestLocation]);
  __decorate4([
    property.int(1)
  ], Cursor.prototype, "collisionGroup", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorRayObject", void 0);
  __decorate4([
    property.enum(["x", "y", "z", "none"], "z")
  ], Cursor.prototype, "cursorRayScalingAxis", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorObject", void 0);
  __decorate4([
    property.enum(["input component", "left", "right", "none"], "input component")
  ], Cursor.prototype, "handedness", void 0);
  __decorate4([
    property.enum(["collision", "physx"], "collision")
  ], Cursor.prototype, "rayCastMode", void 0);
  __decorate4([
    property.bool(true)
  ], Cursor.prototype, "styleCursor", void 0);
  __decorate4([
    property.bool(false)
  ], Cursor.prototype, "useWebXRHitTest", void 0);

  // node_modules/@wonderlandengine/components/dist/debug-object.js
  var __decorate5 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var DebugObject = class extends Component {
    /** A second object to print the name of */
    obj = null;
    start() {
      let origin = new Float32Array(3);
      quat2_exports.getTranslation(origin, this.object.transformWorld);
      console.log("Debug object:", this.object.name);
      console.log("Other object:", this.obj?.name);
      console.log("	translation", origin);
      console.log("	transformWorld", this.object.transformWorld);
      console.log("	transformLocal", this.object.transformLocal);
    }
  };
  __publicField(DebugObject, "TypeName", "debug-object");
  __decorate5([
    property.object()
  ], DebugObject.prototype, "obj", void 0);

  // node_modules/@wonderlandengine/components/dist/device-orientation-look.js
  function quatFromEulerYXZ(out, x, y, z) {
    const c1 = Math.cos(x / 2);
    const c2 = Math.cos(y / 2);
    const c3 = Math.cos(z / 2);
    const s1 = Math.sin(x / 2);
    const s2 = Math.sin(y / 2);
    const s3 = Math.sin(z / 2);
    out[0] = s1 * c2 * c3 + c1 * s2 * s3;
    out[1] = c1 * s2 * c3 - s1 * c2 * s3;
    out[2] = c1 * c2 * s3 - s1 * s2 * c3;
    out[3] = c1 * c2 * c3 + s1 * s2 * s3;
  }
  var DeviceOrientationLook = class extends Component {
    start() {
      this.rotationX = 0;
      this.rotationY = 0;
      this.lastClientX = -1;
      this.lastClientY = -1;
    }
    init() {
      this.deviceOrientation = [0, 0, 0, 1];
      this.screenOrientation = window.innerHeight > window.innerWidth ? 0 : 90;
      this._origin = [0, 0, 0];
      window.addEventListener("deviceorientation", function(e) {
        let alpha = e.alpha || 0;
        let beta = e.beta || 0;
        let gamma = e.gamma || 0;
        const toRad = Math.PI / 180;
        quatFromEulerYXZ(this.deviceOrientation, beta * toRad, alpha * toRad, -gamma * toRad);
      }.bind(this));
      window.addEventListener("orientationchange", function(e) {
        this.screenOrientation = window.orientation || 0;
      }.bind(this), false);
    }
    update() {
      if (this.engine.xr)
        return;
      this.object.getTranslationLocal(this._origin);
      this.object.resetTransform();
      if (this.screenOrientation != 0) {
        this.object.rotateAxisAngleDeg([0, 0, -1], this.screenOrientation);
      }
      this.object.rotate([-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)]);
      this.object.rotate(this.deviceOrientation);
      this.object.translate(this._origin);
    }
  };
  __publicField(DeviceOrientationLook, "TypeName", "device-orientation-look");
  __publicField(DeviceOrientationLook, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/finger-cursor.js
  var FingerCursor = class extends Component {
    init() {
      this.lastTarget = null;
    }
    start() {
      this.tip = this.object.getComponent("collision");
    }
    update() {
      const overlaps = this.tip.queryOverlaps();
      let overlapFound = null;
      for (let i = 0; i < overlaps.length; ++i) {
        const o = overlaps[i].object;
        const target = o.getComponent("cursor-target");
        if (target) {
          if (!target.equals(this.lastTarget)) {
            target.onHover(o, this);
            target.onClick(o, this);
          }
          overlapFound = target;
          break;
        }
      }
      if (!overlapFound) {
        if (this.lastTarget)
          this.lastTarget.onUnhover(this.lastTarget.object, this);
        this.lastTarget = null;
        return;
      } else {
        this.lastTarget = overlapFound;
      }
    }
  };
  __publicField(FingerCursor, "TypeName", "finger-cursor");
  __publicField(FingerCursor, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/fixed-foveation.js
  var FixedFoveation = class extends Component {
    start() {
      this.onSessionStartCallback = this.setFixedFoveation.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setFixedFoveation() {
      this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;
    }
  };
  __publicField(FixedFoveation, "TypeName", "fixed-foveation");
  __publicField(FixedFoveation, "Properties", {
    /** Amount to apply from 0 (none) to 1 (full) */
    fixedFoveation: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/hand-tracking.js
  var ORDERED_JOINTS = [
    "wrist",
    "thumb-metacarpal",
    "thumb-phalanx-proximal",
    "thumb-phalanx-distal",
    "thumb-tip",
    "index-finger-metacarpal",
    "index-finger-phalanx-proximal",
    "index-finger-phalanx-intermediate",
    "index-finger-phalanx-distal",
    "index-finger-tip",
    "middle-finger-metacarpal",
    "middle-finger-phalanx-proximal",
    "middle-finger-phalanx-intermediate",
    "middle-finger-phalanx-distal",
    "middle-finger-tip",
    "ring-finger-metacarpal",
    "ring-finger-phalanx-proximal",
    "ring-finger-phalanx-intermediate",
    "ring-finger-phalanx-distal",
    "ring-finger-tip",
    "pinky-finger-metacarpal",
    "pinky-finger-phalanx-proximal",
    "pinky-finger-phalanx-intermediate",
    "pinky-finger-phalanx-distal",
    "pinky-finger-tip"
  ];
  var invTranslation = new Float32Array(3);
  var invRotation = new Float32Array(4);
  var HandTracking = class extends Component {
    init() {
      this.handedness = ["left", "right"][this.handedness];
    }
    joints = {};
    session = null;
    /* Whether last update had a hand pose */
    hasPose = false;
    _childrenActive = true;
    start() {
      if (!("XRHand" in window)) {
        console.warn("WebXR Hand Tracking not supported by this browser.");
        this.active = false;
        return;
      }
      if (this.handSkin) {
        let skin = this.handSkin;
        let jointIds = skin.jointIds;
        this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);
        for (let j = 0; j < jointIds.length; ++j) {
          let joint = this.engine.wrapObject(jointIds[j]);
          this.joints[joint.name] = joint;
        }
        return;
      }
      const jointObjects = this.engine.scene.addObjects(ORDERED_JOINTS.length, this.object.parent, ORDERED_JOINTS.length);
      for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
        let joint = jointObjects[j];
        joint.addComponent(MeshComponent, {
          mesh: this.jointMesh,
          material: this.jointMaterial
        });
        this.joints[ORDERED_JOINTS[j]] = joint;
      }
    }
    update(dt) {
      if (!this.session) {
        if (this.engine.xr)
          this.setupVREvents(this.engine.xr.session);
      }
      if (!this.session)
        return;
      this.hasPose = false;
      if (this.session && this.session.inputSources) {
        for (let i = 0; i < this.session.inputSources.length; ++i) {
          const inputSource = this.session.inputSources[i];
          if (!inputSource || !inputSource.hand || inputSource.handedness != this.handedness)
            continue;
          this.hasPose = true;
          const wristSpace = inputSource.hand.get("wrist");
          if (wristSpace !== null) {
            const p = this.engine.xr.frame.getJointPose(wristSpace, this.engine.xr.currentReferenceSpace);
            if (p) {
              setXRRigidTransformLocal(this.object, p.transform);
            }
          }
          this.object.getRotationLocal(invRotation);
          quat_exports.conjugate(invRotation, invRotation);
          this.object.getTranslationLocal(invTranslation);
          for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
            const jointName = ORDERED_JOINTS[j];
            const joint = this.joints[jointName];
            if (joint === null)
              continue;
            let jointPose = null;
            const jointSpace = inputSource.hand.get(jointName);
            if (jointSpace !== null) {
              jointPose = this.engine.xr.frame.getJointPose(jointSpace, this.engine.xr.currentReferenceSpace);
            }
            if (jointPose !== null) {
              if (this.handSkin) {
                joint.resetTranslationRotation();
                joint.translate([
                  jointPose.transform.position.x - invTranslation[0],
                  jointPose.transform.position.y - invTranslation[1],
                  jointPose.transform.position.z - invTranslation[2]
                ]);
                joint.rotate(invRotation);
                joint.rotateObject([
                  jointPose.transform.orientation.x,
                  jointPose.transform.orientation.y,
                  jointPose.transform.orientation.z,
                  jointPose.transform.orientation.w
                ]);
              } else {
                setXRRigidTransformLocal(joint, jointPose.transform);
                const r = jointPose.radius || 7e-3;
                joint.setScalingLocal([r, r, r]);
              }
            }
          }
        }
      }
      if (!this.hasPose && this._childrenActive) {
        this._childrenActive = false;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(false);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = true;
          this.setChildrenActive(true, this.controllerToDeactivate);
        }
      } else if (this.hasPose && !this._childrenActive) {
        this._childrenActive = true;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(true);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = false;
          this.setChildrenActive(false, this.controllerToDeactivate);
        }
      }
    }
    setChildrenActive(active, object) {
      object = object || this.object;
      const children = object.children;
      for (const o of children) {
        o.active = active;
        this.setChildrenActive(active, o);
      }
    }
    isGrabbing() {
      const indexTipPos = [0, 0, 0];
      quat2_exports.getTranslation(indexTipPos, this.joints["index-finger-tip"].transformLocal);
      const thumbTipPos = [0, 0, 0];
      quat2_exports.getTranslation(thumbTipPos, this.joints["thumb-tip"].transformLocal);
      return vec3_exports.sqrDist(thumbTipPos, indexTipPos) < 1e-3;
    }
    isPointing() {
      const indexTipPos = [0, 0, 0];
      quat2_exports.getTranslation(indexTipPos, this.joints["index-finger-tip"].transformLocal);
      const middleTipPos = [0, 0, 0];
      quat2_exports.getTranslation(middleTipPos, this.joints["middle-finger-tip"].transformLocal);
      const pointingThreshold = 0.05;
      const distance2 = vec3_exports.sqrDist(indexTipPos, middleTipPos);
      return distance2 > pointingThreshold * pointingThreshold;
    }
    setupVREvents(s) {
      this.session = s;
    }
  };
  __publicField(HandTracking, "TypeName", "hand-tracking");
  __publicField(HandTracking, "Properties", {
    /** Handedness determining whether to receive tracking input from right or left hand */
    handedness: { type: Type.Enum, default: "left", values: ["left", "right"] },
    /** (optional) Mesh to use to visualize joints */
    jointMesh: { type: Type.Mesh, default: null },
    /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */
    jointMaterial: { type: Type.Material, default: null },
    /** (optional) Skin to apply tracked joint poses to. If not present, joint spheres will be used for display instead. */
    handSkin: { type: Type.Skin, default: null },
    /** Deactivate children if no pose was tracked */
    deactivateChildrenWithoutPose: { type: Type.Bool, default: true },
    /** Controller objects to activate including children if no pose is available */
    controllerToDeactivate: { type: Type.Object }
  });

  // node_modules/@wonderlandengine/components/dist/howler-audio-listener.js
  var import_howler = __toESM(require_howler(), 1);
  var HowlerAudioListener = class extends Component {
    init() {
      this.origin = new Float32Array(3);
      this.fwd = new Float32Array(3);
      this.up = new Float32Array(3);
    }
    update() {
      if (!this.spatial)
        return;
      this.object.getTranslationWorld(this.origin);
      this.object.getForward(this.fwd);
      this.object.getUp(this.up);
      Howler.pos(this.origin[0], this.origin[1], this.origin[2]);
      Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);
    }
  };
  __publicField(HowlerAudioListener, "TypeName", "howler-audio-listener");
  __publicField(HowlerAudioListener, "Properties", {
    /** Whether audio should be spatialized/positional. */
    spatial: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/howler-audio-source.js
  var import_howler2 = __toESM(require_howler(), 1);
  var HowlerAudioSource = class extends Component {
    start() {
      this.audio = new Howl({
        src: [this.src],
        loop: this.loop,
        volume: this.volume,
        autoplay: this.autoplay
      });
      this.lastPlayedAudioId = null;
      this.origin = new Float32Array(3);
      this.lastOrigin = new Float32Array(3);
      if (this.spatial && this.autoplay) {
        this.updatePosition();
        this.play();
      }
    }
    update() {
      if (!this.spatial || !this.lastPlayedAudioId)
        return;
      this.object.getTranslationWorld(this.origin);
      if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 5e-3 || Math.abs(this.lastOrigin[1] - this.origin[1]) > 5e-3 || Math.abs(this.lastOrigin[2] - this.origin[2]) > 5e-3) {
        this.updatePosition();
      }
    }
    updatePosition() {
      this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);
      this.lastOrigin.set(this.origin);
    }
    play() {
      if (this.lastPlayedAudioId)
        this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = this.audio.play();
      if (this.spatial)
        this.updatePosition();
    }
    stop() {
      if (!this.lastPlayedAudioId)
        return;
      this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = null;
    }
    onDeactivate() {
      this.stop();
    }
  };
  __publicField(HowlerAudioSource, "TypeName", "howler-audio-source");
  __publicField(HowlerAudioSource, "Properties", {
    /** Volume */
    volume: { type: Type.Float, default: 1 },
    /** Whether audio should be spatialized/positional */
    spatial: { type: Type.Bool, default: true },
    /** Whether to loop the sound */
    loop: { type: Type.Bool, default: false },
    /** Whether to start playing automatically */
    autoplay: { type: Type.Bool, default: false },
    /** URL to a sound file to play */
    src: { type: Type.String, default: "" }
  });

  // node_modules/@wonderlandengine/components/dist/utils/utils.js
  function setFirstMaterialTexture(mat, texture, customTextureProperty) {
    if (customTextureProperty !== "auto") {
      mat[customTextureProperty] = texture;
      return true;
    }
    const shader = mat.shader;
    if (shader === "Flat Opaque Textured") {
      mat.flatTexture = texture;
      return true;
    } else if (shader === "Phong Opaque Textured" || shader === "Foliage" || shader === "Phong Normalmapped" || shader === "Phong Lightmapped") {
      mat.diffuseTexture = texture;
      return true;
    } else if (shader === "Particle") {
      mat.mainTexture = texture;
      return true;
    } else if (shader === "DistanceFieldVector") {
      mat.vectorTexture = texture;
      return true;
    } else if (shader === "Background" || shader === "Sky") {
      mat.texture = texture;
      return true;
    } else if (shader === "Physical Opaque Textured") {
      mat.albedoTexture = texture;
      return true;
    }
    return false;
  }

  // node_modules/@wonderlandengine/components/dist/image-texture.js
  var ImageTexture = class extends Component {
    start() {
      if (!this.material) {
        throw Error("image-texture: material property not set");
      }
      this.engine.textures.load(this.url, "anonymous").then((texture) => {
        const mat = this.material;
        if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
          console.error("Shader", mat.shader, "not supported by image-texture");
        }
      }).catch(console.err);
    }
  };
  __publicField(ImageTexture, "TypeName", "image-texture");
  __publicField(ImageTexture, "Properties", {
    /** URL to download the image from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/mouse-look.js
  var MouseLookComponent = class extends Component {
    init() {
      this.currentRotationY = 0;
      this.currentRotationX = 0;
      this.origin = new Float32Array(3);
      this.parentOrigin = new Float32Array(3);
      this.rotationX = 0;
      this.rotationY = 0;
    }
    start() {
      document.addEventListener("mousemove", (e) => {
        if (this.active && (this.mouseDown || !this.requireMouseDown)) {
          this.rotationY = -this.sensitity * e.movementX / 100;
          this.rotationX = -this.sensitity * e.movementY / 100;
          this.currentRotationX += this.rotationX;
          this.currentRotationY += this.rotationY;
          this.currentRotationX = Math.min(1.507, this.currentRotationX);
          this.currentRotationX = Math.max(-1.507, this.currentRotationX);
          this.object.getTranslationWorld(this.origin);
          const parent = this.object.parent;
          if (parent !== null) {
            parent.getTranslationWorld(this.parentOrigin);
            vec3_exports.sub(this.origin, this.origin, this.parentOrigin);
          }
          this.object.resetTranslationRotation();
          this.object.rotateAxisAngleRad([1, 0, 0], this.currentRotationX);
          this.object.rotateAxisAngleRad([0, 1, 0], this.currentRotationY);
          this.object.translate(this.origin);
        }
      });
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.addEventListener("mousedown", () => {
          canvas2.requestPointerLock = canvas2.requestPointerLock || canvas2.mozRequestPointerLock || canvas2.webkitRequestPointerLock;
          canvas2.requestPointerLock();
        });
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex == 2) {
          canvas2.addEventListener("contextmenu", (e) => {
            e.preventDefault();
          }, false);
        }
        canvas2.addEventListener("mousedown", (e) => {
          if (e.button == this.mouseButtonIndex) {
            this.mouseDown = true;
            document.body.style.cursor = "grabbing";
            if (e.button == 1) {
              e.preventDefault();
              return false;
            }
          }
        });
        canvas2.addEventListener("mouseup", (e) => {
          if (e.button == this.mouseButtonIndex) {
            this.mouseDown = false;
            document.body.style.cursor = "initial";
          }
        });
      }
    }
  };
  __publicField(MouseLookComponent, "TypeName", "mouse-look");
  __publicField(MouseLookComponent, "Properties", {
    /** Mouse look sensitivity */
    sensitity: { type: Type.Float, default: 0.25 },
    /** Require a mouse button to be pressed to control view.
     * Otherwise view will allways follow mouse movement */
    requireMouseDown: { type: Type.Bool, default: true },
    /** If "moveOnClick" is enabled, mouse button which should
     * be held down to control view */
    mouseButtonIndex: { type: Type.Int },
    /** Enables pointer lock on "mousedown" event on canvas */
    pointerLockOnClick: { type: Type.Bool, default: false }
  });

  // node_modules/@wonderlandengine/components/dist/player-height.js
  var __decorate6 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var PlayerHeight = class extends Component {
    height = 1.75;
    onSessionStartCallback;
    onSessionEndCallback;
    start() {
      this.object.resetPositionRotation();
      this.object.translateLocal([0, this.height, 0]);
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    onXRSessionStart() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
      }
    }
    onXRSessionEnd() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
        this.object.translateLocal([0, this.height, 0]);
      }
    }
  };
  __publicField(PlayerHeight, "TypeName", "player-height");
  __decorate6([
    property.float(0)
  ], PlayerHeight.prototype, "height", void 0);

  // node_modules/@wonderlandengine/components/dist/target-framerate.js
  var TargetFramerate = class extends Component {
    start() {
      this.onSessionStartCallback = this.setTargetFramerate.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setTargetFramerate(s) {
      if (s.supportedFrameRates && s.updateTargetFrameRate) {
        const a = this.engine.xr.session.supportedFrameRates;
        a.sort((a2, b) => Math.abs(a2 - this.framerate) - Math.abs(b - this.framerate));
        this.engine.xr.session.updateTargetFrameRate(a[0]);
      }
    }
  };
  __publicField(TargetFramerate, "TypeName", "target-framerate");
  __publicField(TargetFramerate, "Properties", {
    framerate: { type: Type.Float, default: 90 }
  });

  // node_modules/@wonderlandengine/components/dist/teleport.js
  var TeleportComponent = class extends Component {
    init() {
      this._prevThumbstickAxis = new Float32Array(2);
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this._currentIndicatorRotation = 0;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error(this.object.name, "generic-teleport-component.js: input component is required on the object");
        return;
      }
      if (!this.teleportIndicatorMeshObject) {
        console.error(this.object.name, "generic-teleport-component.js: Teleport indicator mesh is missing");
        return;
      }
      if (!this.camRoot) {
        console.error(this.object.name, "generic-teleport-component.js: camRoot not set");
        return;
      }
      this.isIndicating = false;
      this.indicatorHidden = true;
      this.hitSpot = new Float32Array(3);
      this._hasHit = false;
      this._extraRotation = 0;
      this._currentStickAxes = new Float32Array(2);
    }
    start() {
      if (this.cam) {
        this.isMouseIndicating = false;
        canvas.addEventListener("mousedown", this.onMouseDown.bind(this));
        canvas.addEventListener("mouseup", this.onMouseUp.bind(this));
      }
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("teleport component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness;
          this.input = inputComp;
        }
      } else {
        this.handedness = ["left", "right"][this.handedness - 1];
      }
      this.onSessionStartCallback = this.setupVREvents.bind(this);
      this.teleportIndicatorMeshObject.active = false;
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    /* Get current camera Y rotation */
    _getCamRotation() {
      this.eyeLeft.getForward(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    update() {
      let inputLength = 0;
      if (this.gamepad && this.gamepad.axes) {
        this._currentStickAxes[0] = this.gamepad.axes[2];
        this._currentStickAxes[1] = this.gamepad.axes[3];
        inputLength = Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);
      }
      if (!this.isIndicating && this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold && this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {
        this.isIndicating = true;
      } else if (this.isIndicating && inputLength < this.thumbstickDeactivationThreshhold) {
        this.isIndicating = false;
        this.teleportIndicatorMeshObject.active = false;
        if (this._hasHit) {
          this._teleportPlayer(this.hitSpot, this._extraRotation);
        }
      }
      if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {
        const origin = this._tempVec0;
        this.object.getPositionWorld(origin);
        const direction2 = this.object.getForwardWorld(this._tempVec);
        let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
        if (rayHit.hitCount > 0) {
          this.indicatorHidden = false;
          this._extraRotation = Math.PI + Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);
          this._currentIndicatorRotation = this._getCamRotation() + (this._extraRotation - Math.PI);
          this.teleportIndicatorMeshObject.resetPositionRotation();
          this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
          this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
          this.teleportIndicatorMeshObject.translate([
            0,
            this.indicatorYOffset,
            0
          ]);
          this.teleportIndicatorMeshObject.active = true;
          this.hitSpot.set(rayHit.locations[0]);
          this._hasHit = true;
        } else {
          if (!this.indicatorHidden) {
            this.teleportIndicatorMeshObject.active = false;
            this.indicatorHidden = true;
          }
          this._hasHit = false;
        }
      } else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {
        this.onMousePressed();
      }
      this._prevThumbstickAxis.set(this._currentStickAxes);
    }
    setupVREvents(s) {
      this.session = s;
      s.addEventListener("end", function() {
        this.gamepad = null;
        this.session = null;
      }.bind(this));
      if (s.inputSources && s.inputSources.length) {
        for (let i = 0; i < s.inputSources.length; i++) {
          let inputSource = s.inputSources[i];
          if (inputSource.handedness == this.handedness) {
            this.gamepad = inputSource.gamepad;
          }
        }
      }
      s.addEventListener("inputsourceschange", function(e) {
        if (e.added && e.added.length) {
          for (let i = 0; i < e.added.length; i++) {
            let inputSource = e.added[i];
            if (inputSource.handedness == this.handedness) {
              this.gamepad = inputSource.gamepad;
            }
          }
        }
      }.bind(this));
    }
    onMouseDown() {
      this.isMouseIndicating = true;
    }
    onMouseUp() {
      this.isMouseIndicating = false;
      this.teleportIndicatorMeshObject.active = false;
      if (this._hasHit) {
        this._teleportPlayer(this.hitSpot, 0);
      }
    }
    onMousePressed() {
      let origin = [0, 0, 0];
      this.cam.getPositionWorld(origin);
      const direction2 = this.cam.getForward(this._tempVec);
      let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
      if (rayHit.hitCount > 0) {
        this.indicatorHidden = false;
        direction2[1] = 0;
        vec3_exports.normalize(direction2, direction2);
        this._currentIndicatorRotation = -Math.sign(direction2[2]) * Math.acos(direction2[0]) - Math.PI * 0.5;
        this.teleportIndicatorMeshObject.resetPositionRotation();
        this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
        this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
        this.teleportIndicatorMeshObject.active = true;
        this.hitSpot = rayHit.locations[0];
        this._hasHit = true;
      } else {
        if (!this.indicatorHidden) {
          this.teleportIndicatorMeshObject.active = false;
          this.indicatorHidden = true;
        }
        this._hasHit = false;
      }
    }
    _teleportPlayer(newPosition, rotationToAdd) {
      this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);
      const p = this._tempVec;
      const p1 = this._tempVec0;
      if (this.session) {
        this.eyeLeft.getPositionWorld(p);
        this.eyeRight.getPositionWorld(p1);
        vec3_exports.add(p, p, p1);
        vec3_exports.scale(p, p, 0.5);
      } else {
        this.cam.getPositionWorld(p);
      }
      this.camRoot.getPositionWorld(p1);
      vec3_exports.sub(p, p1, p);
      p[0] += newPosition[0];
      p[1] = newPosition[1];
      p[2] += newPosition[2];
      this.camRoot.setPositionWorld(p);
    }
  };
  __publicField(TeleportComponent, "TypeName", "teleport");
  __publicField(TeleportComponent, "Properties", {
    /** Object that will be placed as indiciation forwhere the player will teleport to. */
    teleportIndicatorMeshObject: { type: Type.Object },
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: { type: Type.Object },
    /** Non-vr camera for use outside of VR */
    cam: { type: Type.Object },
    /** Left eye for use in VR*/
    eyeLeft: { type: Type.Object },
    /** Right eye for use in VR*/
    eyeRight: { type: Type.Object },
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness: {
      type: Type.Enum,
      values: ["input component", "left", "right", "none"],
      default: "input component"
    },
    /** Collision group of valid "floor" objects that can be teleported on */
    floorGroup: { type: Type.Int, default: 1 },
    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */
    thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },
    /** How far the thumbstick needs to be released to execute the teleport */
    thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },
    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */
    indicatorYOffset: { type: Type.Float, default: 0.01 },
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode: {
      type: Type.Enum,
      values: ["collision", "physx"],
      default: "collision"
    },
    /** Max distance for PhysX raycast */
    maxDistance: { type: Type.Float, default: 100 }
  });

  // node_modules/@wonderlandengine/components/dist/trail.js
  var direction = vec3_exports.create();
  var offset = vec3_exports.create();
  var normal = vec3_exports.create();
  var Trail = class extends Component {
    init() {
      this.points = new Array(this.segments + 1);
      for (let i = 0; i < this.points.length; ++i) {
        this.points[i] = vec3_exports.create();
      }
      this.currentPointOffset = 0;
      this.up = [0, 1, 0];
      this.timeTillNext = this.interval;
    }
    start() {
      this.trailContainer = this.engine.scene.addObject();
      this.meshComp = this.trailContainer.addComponent("mesh");
      this.meshComp.material = this.material;
      const vertexCount = 2 * this.points.length;
      this.indexData = new Uint32Array(6 * this.segments);
      for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {
        this.indexData.subarray(v, v + 6).set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);
      }
      this.mesh = new Mesh(this.engine, {
        vertexCount,
        indexData: this.indexData,
        indexType: MeshIndexType.UnsignedInt
      });
      this.meshComp.mesh = this.mesh;
    }
    updateVertices() {
      const positions = this.mesh.attribute(MeshAttribute.Position);
      const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);
      const normals = this.mesh.attribute(MeshAttribute.Normal);
      vec3_exports.set(direction, 0, 0, 0);
      for (let i = 0; i < this.points.length; ++i) {
        const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];
        const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];
        if (i !== this.points.length - 1) {
          vec3_exports.sub(direction, next, curr);
        }
        vec3_exports.cross(offset, this.up, direction);
        vec3_exports.normalize(offset, offset);
        const timeFraction = 1 - this.timeTillNext / this.interval;
        const fraction = (i - timeFraction) / this.segments;
        vec3_exports.scale(offset, offset, (this.taper ? fraction : 1) * this.width / 2);
        positions.set(i * 2, [
          curr[0] - offset[0],
          curr[1] - offset[1],
          curr[2] - offset[2]
        ]);
        positions.set(i * 2 + 1, [
          curr[0] + offset[0],
          curr[1] + offset[1],
          curr[2] + offset[2]
        ]);
        if (normals) {
          vec3_exports.cross(normal, direction, offset);
          vec3_exports.normalize(normal, normal);
          normals.set(i * 2, normal);
          normals.set(i * 2 + 1, normal);
        }
        if (texCoords) {
          texCoords.set(i * 2, [0, fraction]);
          texCoords.set(i * 2 + 1, [1, fraction]);
        }
      }
      this.mesh.update();
    }
    resetTrail() {
      this.object.getTranslationWorld(this.points[0]);
      for (let i = 1; i < this.points.length; ++i) {
        vec3_exports.copy(this.points[i], this.points[0]);
      }
      this.currentPointIndex = 0;
      this.timeTillNext = this.interval;
    }
    update(dt) {
      this.timeTillNext -= dt;
      if (dt > this.resetThreshold) {
        this.resetTrail();
      }
      if (this.timeTillNext < 0) {
        this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;
        this.timeTillNext = this.timeTillNext % this.interval + this.interval;
      }
      this.object.getTranslationWorld(this.points[this.currentPointIndex]);
      this.updateVertices();
    }
    onActivate() {
      this.resetTrail();
    }
    onDestroy() {
      this.trailContainer.destroy();
      this.mesh.destroy();
    }
  };
  __publicField(Trail, "TypeName", "trail");
  __publicField(Trail, "Properties", {
    /** The material to apply to the trail mesh */
    material: { type: Type.Material },
    /** The number of segments in the trail mesh */
    segments: { type: Type.Int, default: 50 },
    /** The time interval before recording a new point */
    interval: { type: Type.Float, default: 0.1 },
    /** The width of the trail (in world space) */
    width: { type: Type.Float, default: 1 },
    /** Whether or not the trail should taper off */
    taper: { type: Type.Bool, default: true },
    /**
     * The maximum delta time in seconds, above which the trail resets.
     * This prevents the trail from jumping around when updates happen
     * infrequently (e.g. when the tab doesn't have focus).
     */
    resetThreshold: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js
  function clamp(v, a, b) {
    return Math.max(a, Math.min(v, b));
  }
  var rootScaling = new Float32Array(3);
  var tempQuat3 = new Float32Array(4);
  var middlePos = new Float32Array(3);
  var endPos = new Float32Array(3);
  var targetPos = new Float32Array(3);
  var helperPos = new Float32Array(3);
  var rootTransform = new Float32Array(8);
  var middleTransform = new Float32Array(8);
  var endTransform = new Float32Array(8);
  var twoJointIK = function() {
    const ta = new Float32Array(3);
    const ca = new Float32Array(3);
    const ba = new Float32Array(3);
    const ab = new Float32Array(3);
    const cb = new Float32Array(3);
    const axis0 = new Float32Array(3);
    const axis1 = new Float32Array(3);
    const temp = new Float32Array(3);
    return function(root, middle, b, c, targetPos2, eps, helper) {
      ba.set(b);
      const lab = vec3_exports.length(ba);
      vec3_exports.sub(ta, b, c);
      const lcb = vec3_exports.length(ta);
      ta.set(targetPos2);
      const lat = clamp(vec3_exports.length(ta), eps, lab + lcb - eps);
      ca.set(c);
      vec3_exports.scale(ab, b, -1);
      vec3_exports.sub(cb, c, b);
      vec3_exports.normalize(ca, ca);
      vec3_exports.normalize(ba, ba);
      vec3_exports.normalize(ab, ab);
      vec3_exports.normalize(cb, cb);
      vec3_exports.normalize(ta, ta);
      const ac_ab_0 = Math.acos(clamp(vec3_exports.dot(ca, ba), -1, 1));
      const ba_bc_0 = Math.acos(clamp(vec3_exports.dot(ab, cb), -1, 1));
      const ac_at_0 = Math.acos(clamp(vec3_exports.dot(ca, ta), -1, 1));
      const ac_ab_1 = Math.acos(clamp((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));
      const ba_bc_1 = Math.acos(clamp((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));
      if (helper) {
        vec3_exports.sub(ba, helper, b);
        vec3_exports.normalize(ba, ba);
      }
      vec3_exports.cross(axis0, ca, ba);
      vec3_exports.normalize(axis0, axis0);
      vec3_exports.cross(axis1, c, targetPos2);
      vec3_exports.normalize(axis1, axis1);
      middle.transformVectorInverseLocal(temp, axis0);
      root.rotateAxisAngleRadObject(axis1, ac_at_0);
      root.rotateAxisAngleRadObject(axis0, ac_ab_1 - ac_ab_0);
      middle.rotateAxisAngleRadObject(axis0, ba_bc_1 - ba_bc_0);
    };
  }();
  var TwoJointIkSolver = class extends Component {
    time = 0;
    start() {
      this.root.getTransformLocal(rootTransform);
      this.middle.getTransformLocal(middleTransform);
      this.end.getTransformLocal(endTransform);
    }
    update(dt) {
      this.time += dt;
      this.root.setTransformLocal(rootTransform);
      this.middle.setTransformLocal(middleTransform);
      this.end.setTransformLocal(endTransform);
      this.root.getScalingWorld(rootScaling);
      this.middle.getPositionLocal(middlePos);
      this.end.getPositionLocal(endPos);
      this.middle.transformPointLocal(endPos, endPos);
      if (this.helper) {
        this.helper.getPositionWorld(helperPos);
        this.root.transformPointInverseWorld(helperPos, helperPos);
        vec3_exports.div(helperPos, helperPos, rootScaling);
      }
      this.target.getPositionWorld(targetPos);
      this.root.transformPointInverseWorld(targetPos, targetPos);
      vec3_exports.div(targetPos, targetPos, rootScaling);
      twoJointIK(this.root, this.middle, middlePos, endPos, targetPos, 0.01, this.helper ? helperPos : null, this.time);
      if (this.copyTargetRotation) {
        this.end.setRotationWorld(this.target.getRotationWorld(tempQuat3));
      }
    }
  };
  __publicField(TwoJointIkSolver, "TypeName", "two-joint-ik-solver");
  __publicField(TwoJointIkSolver, "Properties", {
    /** Root bone, never moves */
    root: Property.object(),
    /** Bone attached to the root */
    middle: Property.object(),
    /** Bone attached to the middle */
    end: Property.object(),
    /** Target the joins should reach for */
    target: Property.object(),
    /** Flag for copying rotation from target to end */
    copyTargetRotation: Property.bool(true),
    /** Helper object to use to determine joint rotation axis */
    helper: Property.object()
  });

  // node_modules/@wonderlandengine/components/dist/video-texture.js
  var VideoTexture = class extends Component {
    init() {
      if (!this.material) {
        throw Error("video-texture: material property not set");
      }
      this.loaded = false;
      this.frameUpdateRequested = true;
    }
    start() {
      this.video = document.createElement("video");
      this.video.src = this.url;
      this.video.crossOrigin = "anonymous";
      this.video.playsInline = true;
      this.video.loop = this.loop;
      this.video.muted = this.muted;
      this.video.addEventListener("playing", () => {
        this.loaded = true;
      });
      if (this.autoplay) {
        const playAfterUserGesture = () => {
          this.video.play();
          window.removeEventListener("click", playAfterUserGesture);
          window.removeEventListener("touchstart", playAfterUserGesture);
        };
        window.addEventListener("click", playAfterUserGesture);
        window.addEventListener("touchstart", playAfterUserGesture);
      }
    }
    applyTexture() {
      const mat = this.material;
      const shader = mat.shader;
      const texture = this.texture = new Texture(this.engine, this.video);
      if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
        console.error("Shader", shader, "not supported by video-texture");
      }
      if ("requestVideoFrameCallback" in this.video) {
        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
      } else {
        this.video.addEventListener("timeupdate", () => {
          this.frameUpdateRequested = true;
        });
      }
    }
    update(dt) {
      if (this.loaded && this.frameUpdateRequested) {
        if (this.texture) {
          this.texture.update();
        } else {
          this.applyTexture();
        }
        this.frameUpdateRequested = false;
      }
    }
    updateVideo() {
      this.frameUpdateRequested = true;
      this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
    }
  };
  __publicField(VideoTexture, "TypeName", "video-texture");
  __publicField(VideoTexture, "Properties", {
    /** URL to download video from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Whether to loop the video */
    loop: Property.bool(true),
    /** Whether to automatically start playing the video */
    autoplay: Property.bool(true),
    /** Whether to mute sound */
    muted: Property.bool(true),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js
  var VrModeActiveSwitch = class extends Component {
    start() {
      this.components = [];
      this.getComponents(this.object);
      this.onXRSessionEnd();
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    getComponents(obj) {
      const comps = obj.getComponents().filter((c) => c.type !== "vr-mode-active-switch");
      this.components = this.components.concat(comps);
      if (this.affectChildren) {
        let children = obj.children;
        for (let i = 0; i < children.length; ++i) {
          this.getComponents(children[i]);
        }
      }
    }
    setComponentsActive(active) {
      const comps = this.components;
      for (let i = 0; i < comps.length; ++i) {
        comps[i].active = active;
      }
    }
    onXRSessionStart() {
      this.setComponentsActive(this.activateComponents == 0);
    }
    onXRSessionEnd() {
      this.setComponentsActive(this.activateComponents != 0);
    }
  };
  __publicField(VrModeActiveSwitch, "TypeName", "vr-mode-active-switch");
  __publicField(VrModeActiveSwitch, "Properties", {
    /** When components should be active: In VR or when not in VR */
    activateComponents: {
      type: Type.Enum,
      values: ["in VR", "in non-VR"],
      default: "in VR"
    },
    /** Whether child object's components should be affected */
    affectChildren: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/plane-detection.js
  var import_earcut = __toESM(require_earcut(), 1);
  var __decorate7 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec32 = new Float32Array(3);
  function extentsFromContour(out, points) {
    if (points.length == 0)
      return out;
    let absMaxX = Math.abs(points[0].x);
    let absMaxZ = Math.abs(points[0].z);
    for (let i = 1; i < points.length; ++i) {
      absMaxX = Math.max(absMaxX, Math.abs(points[i].x));
      absMaxZ = Math.max(absMaxZ, Math.abs(points[i].z));
    }
    out[0] = absMaxX;
    out[1] = 0;
    out[2] = absMaxZ;
  }
  function within(x, a, b) {
    if (a > b)
      return x < a && x > b;
    return x > a && x < b;
  }
  function isPointLocalOnXRPlanePolygon(p, plane) {
    const points = plane.polygon;
    if (points.length < 3)
      return false;
    const pX = p[0];
    const pZ = p[2];
    let intersections = 0;
    for (let n = 0, l = points.length - 1; n < points.length; ++n) {
      const aX = points[l].x;
      const aZ = points[l].z;
      const s = (points[n].z - aZ) / (points[n].x - aX);
      const x = Math.abs((pZ - aZ) / s);
      if (x >= 0 && x <= 1 && within(x + pX, aX, points[n].x))
        ++intersections;
      l = n;
    }
    return (intersections & 1) == 0;
  }
  function isPointWorldOnXRPlanePolygon(object, p, plane) {
    if (plane.polygon.length < 3)
      return false;
    isPointLocalOnXRPlanePolygon(object.transformPointInverseWorld(tempVec32, p), plane);
  }
  function planeMeshFromContour(engine, points, meshToUpdate = null) {
    const vertexCount = points.length;
    const vertices = new Float32Array(vertexCount * 2);
    for (let i = 0, d = 0; i < vertexCount; ++i, d += 2) {
      vertices[d] = points[i].x;
      vertices[d + 1] = points[i].z;
    }
    const triangles = (0, import_earcut.default)(vertices);
    const mesh = meshToUpdate || new Mesh(engine, {
      vertexCount,
      /* Assumption here that we will never have more than 256 points
       * in the detected plane meshes! */
      indexType: MeshIndexType.UnsignedByte,
      indexData: triangles
    });
    if (mesh.vertexCount !== vertexCount) {
      console.warn("vertexCount of meshToUpdate did not match required vertexCount");
      return mesh;
    }
    const positions = mesh.attribute(MeshAttribute.Position);
    const textureCoords = mesh.attribute(MeshAttribute.TextureCoordinate);
    const normals = mesh.attribute(MeshAttribute.Normal);
    tempVec32[1] = 0;
    for (let i = 0, s = 0; i < vertexCount; ++i, s += 2) {
      tempVec32[0] = vertices[s];
      tempVec32[2] = vertices[s + 1];
      positions.set(i, tempVec32);
    }
    textureCoords?.set(0, vertices);
    if (normals) {
      tempVec32[0] = 0;
      tempVec32[1] = 1;
      tempVec32[2] = 0;
      for (let i = 0; i < vertexCount; ++i) {
        normals.set(i, tempVec32);
      }
    }
    if (meshToUpdate)
      mesh.update();
    return mesh;
  }
  var _planeLost, planeLost_fn, _planeFound, planeFound_fn, _planeUpdate, planeUpdate_fn, _planeUpdatePose, planeUpdatePose_fn;
  var PlaneDetection = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _planeLost);
      __privateAdd(this, _planeFound);
      __privateAdd(this, _planeUpdate);
      __privateAdd(this, _planeUpdatePose);
      /**
       * Material to assign to created plane meshes or `null` if meshes should not be created.
       */
      __publicField(this, "planeMaterial", null);
      /**
       * Collision mask to assign to newly created collision components or a negative value if
       * collision components should not be created.
       */
      __publicField(this, "collisionMask", -1);
      /** Map of all planes and their last updated timestamps */
      __publicField(this, "planes", /* @__PURE__ */ new Map());
      /** Objects generated for each XRPlane */
      __publicField(this, "planeObjects", /* @__PURE__ */ new Map());
      /** Called when a plane starts tracking */
      __publicField(this, "onPlaneFound", new Emitter());
      /** Called when a plane stops tracking */
      __publicField(this, "onPlaneLost", new Emitter());
    }
    update() {
      if (!this.engine.xr?.frame)
        return;
      if (this.engine.xr.frame.detectedPlanes === void 0) {
        console.error("plane-detection: WebXR feature not available.");
        this.active = false;
        return;
      }
      const detectedPlanes = this.engine.xr.frame.detectedPlanes;
      for (const [plane, _] of this.planes) {
        if (!detectedPlanes.has(plane)) {
          __privateMethod(this, _planeLost, planeLost_fn).call(this, plane);
        }
      }
      detectedPlanes.forEach((plane) => {
        if (this.planes.has(plane)) {
          if (plane.lastChangedTime > this.planes.get(plane)) {
            __privateMethod(this, _planeUpdate, planeUpdate_fn).call(this, plane);
          }
        } else {
          __privateMethod(this, _planeFound, planeFound_fn).call(this, plane);
        }
        __privateMethod(this, _planeUpdatePose, planeUpdatePose_fn).call(this, plane);
      });
    }
  };
  _planeLost = new WeakSet();
  planeLost_fn = function(plane) {
    this.planes.delete(plane);
    const o = this.planeObjects.get(plane);
    this.onPlaneLost.notify(plane, o);
    if (o.objectId > 0)
      o.destroy();
  };
  _planeFound = new WeakSet();
  planeFound_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const o = this.engine.scene.addObject(this.object);
    this.planeObjects.set(plane, o);
    if (this.planeMaterial) {
      o.addComponent(MeshComponent, {
        mesh: planeMeshFromContour(this.engine, plane.polygon),
        material: this.planeMaterial
      });
    }
    if (this.collisionMask >= 0) {
      extentsFromContour(tempVec32, plane.polygon);
      tempVec32[1] = 0.025;
      o.addComponent(CollisionComponent, {
        group: this.collisionMask,
        collider: Collider.Box,
        extents: tempVec32
      });
    }
    this.onPlaneFound.notify(plane, o);
  };
  _planeUpdate = new WeakSet();
  planeUpdate_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const planeMesh = this.planeObjects.get(plane).getComponent(MeshComponent);
    if (!planeMesh)
      return;
    planeMeshFromContour(this.engine, plane.polygon, planeMesh.mesh);
  };
  _planeUpdatePose = new WeakSet();
  planeUpdatePose_fn = function(plane) {
    const o = this.planeObjects.get(plane);
    const pose = this.engine.xr.frame.getPose(plane.planeSpace, this.engine.xr.currentReferenceSpace);
    if (!pose) {
      o.active = false;
      return;
    }
    setXRRigidTransformLocal(o, pose.transform);
  };
  __publicField(PlaneDetection, "TypeName", "plane-detection");
  __decorate7([
    property.material()
  ], PlaneDetection.prototype, "planeMaterial", void 0);
  __decorate7([
    property.int()
  ], PlaneDetection.prototype, "collisionMask", void 0);

  // node_modules/@wonderlandengine/components/dist/vrm.js
  var VRM_ROLL_AXES = {
    X: [1, 0, 0],
    Y: [0, 1, 0],
    Z: [0, 0, 1]
  };
  var VRM_AIM_AXES = {
    PositiveX: [1, 0, 0],
    NegativeX: [-1, 0, 0],
    PositiveY: [0, 1, 0],
    NegativeY: [0, -1, 0],
    PositiveZ: [0, 0, 1],
    NegativeZ: [0, 0, -1]
  };
  var Vrm = class extends Component {
    /** Meta information about the VRM model */
    meta = null;
    /** The humanoid bones of the VRM model */
    bones = {
      /* Torso */
      hips: null,
      spine: null,
      chest: null,
      upperChest: null,
      neck: null,
      /* Head */
      head: null,
      leftEye: null,
      rightEye: null,
      jaw: null,
      /* Legs */
      leftUpperLeg: null,
      leftLowerLeg: null,
      leftFoot: null,
      leftToes: null,
      rightUpperLeg: null,
      rightLowerLeg: null,
      rightFoot: null,
      rightToes: null,
      /* Arms */
      leftShoulder: null,
      leftUpperArm: null,
      leftLowerArm: null,
      leftHand: null,
      rightShoulder: null,
      rightUpperArm: null,
      rightLowerArm: null,
      rightHand: null,
      /* Fingers */
      leftThumbMetacarpal: null,
      leftThumbProximal: null,
      leftThumbDistal: null,
      leftIndexProximal: null,
      leftIndexIntermediate: null,
      leftIndexDistal: null,
      leftMiddleProximal: null,
      leftMiddleIntermediate: null,
      leftMiddleDistal: null,
      leftRingProximal: null,
      leftRingIntermediate: null,
      leftRingDistal: null,
      leftLittleProximal: null,
      leftLittleIntermediate: null,
      leftLittleDistal: null,
      rightThumbMetacarpal: null,
      rightThumbProximal: null,
      rightThumbDistal: null,
      rightIndexProximal: null,
      rightIndexIntermediate: null,
      rightIndexDistal: null,
      rightMiddleProximal: null,
      rightMiddleIntermediate: null,
      rightMiddleDistal: null,
      rightRingProximal: null,
      rightRingIntermediate: null,
      rightRingDistal: null,
      rightLittleProximal: null,
      rightLittleIntermediate: null,
      rightLittleDistal: null
    };
    /** Rotations of the bones in the rest pose (T-pose) */
    restPose = {};
    /* All node constraints, ordered to deal with dependencies */
    _nodeConstraints = [];
    /* VRMC_springBone chains */
    _springChains = [];
    /* Spherical colliders for spring bones */
    _sphereColliders = [];
    /* Capsule shaped colliders for spring bones */
    _capsuleColliders = [];
    /* Indicates which meshes are rendered in first/third person views */
    _firstPersonAnnotations = [];
    /* Contains details for (bone type) lookAt behaviour */
    _lookAt = null;
    /* Whether or not the VRM component has been initialized with `initializeVrm` */
    _initialized = false;
    init() {
      this._tempV3 = vec3_exports.create();
      this._tempV3A = vec3_exports.create();
      this._tempV3B = vec3_exports.create();
      this._tempQuat = quat_exports.create();
      this._tempQuatA = quat_exports.create();
      this._tempQuatB = quat_exports.create();
      this._tempMat4A = mat4_exports.create();
      this._tempQuat2 = quat2_exports.create();
      this._tailToShape = vec3_exports.create();
      this._headToTail = vec3_exports.create();
      this._inertia = vec3_exports.create();
      this._stiffness = vec3_exports.create();
      this._external = vec3_exports.create();
      this._rightVector = vec3_exports.set(vec3_exports.create(), 1, 0, 0);
      this._upVector = vec3_exports.set(vec3_exports.create(), 0, 1, 0);
      this._forwardVector = vec3_exports.set(vec3_exports.create(), 0, 0, 1);
      this._identityQuat = quat_exports.identity(quat_exports.create());
      this._rad2deg = 180 / Math.PI;
    }
    start() {
      if (!this.src) {
        console.error("vrm: src property not set");
        return;
      }
      this.engine.scene.append(this.src, { loadGltfExtensions: true }).then(({ root, extensions }) => {
        root.children.forEach((child) => child.parent = this.object);
        this._initializeVrm(extensions);
        root.destroy();
      });
    }
    /**
     * Parses the VRM glTF extensions and initializes the vrm component.
     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model
     */
    _initializeVrm(extensions) {
      if (this._initialized) {
        throw Error("VRM component has already been initialized");
      }
      const VRMC_vrm = extensions.root["VRMC_vrm"];
      if (!VRMC_vrm) {
        throw Error("Missing VRM extensions");
      }
      if (VRMC_vrm.specVersion !== "1.0") {
        throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);
      }
      this.meta = VRMC_vrm.meta;
      this._parseHumanoid(VRMC_vrm.humanoid, extensions);
      if (VRMC_vrm.firstPerson) {
        this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);
      }
      if (VRMC_vrm.lookAt) {
        this._parseLookAt(VRMC_vrm.lookAt);
      }
      this._findAndParseNodeConstraints(extensions);
      const springBone = extensions.root["VRMC_springBone"];
      if (springBone) {
        this._parseAndInitializeSpringBones(springBone, extensions);
      }
      this._initialized = true;
    }
    _parseHumanoid(humanoid, extensions) {
      for (const boneName in humanoid.humanBones) {
        if (!(boneName in this.bones)) {
          console.warn(`Unrecognized bone '${boneName}'`);
          continue;
        }
        const node = humanoid.humanBones[boneName].node;
        const objectId = extensions.idMapping[node];
        this.bones[boneName] = this.engine.wrapObject(objectId);
        this.restPose[boneName] = quat_exports.copy(quat_exports.create(), this.bones[boneName].rotationLocal);
      }
    }
    _parseFirstPerson(firstPerson, extensions) {
      for (const meshAnnotation of firstPerson.meshAnnotations) {
        const annotation = {
          node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),
          firstPerson: true,
          thirdPerson: true
        };
        switch (meshAnnotation.type) {
          case "firstPersonOnly":
            annotation.thirdPerson = false;
            break;
          case "thirdPersonOnly":
            annotation.firstPerson = false;
            break;
          case "both":
            break;
          case "auto":
            console.warn("First person mesh annotation type 'auto' is not supported, treating as 'both'!");
            break;
          default:
            console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);
            break;
        }
        this._firstPersonAnnotations.push(annotation);
      }
    }
    _parseLookAt(lookAt2) {
      if (lookAt2.type !== "bone") {
        console.warn(`Unsupported lookAt type '${lookAt2.type}', only 'bone' is supported`);
        return;
      }
      const parseRangeMap = (rangeMap) => {
        return {
          inputMaxValue: rangeMap.inputMaxValue,
          outputScale: rangeMap.outputScale
        };
      };
      this._lookAt = {
        offsetFromHeadBone: lookAt2.offsetFromHeadBone || [0, 0, 0],
        horizontalInner: parseRangeMap(lookAt2.rangeMapHorizontalInner),
        horizontalOuter: parseRangeMap(lookAt2.rangeMapHorizontalOuter),
        verticalDown: parseRangeMap(lookAt2.rangeMapVerticalDown),
        verticalUp: parseRangeMap(lookAt2.rangeMapVerticalUp)
      };
    }
    _findAndParseNodeConstraints(extensions) {
      const traverse = (object) => {
        const nodeExtensions = extensions.node[object.objectId];
        if (nodeExtensions && "VRMC_node_constraint" in nodeExtensions) {
          const nodeConstraintExtension = nodeExtensions["VRMC_node_constraint"];
          const constraint = nodeConstraintExtension.constraint;
          let type, axis;
          if ("roll" in constraint) {
            type = "roll";
            axis = VRM_ROLL_AXES[constraint.roll.rollAxis];
          } else if ("aim" in constraint) {
            type = "aim";
            axis = VRM_AIM_AXES[constraint.aim.aimAxis];
          } else if ("rotation" in constraint) {
            type = "rotation";
          }
          if (type) {
            const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);
            this._nodeConstraints.push({
              type,
              source,
              destination: object,
              axis,
              weight: constraint[type].weight,
              /* Rest pose */
              destinationRestLocalRotation: quat_exports.copy(quat_exports.create(), object.rotationLocal),
              sourceRestLocalRotation: quat_exports.copy(quat_exports.create(), source.rotationLocal),
              sourceRestLocalRotationInv: quat_exports.invert(quat_exports.create(), source.rotationLocal)
            });
          } else {
            console.warn("Unrecognized or invalid VRMC_node_constraint, ignoring it");
          }
        }
        for (const child of object.children) {
          traverse(child);
        }
      };
      traverse(this.object);
    }
    _parseAndInitializeSpringBones(springBone, extensions) {
      const colliders = (springBone.colliders || []).map((collider, i) => {
        const shapeType = "capsule" in collider.shape ? "capsule" : "sphere";
        return {
          id: i,
          object: this.engine.wrapObject(extensions.idMapping[collider.node]),
          shape: {
            isCapsule: shapeType === "capsule",
            radius: collider.shape[shapeType].radius,
            offset: collider.shape[shapeType].offset,
            tail: collider.shape[shapeType].tail
          },
          cache: {
            head: vec3_exports.create(),
            tail: vec3_exports.create()
          }
        };
      });
      this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);
      this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);
      const colliderGroups = (springBone.colliderGroups || []).map((group) => ({
        name: group.name,
        colliders: group.colliders.map((c) => colliders[c])
      }));
      for (const spring of springBone.springs) {
        const joints = [];
        for (const joint of spring.joints) {
          const springJoint = {
            hitRadius: 0,
            stiffness: 1,
            gravityPower: 0,
            gravityDir: [0, -1, 0],
            dragForce: 0.5,
            node: null,
            state: null
          };
          Object.assign(springJoint, joint);
          springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);
          joints.push(springJoint);
        }
        const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);
        this._springChains.push({
          name: spring.name,
          center: spring.center ? this.engine.wrapObject(extensions.idMapping[spring.center]) : null,
          joints,
          sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),
          capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule)
        });
      }
      for (const springChain of this._springChains) {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const springBoneJoint = springChain.joints[i];
          const childSpringBoneJoint = springChain.joints[i + 1];
          const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const boneDirection = vec3_exports.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);
          const state = {
            prevTail: childSpringBonePosition,
            currentTail: vec3_exports.copy(vec3_exports.create(), childSpringBonePosition),
            initialLocalRotation: quat_exports.copy(quat_exports.create(), springBoneJoint.node.rotationLocal),
            initialLocalTransformInvert: quat2_exports.invert(quat2_exports.create(), springBoneJoint.node.transformLocal),
            boneAxis: vec3_exports.normalize(vec3_exports.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),
            /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */
            boneLength: Math.max(0.01, vec3_exports.length(boneDirection)),
            /* Tail positions in center space, if needed */
            prevTailCenter: null,
            currentTailCenter: null
          };
          if (springChain.center) {
            state.prevTailCenter = springChain.center.transformPointInverseWorld(vec3_exports.create(), childSpringBonePosition);
            state.currentTailCenter = vec3_exports.copy(vec3_exports.create(), childSpringBonePosition);
          }
          springBoneJoint.state = state;
        }
      }
    }
    update(dt) {
      if (!this._initialized) {
        return;
      }
      this._resolveLookAt();
      this._resolveConstraints();
      this._updateSpringBones(dt);
    }
    _rangeMap(rangeMap, input) {
      const maxValue = rangeMap.inputMaxValue;
      const outputScale = rangeMap.outputScale;
      return Math.min(input, maxValue) / maxValue * outputScale;
    }
    _resolveLookAt() {
      if (!this._lookAt || !this.lookAtTarget) {
        return;
      }
      const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);
      const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);
      const lookAtDirection = vec3_exports.sub(this._tempV3A, lookAtTarget, lookAtSource);
      vec3_exports.normalize(lookAtDirection, lookAtDirection);
      this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);
      const z = vec3_exports.dot(lookAtDirection, this._forwardVector);
      const x = vec3_exports.dot(lookAtDirection, this._rightVector);
      const yaw = Math.atan2(x, z) * this._rad2deg;
      const xz = Math.sqrt(x * x + z * z);
      const y = vec3_exports.dot(lookAtDirection, this._upVector);
      let pitch = Math.atan2(-y, xz) * this._rad2deg;
      if (pitch > 0) {
        pitch = this._rangeMap(this._lookAt.verticalDown, pitch);
      } else {
        pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);
      }
      if (this.bones.leftEye) {
        let yawLeft = yaw;
        if (yawLeft > 0) {
          yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);
        } else {
          yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawLeft, 0);
        this.bones.leftEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);
      }
      if (this.bones.rightEye) {
        let yawRight = yaw;
        if (yawRight > 0) {
          yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);
        } else {
          yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawRight, 0);
        this.bones.rightEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);
      }
    }
    _resolveConstraints() {
      for (const nodeConstraint of this._nodeConstraints) {
        this._resolveConstraint(nodeConstraint);
      }
    }
    _resolveConstraint(nodeConstraint) {
      const dstRestQuat = nodeConstraint.destinationRestLocalRotation;
      const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;
      const targetQuat = quat_exports.identity(this._tempQuatA);
      switch (nodeConstraint.type) {
        case "roll":
          {
            const deltaSrcQuat = quat_exports.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            const deltaSrcQuatInParent = quat_exports.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);
            quat_exports.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);
            const dstRestQuatInv = quat_exports.invert(this._tempQuatB, dstRestQuat);
            const deltaSrcQuatInDst = quat_exports.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);
            quat_exports.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);
            const toVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);
            quat_exports.mul(targetQuat, dstRestQuat, quat_exports.invert(this._tempQuat, fromToQuat));
            quat_exports.mul(targetQuat, targetQuat, deltaSrcQuatInDst);
          }
          break;
        case "aim":
          {
            const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;
            const fromVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);
            vec3_exports.transformQuat(fromVec, fromVec, dstParentWorldQuat);
            const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);
            vec3_exports.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));
            vec3_exports.normalize(toVec, toVec);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, fromVec, toVec);
            quat_exports.mul(targetQuat, quat_exports.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);
            quat_exports.mul(targetQuat, targetQuat, dstParentWorldQuat);
            quat_exports.mul(targetQuat, targetQuat, dstRestQuat);
          }
          break;
        case "rotation":
          {
            const srcDeltaQuat = quat_exports.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            quat_exports.mul(targetQuat, dstRestQuat, srcDeltaQuat);
          }
          break;
      }
      quat_exports.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);
      nodeConstraint.destination.rotationLocal = targetQuat;
    }
    _updateSpringBones(dt) {
      this._sphereColliders.forEach(({ object, shape, cache }) => {
        const offset2 = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(offset2);
        vec3_exports.add(cache.head, object.getTranslationWorld(this._tempV3), offset2);
      });
      this._capsuleColliders.forEach(({ object, shape, cache }) => {
        const shapeCenter = object.getTranslationWorld(this._tempV3A);
        const headOffset = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(headOffset);
        vec3_exports.add(cache.head, shapeCenter, headOffset);
        const tailOffset = vec3_exports.copy(cache.tail, shape.tail);
        object.transformVectorWorld(tailOffset);
        vec3_exports.add(cache.tail, shapeCenter, tailOffset);
      });
      this._springChains.forEach((springChain) => {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const joint = springChain.joints[i];
          const parentWorldRotation = joint.node.parent ? joint.node.parent.rotationWorld : this._identityQuat;
          const inertia = this._inertia;
          if (springChain.center) {
            vec3_exports.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);
            springChain.center.transformVectorWorld(inertia);
          } else {
            vec3_exports.sub(inertia, joint.state.currentTail, joint.state.prevTail);
          }
          vec3_exports.scale(inertia, inertia, 1 - joint.dragForce);
          const stiffness = vec3_exports.copy(this._stiffness, joint.state.boneAxis);
          vec3_exports.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);
          vec3_exports.transformQuat(stiffness, stiffness, parentWorldRotation);
          vec3_exports.scale(stiffness, stiffness, dt * joint.stiffness);
          const external = vec3_exports.scale(this._external, joint.gravityDir, dt * joint.gravityPower);
          const nextTail = vec3_exports.copy(this._tempV3A, joint.state.currentTail);
          vec3_exports.add(nextTail, nextTail, inertia);
          vec3_exports.add(nextTail, nextTail, stiffness);
          vec3_exports.add(nextTail, nextTail, external);
          const worldPosition = joint.node.getTranslationWorld(this._tempV3B);
          vec3_exports.sub(nextTail, nextTail, worldPosition);
          vec3_exports.normalize(nextTail, nextTail);
          vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
          for (const { shape, cache } of springChain.sphereColliders) {
            let tailToShape = this._tailToShape;
            const sphereCenter = cache.head;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, sphereCenter);
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          for (const { shape, cache } of springChain.capsuleColliders) {
            let tailToShape = this._tailToShape;
            const head = cache.head;
            const tail = cache.tail;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, head);
            const headToTail = vec3_exports.sub(this._headToTail, tail, head);
            const dot5 = vec3_exports.dot(headToTail, tailToShape);
            if (vec3_exports.squaredLength(headToTail) <= dot5) {
              vec3_exports.sub(tailToShape, nextTail, tail);
            } else if (dot5 > 0) {
              vec3_exports.scale(headToTail, headToTail, dot5 / vec3_exports.squaredLength(headToTail));
              vec3_exports.sub(tailToShape, tailToShape, headToTail);
            }
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          vec3_exports.copy(joint.state.prevTail, joint.state.currentTail);
          vec3_exports.copy(joint.state.currentTail, nextTail);
          if (springChain.center) {
            vec3_exports.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);
            vec3_exports.copy(joint.state.currentTailCenter, nextTail);
            springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);
          }
          joint.node.parent.transformPointInverseWorld(nextTail);
          const nextTailDualQuat = quat2_exports.fromTranslation(this._tempQuat2, nextTail);
          quat2_exports.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);
          quat2_exports.getTranslation(nextTail, nextTailDualQuat);
          vec3_exports.normalize(nextTail, nextTail);
          const jointRotation = quat_exports.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);
          joint.node.rotationLocal = quat_exports.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);
        }
      });
    }
    /**
     * @param {boolean} firstPerson Whether the model should render for first person or third person views
     */
    set firstPerson(firstPerson) {
      this._firstPersonAnnotations.forEach((annotation) => {
        const visible = firstPerson == annotation.firstPerson || firstPerson != annotation.thirdPerson;
        annotation.node.getComponents("mesh").forEach((mesh) => {
          mesh.active = visible;
        });
      });
    }
  };
  __publicField(Vrm, "TypeName", "vrm");
  __publicField(Vrm, "Properties", {
    /** URL to a VRM file to load */
    src: { type: Type.String },
    /** Object the VRM is looking at */
    lookAtTarget: { type: Type.Object }
  });

  // node_modules/@wonderlandengine/components/dist/wasd-controls.js
  var _direction = new Float32Array(3);
  var WasdControlsComponent = class extends Component {
    init() {
      this.up = false;
      this.right = false;
      this.down = false;
      this.left = false;
      window.addEventListener("keydown", this.press.bind(this));
      window.addEventListener("keyup", this.release.bind(this));
    }
    start() {
      this.headObject = this.headObject || this.object;
    }
    update() {
      vec3_exports.zero(_direction);
      if (this.up)
        _direction[2] -= 1;
      if (this.down)
        _direction[2] += 1;
      if (this.left)
        _direction[0] -= 1;
      if (this.right)
        _direction[0] += 1;
      vec3_exports.normalize(_direction, _direction);
      _direction[0] *= this.speed;
      _direction[2] *= this.speed;
      vec3_exports.transformQuat(_direction, _direction, this.headObject.transformWorld);
      if (this.lockY) {
        _direction[1] = 0;
        vec3_exports.normalize(_direction, _direction);
        vec3_exports.scale(_direction, _direction, this.speed);
      }
      this.object.translateLocal(_direction);
    }
    press(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = true;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = true;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = true;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = true;
      }
    }
    release(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = false;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = false;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = false;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = false;
      }
    }
  };
  __publicField(WasdControlsComponent, "TypeName", "wasd-controls");
  __publicField(WasdControlsComponent, "Properties", {
    /** Movement speed in m/s. */
    speed: { type: Type.Float, default: 0.1 },
    /** Flag for only moving the object on the global x & z planes */
    lockY: { type: Type.Bool, default: false },
    /** Object of which the orientation is used to determine forward direction */
    headObject: { type: Type.Object }
  });

  // js/button-handler.js
  var button_handler_exports = {};
  __export(button_handler_exports, {
    ButtonHandler: () => ButtonHandler
  });

  // js/robot-teleop.js
  var robot_teleop_exports = {};
  __export(robot_teleop_exports, {
    RobotTeleop: () => RobotTeleop
  });

  // js/switch.js
  var switch_exports = {};
  __export(switch_exports, {
    Switch: () => Switch,
    hapticFeedback: () => hapticFeedback
  });
  function hapticFeedback(object, strength, duration) {
    const input = object.getComponent(InputComponent);
    if (input && input.xrInputSource) {
      const gamepad = input.xrInputSource.gamepad;
      if (gamepad && gamepad.hapticActuators)
        gamepad.hapticActuators[0].pulse(strength, duration);
    }
  }
  var Switch = class extends Component {
    /* Declare an instance of emitter as attribute of Switch */
    emitter = new Emitter();
    static onRegister(engine) {
    }
    start() {
      this.mesh = this.switchMeshObject.getComponent(MeshComponent);
      this.defaultMaterial = this.mesh.material;
      this.switchMeshObject.getTranslationLocal(this.returnPos);
      this.toggled = false;
      this.target = this.object.getComponent(CursorTarget) || this.object.addComponent(CursorTarget);
      this.soundClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/click.wav",
        spatial: true
      });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/unclick.wav",
        spatial: true
      });
    }
    onActivate() {
      this.target.onHover.add(this.onHover);
      this.target.onUnhover.add(this.onUnhover);
      this.target.onDown.add(this.onDown);
    }
    onDeactivate() {
      this.target.onHover.remove(this.onHover);
      this.target.onUnhover.remove(this.onUnhover);
      this.target.onDown.remove(this.onDown);
    }
    /* Called by 'cursor-target' */
    onHover = (_, cursor) => {
      this.mesh.material = this.hoverMaterial;
      if (cursor.type === "finger-cursor") {
        this.onDown(_, cursor);
      }
      hapticFeedback(cursor.object, 0.5, 50);
    };
    /* Called by 'cursor-target' */
    onDown = (_, cursor) => {
      if (this.toggled === false) {
        this.soundClick.play();
        this.mesh.material = this.hoverMaterial;
        hapticFeedback(cursor.object, 1, 20);
        this.emitter.notify({ "id": this.switchId });
        this.toggled = true;
      }
    };
    /* Called by 'cursor-target' */
    onUnhover = (_, cursor) => {
      if (this.toggled === false) {
        this.mesh.material = this.defaultMaterial;
      }
      if (cursor.type === "finger-cursor") {
        this.onUp(_, cursor);
      }
      hapticFeedback(cursor.object, 0.3, 50);
    };
    reset() {
      this.mesh.material = this.defaultMaterial;
      this.toggled = false;
    }
  };
  __publicField(Switch, "TypeName", "switch");
  /* Properties that are configurable in the editor */
  __publicField(Switch, "Properties", {
    /** Object that has the button's mesh attached */
    switchMeshObject: Property.object(),
    /** Material to apply when the user hovers the button */
    hoverMaterial: Property.material(),
    /** Button ID */
    switchId: { type: Type.Int },
    /** Switch type */
    switchType: { type: Type.Enum, values: ["robot", "mode"], default: "robot" }
  });

  // js/robot-teleop.js
  var RobotTeleop = class extends Component {
    static onRegister(engine) {
    }
    init() {
      this.lateralDeadZone = 0.8;
    }
    start() {
      this.socket = new WebSocket("ws://192.168.165.185:3000");
      this.socket.addEventListener("open", (event) => {
      });
      const switch1Component = this.robot1Switch.getComponent(Switch);
      switch1Component.emitter.add((data) => {
        this.selectRobot(data["id"]);
      });
      const switch2Component = this.robot2Switch.getComponent(Switch);
      switch2Component.emitter.add((data) => {
        this.selectRobot(data["id"]);
      });
      const switch3Component = this.robot3Switch.getComponent(Switch);
      switch3Component.emitter.add((data) => {
        this.selectRobot(data["id"]);
      });
      this.currentRobotNamespace = "";
      this.robotNamespaces = ["waffle1", "waffle2", "waffle3"];
    }
    update(dt) {
      let s = this.engine.xrSession;
      if (!s)
        return;
      for (let i = 0; i < s.inputSources.length; i++) {
        let input = s.inputSources[i];
        if (input.handedness == ["left", "right"][this.handedness]) {
          let gamepad = input.gamepad;
          if (!gamepad)
            continue;
          let xAxis = this.controlSource == "thumbstick" ? gamepad.axes[0] : gamepad.axes[2];
          let yAxis = this.controlSource == "thumbstick" ? gamepad.axes[1] : gamepad.axes[3];
          this.moveLinear(yAxis, dt);
          this.moveAngular(xAxis, dt);
        }
      }
    }
    moveLinear(yAxis, dt) {
      if (yAxis < -this.stickDeadzone && this.socket.readyState) {
        var msg = { vel: this.linearVelocity, identifier: this.currentRobotNamespace + "/lin_vel" };
        msg = JSON.stringify(msg);
        this.socket.send(msg);
      } else if (yAxis > this.stickDeadzone && this.socket.readyState) {
        var msg = { vel: -this.linearVelocity, identifier: this.currentRobotNamespace + "/lin_vel" };
        msg = JSON.stringify(msg);
        this.socket.send(msg);
      } else if (yAxis > -this.stickDeadzone && yAxis < this.stickDeadzone && this.socket.readyState) {
        var msg = { vel: 0, identifier: this.currentRobotNamespace + "/lin_vel" };
        msg = JSON.stringify(msg);
        this.socket.send(msg);
      }
    }
    moveAngular(xAxis, dt) {
      if (xAxis < -this.stickDeadzone && this.socket.readyState) {
        var msg = { vel: this.angularVelocity, identifier: this.currentRobotNamespace + "/ang_vel" };
        msg = JSON.stringify(msg);
        this.socket.send(msg);
      } else if (xAxis > this.stickDeadzone && this.socket.readyState) {
        var msg = { vel: -this.angularVelocity, identifier: this.currentRobotNamespace + "/ang_vel" };
        msg = JSON.stringify(msg);
        this.socket.send(msg);
      } else if (xAxis > -this.stickDeadzone && xAxis < this.stickDeadzone && this.socket.readyState) {
        var msg = { vel: 0, identifier: this.currentRobotNamespace + "/ang_vel" };
        msg = JSON.stringify(msg);
        this.socket.send(msg);
      }
    }
    selectRobot(robotId) {
      if (robotId <= 3) {
        this.currentRobotNamespace = this.robotNamespaces[robotId - 1];
      }
    }
  };
  __publicField(RobotTeleop, "TypeName", "robot-teleop");
  /* Properties that are configurable in the editor */
  __publicField(RobotTeleop, "Properties", {
    /** Handedness for VR cursors to accept input only from respective controller */
    handedness: { type: Type.Enum, values: ["left", "right"], default: "left" },
    /** Teleop Type (Linear/Angular) */
    teleopType: { type: Type.Enum, values: ["linear", "angular"], default: "linear" },
    /** Cruise Linear velocity */
    linearVelocity: { type: Type.Float, default: 0.1 },
    /** Cruise Angular velocity */
    angularVelocity: { type: Type.Float, default: 0.3 },
    /** Robot1 switch object */
    robot1Switch: { type: Type.Object },
    /** Robot2 switch object */
    robot2Switch: { type: Type.Object },
    /** Robot3 switch object */
    robot3Switch: { type: Type.Object },
    /** Thumbstick deadzone */
    stickDeadzone: { type: Type.Float, default: 0 }
  });

  // js/goal-pose.js
  var goal_pose_exports = {};
  __export(goal_pose_exports, {
    GoalPoseComponent: () => GoalPoseComponent
  });

  // js/switch-handler.js
  var switch_handler_exports = {};
  __export(switch_handler_exports, {
    SwitchHandler: () => SwitchHandler2
  });

  // js/goal_pose_finger.js
  var goal_pose_finger_exports = {};
  __export(goal_pose_finger_exports, {
    GoalPoseFinger: () => GoalPoseFinger
  });
  var GoalPoseFinger = class extends Component {
    init() {
      this._prevThumbstickAxis = new Float32Array(2);
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this._currentIndicatorRotation = 0;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error(this.object.name, "generic-teleport-component.js: input component is required on the object");
        return;
      }
      if (!this.teleportIndicatorMeshObject) {
        console.error(this.object.name, "generic-teleport-component.js: Teleport indicator mesh is missing");
        return;
      }
      if (!this.camRoot) {
        console.error(this.object.name, "generic-teleport-component.js: camRoot not set");
        return;
      }
      this.isIndicating = false;
      this.indicatorHidden = true;
      this.hitSpot = new Float32Array(3);
      this._hasHit = false;
      this._extraRotation = 0;
      this._currentStickAxes = new Float32Array(2);
    }
    start() {
      this.socket = new WebSocket("ws://192.168.1.71:3000");
      const switchHandlerComponent = this.menuObject.getComponent(SwitchHandler);
      switchHandlerComponent.emitter.add((data) => {
        this.selectRobot(data["id"]);
      });
      this.currentRobotNamespace = "";
      this.robotNamespaces = ["waffle1", "waffle2", "waffle3"];
      this.socket.addEventListener("open", (event) => {
      });
      if (this.cam) {
        this.isMouseIndicating = false;
        canvas.addEventListener("mousedown", this.onMouseDown.bind(this));
        canvas.addEventListener("mouseup", this.onMouseUp.bind(this));
      }
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("teleport component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness;
          this.input = inputComp;
        }
      } else {
        this.handedness = ["left", "right"][this.handedness - 1];
      }
      this.onSessionStartCallback = this.setupVREvents.bind(this);
      this.teleportIndicatorMeshObject.active = false;
      this.handTrackerL = this.leftHand.getComponent(HandTracking);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    /* Get current camera Y rotation */
    _getCamRotation() {
      this.eyeLeft.getForward(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    update() {
      let inputLength = 0;
      if (!this.isIndicating && this.handTrackerL.isPointing()) {
        this.isIndicating = true;
      } else if (this.isIndicating && !this.handTrackerL.isPointing()) {
        this.isIndicating = false;
        this.teleportIndicatorMeshObject.active = false;
        if (this._hasHit) {
          this._teleportPlayer(this.hitSpot, this._extraRotation);
        }
      }
      if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {
        const origin = this._tempVec0;
        this.object.getPositionWorld(origin);
        const direction2 = this.object.getForwardWorld(this._tempVec);
        let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
        if (rayHit.hitCount > 0) {
          this.indicatorHidden = false;
          this._currentIndicatorRotation = this._getCamRotation();
          this.teleportIndicatorMeshObject.resetPositionRotation();
          this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
          this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
          this.teleportIndicatorMeshObject.translate([
            0,
            this.indicatorYOffset,
            0
          ]);
          this.teleportIndicatorMeshObject.active = true;
          this.hitSpot.set(rayHit.locations[0]);
          this._hasHit = true;
        } else {
          if (!this.indicatorHidden) {
            this.teleportIndicatorMeshObject.active = false;
            this.indicatorHidden = true;
          }
          this._hasHit = false;
        }
      } else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {
        this.onMousePressed();
      }
      this._prevThumbstickAxis.set(this._currentStickAxes);
    }
    setupVREvents(s) {
      this.session = s;
      s.addEventListener("end", function() {
        this.gamepad = null;
        this.session = null;
      }.bind(this));
      if (s.inputSources && s.inputSources.length) {
        for (let i = 0; i < s.inputSources.length; i++) {
          let inputSource = s.inputSources[i];
          if (inputSource.handedness == this.handedness) {
            this.gamepad = inputSource.gamepad;
          }
        }
      }
      s.addEventListener("inputsourceschange", function(e) {
        if (e.added && e.added.length) {
          for (let i = 0; i < e.added.length; i++) {
            let inputSource = e.added[i];
            if (inputSource.handedness == this.handedness) {
              this.gamepad = inputSource.gamepad;
            }
          }
        }
      }.bind(this));
    }
    onMouseDown() {
      this.isMouseIndicating = true;
    }
    onMouseUp() {
      this.isMouseIndicating = false;
      this.teleportIndicatorMeshObject.active = false;
      if (this._hasHit) {
        this._teleportPlayer(this.hitSpot, 0);
      }
    }
    onMousePressed() {
      let origin = [0, 0, 0];
      this.cam.getPositionWorld(origin);
      const direction2 = this.cam.getForward(this._tempVec);
      let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
      if (rayHit.hitCount > 0) {
        this.indicatorHidden = false;
        direction2[1] = 0;
        vec3_exports.normalize(direction2, direction2);
        this._currentIndicatorRotation = -Math.sign(direction2[2]) * Math.acos(direction2[0]) - Math.PI * 0.5;
        this.teleportIndicatorMeshObject.resetPositionRotation();
        this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
        this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
        this.teleportIndicatorMeshObject.active = true;
        this.hitSpot = rayHit.locations[0];
        this._hasHit = true;
      } else {
        if (!this.indicatorHidden) {
          this.teleportIndicatorMeshObject.active = false;
          this.indicatorHidden = true;
        }
        this._hasHit = false;
      }
    }
    _teleportPlayer(newPosition, rotationToAdd) {
      const p = this._tempVec;
      const p1 = this._tempVec0;
      if (this.session) {
        this.eyeLeft.getPositionWorld(p);
        this.eyeRight.getPositionWorld(p1);
        vec3_exports.add(p, p, p1);
        vec3_exports.scale(p, p, 0.5);
      } else {
        this.cam.getPositionWorld(p);
      }
      this.camRoot.getPositionWorld(p1);
      vec3_exports.sub(p, p1, p);
      p[0] += newPosition[0];
      p[1] = newPosition[1];
      p[2] += newPosition[2];
      var msgTxt = JSON.stringify(p);
      var msgJSON = JSON.parse(msgTxt);
      msgJSON["identifier"] = this.currentRobotNamespace + "/goal_pose";
      var msgTxtIdentified = JSON.stringify(msgJSON);
      console.log("Sending goal to " + this.currentRobotNamespace);
      this.socket.send(msgTxtIdentified);
    }
    selectRobot(robotId) {
      this.currentRobotNamespace = this.robotNamespaces[robotId - 1];
    }
  };
  __publicField(GoalPoseFinger, "TypeName", "goal_pose_finger");
  __publicField(GoalPoseFinger, "Properties", {
    /** Object that will be placed as indiciation forwhere the player will teleport to. */
    teleportIndicatorMeshObject: { type: Type.Object },
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: { type: Type.Object },
    /** Non-vr camera for use outside of VR */
    cam: { type: Type.Object },
    /** Left eye for use in VR*/
    eyeLeft: { type: Type.Object },
    /** Right eye for use in VR*/
    eyeRight: { type: Type.Object },
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness: {
      type: Type.Enum,
      values: ["input component", "left", "right", "none"],
      default: "input component"
    },
    /** Collision group of valid "floor" objects that can be teleported on */
    floorGroup: { type: Type.Int, default: 1 },
    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */
    thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },
    /** How far the thumbstick needs to be released to execute the teleport */
    thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },
    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */
    indicatorYOffset: { type: Type.Float, default: 0.01 },
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode: {
      type: Type.Enum,
      values: ["collision", "physx"],
      default: "collision"
    },
    /** Max distance for PhysX raycast */
    maxDistance: { type: Type.Float, default: 100 },
    leftHand: { type: Type.Object }
  });

  // js/snap-turn.js
  var snap_turn_exports = {};
  __export(snap_turn_exports, {
    SnapTurn: () => SnapTurn
  });
  var SnapTurn = class extends Component {
    start() {
      this.turning = false;
    }
    update(dt) {
      let s = this.engine.xrSession;
      if (!s)
        return;
      for (let i = 0; i < s.inputSources.length; i++) {
        let input = s.inputSources[i];
        if (input.handedness == ["left", "right"][this.handedness]) {
          let gamepad = input.gamepad;
          if (!gamepad)
            continue;
          let xAxis = this.controlSource == "thumbstick" ? gamepad.axes[0] : gamepad.axes[2];
          this.snapTurn(xAxis, dt);
        }
      }
    }
    snapTurn(xAxis, dt) {
      if (xAxis < -this.stickDeadzone && this.turning === false) {
        this.turning = true;
        this.camRoot.rotateAxisAngleDegObject([0, 1, 0], this.snapAngle);
        console.log("Turning left.");
      } else if (xAxis > this.stickDeadzone && this.turning === false) {
        this.turning = true;
        this.camRoot.rotateAxisAngleDegObject([0, 1, 0], -this.snapAngle);
        console.log("Turning right.");
      } else if (xAxis === 0) {
        this.turning = false;
      }
    }
  };
  __publicField(SnapTurn, "TypeName", "snap-turn");
  /* Properties that are configurable in the editor */
  __publicField(SnapTurn, "Properties", {
    /** Handedness for VR cursors to accept input only from respective controller */
    handedness: { type: Type.Enum, values: ["left", "right"], default: "left" },
    /** Root of the player's camera */
    camRoot: { type: Type.Object },
    /** Snap turn angle */
    snapAngle: { type: Type.Int, default: 30 },
    /** Thumbstick deadzone */
    stickDeadzone: { type: Type.Float, default: 0 }
  });

  // js/switch-handler.js
  var SwitchHandler2 = class extends Component {
    // Add an emitter class attribute for the class
    emitter = new Emitter();
    start() {
      this.switch1ComponentToggle = this.robot1Switch.getComponent(Switch);
      this.switch2ComponentToggle = this.robot2Switch.getComponent(Switch);
      this.switch3ComponentToggle = this.robot3Switch.getComponent(Switch);
      this.switchTeleopToggle = this.teleopSwitch.getComponent(Switch);
      this.switchTeleportToggle = this.teleportSwitch.getComponent(Switch);
      const switch1Component = this.robot1Switch.getComponent(Switch);
      switch1Component.emitter.add((data) => {
        this.blockSwitches(data["id"]);
      });
      const switch2Component = this.robot2Switch.getComponent(Switch);
      switch2Component.emitter.add((data) => {
        this.blockSwitches(data["id"]);
      });
      const switch3Component = this.robot3Switch.getComponent(Switch);
      switch3Component.emitter.add((data) => {
        this.blockSwitches(data["id"]);
      });
      const switchTeleop = this.teleopSwitch.getComponent(Switch);
      switchTeleop.emitter.add((data) => {
        this.blockSwitches(data["id"]);
      });
      const switchTeleport = this.teleportSwitch.getComponent(Switch);
      switchTeleport.emitter.add((data) => {
        this.blockSwitches(data["id"]);
      });
      this.goalPoseComponent = this.cursorLeftObject.getComponent(GoalPoseComponent);
      this.teleopComponentLeft = this.cursorLeftObject.getComponent(RobotTeleop);
      this.teleportComponent = this.cursorRightObject.getComponent(TeleportComponent);
      this.teleopComponentRight = this.cursorRightObject.getComponent(RobotTeleop);
      this.snapTurnComponent = this.cursorRightObject.getComponent(SnapTurn);
    }
    deactivateTeleopAndTeleport() {
      this.teleportComponent.active = false;
      this.goalPoseComponent.active = false;
      this.snapTurnComponent.active = false;
      this.teleopComponentRight.active = false;
      this.teleopComponentLeft.active = false;
    }
    activateTeleop() {
      this.teleopComponentLeft.active = true;
      this.teleopComponentRight.active = true;
      this.teleportComponent.active = false;
      this.goalPoseComponent.active = false;
      this.snapTurnComponent.active = false;
    }
    activateTeleport() {
      this.teleportComponent.active = true;
      this.goalPoseComponent.active = true;
      this.snapTurnComponent.active = true;
      this.teleopComponentRight.active = false;
      this.teleopComponentLeft.active = false;
    }
    blockSwitches(switchId) {
      if (switchId === 999) {
        this.switch1ComponentToggle.active = true;
        this.switch2ComponentToggle.active = true;
        this.switch3ComponentToggle.active = true;
      }
      if (switchId === 888) {
        this.switchTeleportToggle.active = true;
        this.switchTeleopToggle.active = true;
        this.deactivateTeleopAndTeleport();
      } else if (switchId === 1) {
        this.emitter.notify({ "id": switchId });
        this.switch2ComponentToggle.reset();
        this.switch3ComponentToggle.reset();
      } else if (switchId === 2) {
        this.emitter.notify({ "id": switchId });
        this.switch1ComponentToggle.reset();
        this.switch3ComponentToggle.reset();
      } else if (switchId === 3) {
        this.emitter.notify({ "id": switchId });
        this.switch1ComponentToggle.reset();
        this.switch2ComponentToggle.reset();
      } else if (switchId === 4) {
        this.switchTeleportToggle.reset();
        this.activateTeleop();
      } else if (switchId === 5) {
        this.switchTeleopToggle.reset();
        this.activateTeleport();
      }
    }
  };
  __publicField(SwitchHandler2, "TypeName", "switch-handler");
  /* Properties that are configurable in the editor */
  __publicField(SwitchHandler2, "Properties", {
    /** Robot1 switch object */
    robot1Switch: { type: Type.Object },
    /** Robot2 switch object */
    robot2Switch: { type: Type.Object },
    /** Robot3 switch object */
    robot3Switch: { type: Type.Object },
    /** Teleop switch object */
    teleopSwitch: { type: Type.Object },
    /** Teleport witch object */
    teleportSwitch: { type: Type.Object },
    /** cursor left object */
    cursorLeftObject: { type: Type.Object },
    /** Cursor right object */
    cursorRightObject: { type: Type.Object }
  });

  // js/goal-pose.js
  var GoalPoseComponent = class extends Component {
    init() {
      this._prevThumbstickAxis = new Float32Array(2);
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this._currentIndicatorRotation = 0;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error(this.object.name, "generic-teleport-component.js: input component is required on the object");
        return;
      }
      if (!this.teleportIndicatorMeshObject) {
        console.error(this.object.name, "generic-teleport-component.js: Teleport indicator mesh is missing");
        return;
      }
      if (!this.camRoot) {
        console.error(this.object.name, "generic-teleport-component.js: camRoot not set");
        return;
      }
      this.isIndicating = false;
      this.indicatorHidden = true;
      this.hitSpot = new Float32Array(3);
      this._hasHit = false;
      this._extraRotation = 0;
      this._currentStickAxes = new Float32Array(2);
    }
    start() {
      this.socket = new WebSocket("ws://192.168.165.185:3000");
      const switchHandlerComponent = this.menuObject.getComponent(SwitchHandler2);
      switchHandlerComponent.emitter.add((data) => {
        this.selectRobot(data["id"]);
      });
      this.currentRobotNamespace = "";
      this.robotNamespaces = ["waffle1", "waffle2", "waffle3"];
      this.socket.addEventListener("open", (event) => {
      });
      if (this.cam) {
        this.isMouseIndicating = false;
        canvas.addEventListener("mousedown", this.onMouseDown.bind(this));
        canvas.addEventListener("mouseup", this.onMouseUp.bind(this));
      }
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("teleport component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness;
          this.input = inputComp;
        }
      } else {
        this.handedness = ["left", "right"][this.handedness - 1];
      }
      this.onSessionStartCallback = this.setupVREvents.bind(this);
      this.teleportIndicatorMeshObject.active = false;
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    /* Get current camera Y rotation */
    _getCamRotation() {
      this.eyeLeft.getForward(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    update() {
      let inputLength = 0;
      if (this.gamepad && this.gamepad.axes) {
        this._currentStickAxes[0] = this.gamepad.axes[2];
        this._currentStickAxes[1] = this.gamepad.axes[3];
        inputLength = Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);
      }
      if (!this.isIndicating && this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold && this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {
        this.isIndicating = true;
      } else if (this.isIndicating && inputLength < this.thumbstickDeactivationThreshhold) {
        this.isIndicating = false;
        this.teleportIndicatorMeshObject.active = false;
        if (this._hasHit) {
          this._teleportPlayer(this.hitSpot, this._extraRotation);
        }
      }
      if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {
        const origin = this._tempVec0;
        this.object.getPositionWorld(origin);
        const direction2 = this.object.getForwardWorld(this._tempVec);
        let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
        if (rayHit.hitCount > 0) {
          this.indicatorHidden = false;
          this._extraRotation = Math.PI + Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);
          this._currentIndicatorRotation = this._getCamRotation() + (this._extraRotation - Math.PI);
          this.teleportIndicatorMeshObject.resetPositionRotation();
          this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
          this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
          this.teleportIndicatorMeshObject.translate([
            0,
            this.indicatorYOffset,
            0
          ]);
          this.teleportIndicatorMeshObject.active = true;
          this.hitSpot.set(rayHit.locations[0]);
          this._hasHit = true;
        } else {
          if (!this.indicatorHidden) {
            this.teleportIndicatorMeshObject.active = false;
            this.indicatorHidden = true;
          }
          this._hasHit = false;
        }
      } else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {
        this.onMousePressed();
      }
      this._prevThumbstickAxis.set(this._currentStickAxes);
    }
    setupVREvents(s) {
      this.session = s;
      s.addEventListener("end", function() {
        this.gamepad = null;
        this.session = null;
      }.bind(this));
      if (s.inputSources && s.inputSources.length) {
        for (let i = 0; i < s.inputSources.length; i++) {
          let inputSource = s.inputSources[i];
          if (inputSource.handedness == this.handedness) {
            this.gamepad = inputSource.gamepad;
          }
        }
      }
      s.addEventListener("inputsourceschange", function(e) {
        if (e.added && e.added.length) {
          for (let i = 0; i < e.added.length; i++) {
            let inputSource = e.added[i];
            if (inputSource.handedness == this.handedness) {
              this.gamepad = inputSource.gamepad;
            }
          }
        }
      }.bind(this));
    }
    onMouseDown() {
      this.isMouseIndicating = true;
    }
    onMouseUp() {
      this.isMouseIndicating = false;
      this.teleportIndicatorMeshObject.active = false;
      if (this._hasHit) {
        this._teleportPlayer(this.hitSpot, 0);
      }
    }
    onMousePressed() {
      let origin = [0, 0, 0];
      this.cam.getPositionWorld(origin);
      const direction2 = this.cam.getForward(this._tempVec);
      let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
      if (rayHit.hitCount > 0) {
        this.indicatorHidden = false;
        direction2[1] = 0;
        vec3_exports.normalize(direction2, direction2);
        this._currentIndicatorRotation = -Math.sign(direction2[2]) * Math.acos(direction2[0]) - Math.PI * 0.5;
        this.teleportIndicatorMeshObject.resetPositionRotation();
        this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
        this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
        this.teleportIndicatorMeshObject.active = true;
        this.hitSpot = rayHit.locations[0];
        this._hasHit = true;
      } else {
        if (!this.indicatorHidden) {
          this.teleportIndicatorMeshObject.active = false;
          this.indicatorHidden = true;
        }
        this._hasHit = false;
      }
    }
    _teleportPlayer(newPosition, rotationToAdd) {
      const p = this._tempVec;
      const p1 = this._tempVec0;
      if (this.session) {
        this.eyeLeft.getPositionWorld(p);
        this.eyeRight.getPositionWorld(p1);
        vec3_exports.add(p, p, p1);
        vec3_exports.scale(p, p, 0.5);
      } else {
        this.cam.getPositionWorld(p);
      }
      this.camRoot.getPositionWorld(p1);
      vec3_exports.sub(p, p1, p);
      p[0] += newPosition[0];
      p[1] = newPosition[1];
      p[2] += newPosition[2];
      var msgTxt = JSON.stringify(p);
      var msgJSON = JSON.parse(msgTxt);
      msgJSON["identifier"] = this.currentRobotNamespace + "/goal_pose";
      var msgTxtIdentified = JSON.stringify(msgJSON);
      console.log("Sending goal to " + this.currentRobotNamespace);
      this.socket.send(msgTxtIdentified);
    }
    selectRobot(robotId) {
      this.currentRobotNamespace = this.robotNamespaces[robotId - 1];
    }
  };
  __publicField(GoalPoseComponent, "TypeName", "goal-pose");
  __publicField(GoalPoseComponent, "Properties", {
    /** Object that will be placed as indiciation forwhere the player will teleport to. */
    teleportIndicatorMeshObject: { type: Type.Object },
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: { type: Type.Object },
    /** Non-vr camera for use outside of VR */
    cam: { type: Type.Object },
    /** Left eye for use in VR*/
    eyeLeft: { type: Type.Object },
    /** Right eye for use in VR*/
    eyeRight: { type: Type.Object },
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness: {
      type: Type.Enum,
      values: ["input component", "left", "right", "none"],
      default: "input component"
    },
    /** Collision group of valid "floor" objects that can be teleported on */
    floorGroup: { type: Type.Int, default: 1 },
    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */
    thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },
    /** How far the thumbstick needs to be released to execute the teleport */
    thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },
    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */
    indicatorYOffset: { type: Type.Float, default: 0.01 },
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode: {
      type: Type.Enum,
      values: ["collision", "physx"],
      default: "collision"
    },
    /** Max distance for PhysX raycast */
    maxDistance: { type: Type.Float, default: 100 },
    /** Menu object for Switch handler component */
    menuObject: { type: Type.Object }
  });

  // js/button.js
  var button_exports = {};
  __export(button_exports, {
    ButtonComponent: () => ButtonComponent,
    hapticFeedback: () => hapticFeedback2
  });
  function hapticFeedback2(object, strength, duration) {
    const input = object.getComponent(InputComponent);
    if (input && input.xrInputSource) {
      const gamepad = input.xrInputSource.gamepad;
      if (gamepad && gamepad.hapticActuators)
        gamepad.hapticActuators[0].pulse(strength, duration);
    }
  }
  var ButtonComponent = class extends Component {
    /* Declare an instance of emitter as attribute of ButtonComponent */
    emitter = new Emitter();
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
      engine.registerComponent(CursorTarget);
    }
    /* Position to return to when "unpressing" the button */
    returnPos = new Float32Array(3);
    start() {
      this.mesh = this.buttonMeshObject.getComponent(MeshComponent);
      this.defaultMaterial = this.mesh.material;
      this.buttonMeshObject.getTranslationLocal(this.returnPos);
      this.target = this.object.getComponent(CursorTarget) || this.object.addComponent(CursorTarget);
      this.soundClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/click.wav",
        spatial: true
      });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/unclick.wav",
        spatial: true
      });
    }
    onActivate() {
      this.target.onHover.add(this.onHover);
      this.target.onUnhover.add(this.onUnhover);
      this.target.onDown.add(this.onDown);
      this.target.onUp.add(this.onUp);
    }
    onDeactivate() {
      this.target.onHover.remove(this.onHover);
      this.target.onUnhover.remove(this.onUnhover);
      this.target.onDown.remove(this.onDown);
      this.target.onUp.remove(this.onUp);
      this.mesh.material = this.defaultMaterial;
    }
    /* Called by 'cursor-target' */
    onHover = (_, cursor) => {
      this.mesh.material = this.hoverMaterial;
      if (cursor.type === "finger-cursor") {
        this.onDown(_, cursor);
      }
      hapticFeedback2(cursor.object, 0.5, 50);
    };
    /* Called by 'cursor-target' */
    onDown = (_, cursor) => {
      this.soundClick.play();
      hapticFeedback2(cursor.object, 1, 20);
      this.emitter.notify({ "id": this.buttonId });
    };
    /* Called by 'cursor-target' */
    onUp = (_, cursor) => {
      this.soundUnClick.play();
      hapticFeedback2(cursor.object, 0.7, 20);
    };
    /* Called by 'cursor-target' */
    onUnhover = (_, cursor) => {
      this.mesh.material = this.defaultMaterial;
      if (cursor.type === "finger-cursor") {
        this.onUp(_, cursor);
      }
      hapticFeedback2(cursor.object, 0.3, 50);
    };
  };
  __publicField(ButtonComponent, "TypeName", "button");
  __publicField(ButtonComponent, "Properties", {
    /** Object that has the button's mesh attached */
    buttonMeshObject: Property.object(),
    /** Material to apply when the user hovers the button */
    hoverMaterial: Property.material(),
    /** Button ID */
    buttonId: { type: Type.Int }
  });

  // js/robocam-grabber.js
  var robocam_grabber_exports = {};
  __export(robocam_grabber_exports, {
    RobocamGrabber: () => RobocamGrabber
  });
  var RobocamGrabber = class extends Component {
    // Add an emitter class attribute for the class
    emitter = new Emitter();
    init() {
    }
    onActivate() {
      console.log("Activating the cam grabber...");
    }
    onDeactivate() {
      console.log("Deactivating the cam grabber...");
    }
    start() {
      const switch1Component = this.robot1Switch.getComponent(Switch);
      switch1Component.emitter.add((data) => {
        this.selectRobot(data["id"]);
      });
      const switch2Component = this.robot2Switch.getComponent(Switch);
      switch2Component.emitter.add((data) => {
        this.selectRobot(data["id"]);
      });
      const switch3Component = this.robot3Switch.getComponent(Switch);
      switch3Component.emitter.add((data) => {
        this.selectRobot(data["id"]);
      });
      this.currentRobotNamespace = "";
      this.robotNamespaces = ["waffle1", "waffle2", "waffle3"];
    }
    update(dt) {
    }
    takeSnapshot() {
      this.emitter.notify({ command: "snapshot", namespace: this.currentRobotNamespace });
    }
    selectRobot(robotId) {
      if (robotId <= 3) {
        this.currentRobotNamespace = this.robotNamespaces[robotId - 1];
        this.takeSnapshot();
      }
    }
  };
  __publicField(RobocamGrabber, "TypeName", "robocam-grabber");
  /* Properties that are configurable in the editor */
  __publicField(RobocamGrabber, "Properties", {
    /** Robot1 switch object */
    robot1Switch: { type: Type.Object },
    /** Robot2 switch object */
    robot2Switch: { type: Type.Object },
    /** Robot3 switch object */
    robot3Switch: { type: Type.Object }
  });

  // js/screen2.js
  var screen2_exports = {};
  __export(screen2_exports, {
    Screen2: () => Screen2
  });
  var Screen2 = class extends Component {
    // Define rgb8Array and canvasTexture as class properties
    //rgb8Array = null;
    //canvasTexture = null;
    onActivate() {
      console.log("Screen is active!");
      this.canvas = document.createElement("canvas");
      this.ctx = this.canvas.getContext("2d");
      let rgb8Array;
      const socket = new WebSocket("ws://192.168.165.185:3000");
      socket.addEventListener("open", (event) => {
      });
      const robotCamGrabberComponent = this.robotCamGrabber.getComponent(RobocamGrabber);
      robotCamGrabberComponent.emitter.add((data) => {
        if (data["command"] === "snapshot") {
          const messageTrigger = JSON.stringify({ "identifier": data["namespace"] + "/camera_trigger", "command": "capture_ON" });
          socket.send(messageTrigger);
        }
      });
      const handleMessage = (event) => {
        if (typeof event.data === "object") {
          if (event.data instanceof Blob) {
            const fileReader = new FileReader();
            fileReader.onload = () => {
              const arrayBuffer = fileReader.result;
              rgb8Array = new Uint8Array(arrayBuffer);
              const imageData = this._convertRGB8ToImageData(rgb8Array, 1280, 720);
              this.canvas.width = imageData.width;
              this.canvas.height = imageData.height;
              this.ctx.putImageData(imageData, 0, 0);
              console.log("Updating texture...");
              this.canvasTexture = new Texture(this.engine, this.canvas);
              this.material.flatTexture = this.canvasTexture;
              this.canvasTexture.update();
            };
            fileReader.readAsArrayBuffer(event.data);
          }
        }
      };
      socket.addEventListener("message", handleMessage);
    }
    onDeactivate() {
      console.log("Screen is inactive!");
    }
    start() {
    }
    update(dt) {
    }
    _convertRGB8ToImageData(rgb8Array, imageWidth, imageHeight) {
      const pixelCount = rgb8Array.length / 3;
      const width = imageWidth;
      const height = imageHeight;
      const imageData = new ImageData(width, height);
      for (let i = 0; i < pixelCount; i++) {
        const r = rgb8Array[i * 3];
        const g = rgb8Array[i * 3 + 1];
        const b = rgb8Array[i * 3 + 2];
        const a = 255;
        const x = i % width;
        const y = Math.floor(i / width);
        const index = (y * width + x) * 4;
        imageData.data[index] = r;
        imageData.data[index + 1] = g;
        imageData.data[index + 2] = b;
        imageData.data[index + 3] = a;
      }
      return imageData;
    }
  };
  __publicField(Screen2, "TypeName", "screen2");
  __publicField(Screen2, "Properties", {
    /** Screen material to which the texture/frame should be attached */
    material: Property.material(),
    /** Object to which the robot cam grabber is attached */
    robotCamGrabber: Property.object()
  });

  // js/button-handler.js
  var ButtonHandler = class extends Component {
    start() {
      this.goalPoseComponent = this.cursorLeftObject.getComponent(GoalPoseComponent);
      this.teleopComponentLeft = this.cursorLeftObject.getComponent(RobotTeleop);
      this.teleportComponent = this.cursorRightObject.getComponent(TeleportComponent);
      this.teleopComponentRight = this.cursorRightObject.getComponent(RobotTeleop);
      this.snapTurnComponent = this.cursorRightObject.getComponent(SnapTurn);
      this.teleopMenuText = this.teleopMenuObj.getComponent(TextComponent);
      this.teleportMenuText = this.teleportMenuObj.getComponent(TextComponent);
      this.povMenuText = this.povMenuObj.getComponent(TextComponent);
      this.roamMenuText = this.roamMenuObj.getComponent(TextComponent);
      this.robocamGrabberComponent = this.robotCamDispObject.getComponent(RobocamGrabber);
      this.screenComponent = this.screenObject.getComponent(Screen2);
      this.freeRoamButtonToggle = this.freeRoamButton.getComponent(ButtonComponent);
      this.freeRoamSpawn = true;
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this.lastPlayerPosition = new Float32Array(3);
      this.lastPlayerRotation = new Float32Array(4);
      this.teleportSwitchComponent = this.teleportSwitch.getComponent(Switch);
      this.teleopSwitchComponent = this.teleopSwitch.getComponent(Switch);
      const button1Component = this.teleopSwitch.getComponent(Switch);
      button1Component.emitter.add((data) => {
        this.menuBehavior(data["id"]);
      });
      const button2Component = this.teleportSwitch.getComponent(Switch);
      button2Component.emitter.add((data) => {
        this.menuBehavior(data["id"]);
      });
      const button3Component = this.botPOVButton.getComponent(ButtonComponent);
      button3Component.emitter.add((data) => {
        this.menuBehavior(data["id"]);
      });
      const button4Component = this.freeRoamButton.getComponent(ButtonComponent);
      button4Component.emitter.add((data) => {
        this.menuBehavior(data["id"]);
      });
      this.isPOV = false;
      this.switch1ComponentToggle = this.robot1Switch.getComponent(Switch);
      this.switch2ComponentToggle = this.robot2Switch.getComponent(Switch);
      this.switch3ComponentToggle = this.robot3Switch.getComponent(Switch);
    }
    update(dt) {
    }
    _getCamRotation() {
      this.eyeLeft.getForwardWorld(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    _getPlayerPosition() {
      this.camRoot.getPositionWorld(this._tempVec0);
      return this._tempVec0;
    }
    _getPlayerRotation() {
      const rotationQuaternion = quat_exports.create();
      quat_exports.fromEuler(rotationQuaternion, 0, this._getCamRotation() * (180 / Math.PI), 0);
      return rotationQuaternion;
    }
    menuBehavior(buttonId) {
      if (buttonId == 1) {
        if (this.isPOV === false) {
          this.isPOV = true;
          this.switch1ComponentToggle.reset();
          this.switch2ComponentToggle.reset();
          this.switch3ComponentToggle.reset();
          this.lastPlayerPosition = this._getPlayerPosition();
          this.lastPlayerRotation = this._getPlayerRotation();
          this.camRoot.setPositionWorld([-8, 0, 0]);
          this.camRoot.setRotationWorld([0, -0.707, 0, 0.707]);
          this.teleopComponentRight.active = false;
          this.teleopComponentLeft.active = false;
          this.teleportComponent.active = false;
          this.goalPoseComponent.active = false;
          this.snapTurnComponent.active = false;
          this.teleportSwitchComponent.active = false;
          this.teleopSwitchComponent.active = false;
          this.teleportSwitchComponent.reset();
          this.teleopSwitchComponent.reset();
          this.teleopMenuText.material = this.greyTextMaterial;
          this.teleportMenuText.material = this.greyTextMaterial;
          this.roamMenuText.material = this.defaultTextMaterial;
          this.povMenuText.text = "Refresh frame................................";
          this.freeRoamButtonToggle.active = true;
          this.freeRoamSpawn = false;
          console.log(this.freeRoamSpawn);
        } else if (this.isPOV === true) {
          this.robocamGrabberComponent.active = false;
        }
        this.robocamGrabberComponent.active = true;
      }
      if (buttonId == 2) {
        console.log("Already in free roam");
        if (this.freeRoamSpawn === false) {
          console.log("Going to free roam");
          this.isPOV = false;
          this.robocamGrabberComponent.active = false;
          this.teleportSwitchComponent.active = true;
          this.teleopSwitchComponent.active = true;
          this.teleopMenuText.material = this.defaultTextMaterial;
          this.teleportMenuText.material = this.defaultTextMaterial;
          this.roamMenuText.material = this.greyTextMaterial;
          this.povMenuText.text = "Visualize robot's POV......................";
          this.camRoot.setPositionWorld(this.lastPlayerPosition);
          this.camRoot.setRotationWorld(this.lastPlayerRotation);
          this.camRoot.rotateAxisAngleDegObject([0, 1, 0], 180);
          this.freeRoamButtonToggle.active = false;
          this.switch1ComponentToggle.reset();
          this.switch2ComponentToggle.reset();
          this.switch3ComponentToggle.reset();
        }
      }
    }
  };
  __publicField(ButtonHandler, "TypeName", "button-handler");
  /* Properties that are configurable in the editor */
  __publicField(ButtonHandler, "Properties", {
    /** CursorLeft object */
    cursorLeftObject: Property.object(),
    /** CursorRight object */
    cursorRightObject: Property.object(),
    /** Root of the player's camera */
    camRoot: { type: Type.Object },
    /** Left eye object */
    eyeLeft: { type: Type.Object },
    /** Teleport button object */
    teleportSwitch: { type: Type.Object },
    /** Teleop button object */
    teleopSwitch: { type: Type.Object },
    /** Robot POV button object */
    botPOVButton: { type: Type.Object },
    /** Free Roam button object */
    freeRoamButton: { type: Type.Object },
    /** Robot Camera Display Object */
    robotCamDispObject: { type: Type.Object },
    /** Screen object */
    screenObject: { type: Type.Object },
    /** Robot Switch 1 object */
    robot1Switch: { type: Type.Object },
    /** Robot Switch 2 object */
    robot2Switch: { type: Type.Object },
    /** Robot Switch 3 object */
    robot3Switch: { type: Type.Object },
    /**Teleop Menu Object */
    teleopMenuObj: { type: Type.Object },
    /**Teleport Menu Object */
    teleportMenuObj: { type: Type.Object },
    /**Robot POV Menu Object */
    povMenuObj: { type: Type.Object },
    /**Free Roam Menu Object */
    roamMenuObj: { type: Type.Object },
    /** Grey Text Material */
    greyTextMaterial: { type: Type.Material },
    /** Default Text Material */
    defaultTextMaterial: { type: Type.Material }
  });

  // js/menu-bringup.js
  var menu_bringup_exports = {};
  __export(menu_bringup_exports, {
    MenuBringup: () => MenuBringup
  });
  var MenuBringup = class extends Component {
    init() {
      console.log("init() with param", this.param);
    }
    start() {
      console.log("start() with param", this.param);
      this.menuObject.scaleLocal([0, 0, 0]);
      this.isOpen = false;
      this.playerPos = [0, 0, 0];
      this.menuPos = [0, 0, 0];
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
    }
    _getCamRotation() {
      this.eyeLeft.getForwardWorld(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    _getPlayerPosition() {
      this.camRootObj.getPositionWorld(this.playerPos);
      return this.playerPos;
    }
    _setMenuPose() {
      const offsetX = Math.sin(this._getCamRotation()) * this.distancePlayer;
      const offsetY = 1;
      const offsetZ = Math.cos(this._getCamRotation()) * this.distancePlayer;
      const menuPose = [
        this._getPlayerPosition()[0] + offsetX,
        this._getPlayerPosition()[1] + offsetY,
        this._getPlayerPosition()[2] + offsetZ
      ];
      this.menuObject.setPositionWorld(menuPose);
      const rotationQuaternion = quat_exports.create();
      quat_exports.fromEuler(rotationQuaternion, 0, this._getCamRotation() * (180 / Math.PI), 0);
      this.menuObject.setRotationWorld(rotationQuaternion);
      this.menuObject.rotateAxisAngleDegObject([0, 1, 0], 180);
    }
    update(dt) {
      let s = this.engine.xrSession;
      if (!s)
        return;
      for (let i = 0; i < s.inputSources.length; ++i) {
        let input = s.inputSources[i];
        if (input.handedness == ["left", "right"][this.handedness]) {
          let gamepad = input.gamepad;
          if (!gamepad)
            continue;
          let buttonPressed = gamepad.buttons[4].pressed;
          if (buttonPressed) {
            if (this.isOpen == false) {
              setTimeout(() => {
                this._setMenuPose();
                this.menuObject.resetScaling();
                this.menuObject.scaleLocal([0.3, 0.3, 0.3]);
                this.isOpen = true;
              }, 200);
            } else if (this.isOpen == true) {
              setTimeout(() => {
                this.menuObject.scaleLocal([0, 0, 0]);
                this.isOpen = false;
              }, 200);
            }
          }
        }
      }
    }
  };
  __publicField(MenuBringup, "TypeName", "menu-bringup");
  /* Properties that are configurable in the editor */
  __publicField(MenuBringup, "Properties", {
    /* Menu Object */
    menuObject: { type: Type.Object },
    /* Camera root object */
    camRootObj: { type: Type.Object },
    /* Handedness for VR cursors to accept input only from respective controller */
    handedness: { type: Type.Enum, values: ["left", "right"], default: "left" },
    /* Left eye object */
    eyeLeft: { type: Type.Object },
    /* Right eye object */
    eyeRight: { type: Type.Object },
    /* Distance from player */
    distancePlayer: { type: Type.Float, default: 1 }
  });

  // js/robot-component.js
  var robot_component_exports = {};
  __export(robot_component_exports, {
    RobotComponent: () => RobotComponent
  });
  var RobotComponent = class extends Component {
    static onRegister(engine) {
    }
    init() {
      console.log("init() with param", this.param);
    }
    start() {
      this.socket = new WebSocket("ws://192.168.165.185:3000");
      this.socket.addEventListener("open", (event) => {
      });
      this.socket.addEventListener("message", (event) => {
        if (!(event.data instanceof Blob) && typeof event.data != "object") {
          var msgParsed = JSON.parse(event.data);
          if (msgParsed.identifier === "robot_pose") {
            for (var transform of msgParsed.transforms) {
              if (transform["child_frame_id"] === this.namespace + "/base_footprint" && transform["header"]["frame_id"] === this.namespace + "/odom") {
                var xp = transform["transform"]["translation"]["x"];
                var yp = transform["transform"]["translation"]["y"];
                var zp = transform["transform"]["translation"]["z"];
                var xr = transform["transform"]["rotation"]["x"];
                var yr = transform["transform"]["rotation"]["y"];
                var zr = transform["transform"]["rotation"]["z"];
                var wr = transform["transform"]["rotation"]["w"];
                this.object.setPositionWorld([xp, 0.125, -yp]);
                this.object.setRotationWorld([0, zr, 0, wr]);
              }
            }
          }
        }
      });
    }
    update(dt) {
    }
  };
  __publicField(RobotComponent, "TypeName", "robot-component");
  /* Properties that are configurable in the editor */
  __publicField(RobotComponent, "Properties", {
    namespace: Property.string("")
  });

  // js/sensor-screen.js
  var sensor_screen_exports = {};
  __export(sensor_screen_exports, {
    SensorScreen: () => SensorScreen
  });
  var SensorScreen = class extends Component {
    start() {
      this.sensors = ["Gas", "Temperature", "Humidity"];
      this.units = ["%", "\xB0C", "%"];
      this.values = [100, 27, 80];
      this.robotValueText = this.robotValue.getComponent(TextComponent);
      this.sensorValueText = this.sensorValue.getComponent(TextComponent);
      this.valueValueText = this.valueValue.getComponent(TextComponent);
      this.warningText = this.warningObj.getComponent(TextComponent);
      this.warningText.text = "";
      const switchHandlerComponent = this.menuObject.getComponent(SwitchHandler2);
      switchHandlerComponent.emitter.add((data) => {
        this.updateLabels(data["id"]);
      });
    }
    updateLabels(robotId) {
      this.robotValueText.text = String(robotId);
      this.sensorValueText.text = this.sensors[robotId - 1];
      this.valueValueText.text = String(this.values[robotId - 1]) + this.units[robotId - 1];
      if (this.values[robotId - 1] > 50) {
        this.warningText.text = "WARNING!";
      } else {
        this.warningText.text = "";
      }
    }
  };
  __publicField(SensorScreen, "TypeName", "sensor-screen");
  /* Properties that are configurable in the editor */
  __publicField(SensorScreen, "Properties", {
    /** Robot label object for the sensor screen */
    robotValue: { type: Type.Object },
    /** Sensor label object for the sensor screen */
    sensorValue: { type: Type.Object },
    /** Value label object for the sensor screen */
    valueValue: { type: Type.Object },
    /** Warning label object for the sensor screen */
    warningObj: { type: Type.Object },
    /** Menu object for Switch handler component */
    menuObject: { type: Type.Object }
  });

  // js/smooth-locomotion.js
  var smooth_locomotion_exports = {};
  __export(smooth_locomotion_exports, {
    SmoothLocomotion: () => SmoothLocomotion
  });
  var SmoothLocomotion = class extends Component {
    init() {
      this.justSnapped = false;
      this.snapDeadzone = 0.8;
      this.collider = this.object.getComponent("collision");
      this.grabControls = this.object.getComponent("grabbing-controls");
      this.min = -4;
      this.max = 4;
    }
    start() {
    }
    update(dt) {
      let s = this.engine.xrSession;
      if (!s)
        return;
      for (let i = 0; i < s.inputSources.length; ++i) {
        let input = s.inputSources[i];
        if (input.handedness == ["left", "right"][this.handedness]) {
          let gamepad = input.gamepad;
          if (!gamepad)
            continue;
          let xAxis = this.controlSource == "thumbstick" ? gamepad.axes[0] : gamepad.axes[2];
          let yAxis = this.controlSource == "thumbstick" ? gamepad.axes[1] : gamepad.axes[3];
          let gripped = gamepad.buttons[1].pressed;
          if (this.controlType == 0) {
            this.move(xAxis, yAxis, dt);
          } else if (this.controlType == 1)
            this.rotate(xAxis, dt);
          if (!this.grabControls)
            continue;
          if (gripped) {
            this.grabControls.grab();
          } else {
            this.grabControls.drop();
          }
        }
      }
    }
    move(xAxis, yAxis, dt) {
      let direction2 = [xAxis, 0, yAxis];
      vec3_exports.normalize(direction2, direction2);
      vec3_exports.scale(direction2, direction2, dt * this.moveSpeed);
      vec3_exports.transformQuat(direction2, direction2, this.head.transformWorld);
      if (!this.allowFly)
        direction2[1] = 0;
      this.player.translate(direction2);
    }
    rotate(xAxis, dt) {
      if (this.rotationType == 0) {
        if (Math.abs(xAxis) == 1 && !this.justSnapped) {
          let lastHeadPos = [0, 0, 0];
          this.head.transformWorld;
          this.head.getTranslationWorld(lastHeadPos);
          this.player.rotateAxisAngleDeg([0, 1, 0], this.snapDegrees * -xAxis);
          this.justSnapped = true;
          this.head2.transformWorld;
          let currentHeadPos = [0, 0, 0];
          this.head.getTranslationWorld(currentHeadPos);
          let newPos = [0, 0, 0];
          vec3_exports.sub(newPos, lastHeadPos, currentHeadPos);
          this.player.translate(newPos);
        } else if (Math.abs(xAxis) < 0.8) {
          this.justSnapped = false;
        }
      } else if (this.rotationType == 1) {
      }
    }
    getHeadPos() {
      let left = [0, 0, 0];
      this.head.getTranslationWorld(left);
      let right = [0, 0, 0];
      this.head2.getTranslationWorld(right);
      let center = [0, 0, 0];
      vec3_exports.add(center, left, right);
      vec3_exports.scale(center, center, 0.5);
      return center;
    }
    clamp(input, min2, max2) {
      return input < min2 ? min2 : input > max2 ? max2 : input;
    }
    grab() {
      if (this.currentInteractable.parent) {
        const invParent = quat2_exports.create();
        quat2_exports.invert(invParent, this.currentInteractable.parent.transformWorld);
        quat2_exports.multiply(
          this.currentInteractable.transformLocal,
          invParent,
          this.object.transformWorld
        );
      } else {
        this.currentInteractable.transformLocal.set(this.object.transformWorld);
      }
      this.currentInteractable.setDirty();
      return;
    }
  };
  __publicField(SmoothLocomotion, "TypeName", "smooth-locomotion");
  __publicField(SmoothLocomotion, "Properties", {
    /** Handedness for VR cursors to accept input only from respective controller */
    handedness: { type: Type.Enum, values: ["left", "right"], default: "left" },
    /** Whether this controller rotates or moves the character */
    controlType: { type: Type.Enum, values: ["move", "rotate"], default: "move" },
    /** Whether to use thumbstick or touchpad for input */
    controlSource: {
      type: Type.Enum,
      values: ["thumbstick", "touchpad"],
      default: "thumbstick"
    },
    /** Player object which is moved */
    player: { type: Type.Object, default: null },
    /** Head/Left eye object from which to get movement direction */
    head: { type: Type.Object, default: null },
    /** Right eye object from which to get movement direction */
    head2: { type: Type.Object, default: null },
    /** Movement speed, default `1.0` */
    moveSpeed: { type: Type.Float, default: 1 },
    /** Allow flying (if false, will not move on the Y axis) */
    allowFly: { type: Type.Bool, default: false },
    /** Whether to rotate smoothly or snap in `snapDegrees` increments */
    rotationType: { type: Type.Enum, values: ["snap", "smooth"], default: "snap" },
    /** Incremements to snap to when `rotationType` is `"snap"`, default `45` */
    snapDegrees: { type: Type.Int, default: 45 }
  });

  // cache/js/_editor_index.js
  _registerEditor(dist_exports);
  _registerEditor(button_handler_exports);
  _registerEditor(button_exports);
  _registerEditor(goal_pose_exports);
  _registerEditor(goal_pose_finger_exports);
  _registerEditor(menu_bringup_exports);
  _registerEditor(robocam_grabber_exports);
  _registerEditor(robot_component_exports);
  _registerEditor(robot_teleop_exports);
  _registerEditor(screen2_exports);
  _registerEditor(sensor_screen_exports);
  _registerEditor(smooth_locomotion_exports);
  _registerEditor(snap_turn_exports);
  _registerEditor(switch_handler_exports);
  _registerEditor(switch_exports);
})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvcHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L2RlY29yYXRvcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL29iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvZXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dvbmRlcmxhbmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dhc20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC84dGh3YWxsLWNhbWVyYS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3V0aWxzL3dlYnhyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvYW5jaG9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvY3Vyc29yLXRhcmdldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0My5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQ0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3F1YXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjMy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWM0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3F1YXQyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaGl0LXRlc3QtbG9jYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9jdXJzb3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9kZWJ1Zy1vYmplY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9kZXZpY2Utb3JpZW50YXRpb24tbG9vay5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2Zpbmdlci1jdXJzb3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9maXhlZC1mb3ZlYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9oYW5kLXRyYWNraW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaG93bGVyLWF1ZGlvLWxpc3RlbmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaG93bGVyLWF1ZGlvLXNvdXJjZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3V0aWxzL3V0aWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaW1hZ2UtdGV4dHVyZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L21vdXNlLWxvb2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9wbGF5ZXItaGVpZ2h0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdGFyZ2V0LWZyYW1lcmF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RlbGVwb3J0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdHJhaWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC90d28tam9pbnQtaWstc29sdmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdmlkZW8tdGV4dHVyZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZyLW1vZGUtYWN0aXZlLXN3aXRjaC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3BsYW5lLWRldGVjdGlvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZybS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3dhc2QtY29udHJvbHMuanMiLCAiLi4vLi4vanMvYnV0dG9uLWhhbmRsZXIuanMiLCAiLi4vLi4vanMvcm9ib3QtdGVsZW9wLmpzIiwgIi4uLy4uL2pzL3N3aXRjaC5qcyIsICIuLi8uLi9qcy9nb2FsLXBvc2UuanMiLCAiLi4vLi4vanMvc3dpdGNoLWhhbmRsZXIuanMiLCAiLi4vLi4vanMvZ29hbF9wb3NlX2Zpbmdlci5qcyIsICIuLi8uLi9qcy9zbmFwLXR1cm4uanMiLCAiLi4vLi4vanMvYnV0dG9uLmpzIiwgIi4uLy4uL2pzL3JvYm9jYW0tZ3JhYmJlci5qcyIsICIuLi8uLi9qcy9zY3JlZW4yLmpzIiwgIi4uLy4uL2pzL21lbnUtYnJpbmd1cC5qcyIsICIuLi8uLi9qcy9yb2JvdC1jb21wb25lbnQuanMiLCAiLi4vLi4vanMvc2Vuc29yLXNjcmVlbi5qcyIsICIuLi8uLi9qcy9zbW9vdGgtbG9jb21vdGlvbi5qcyIsICJfZWRpdG9yX2luZGV4LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKiFcbiAqICBob3dsZXIuanMgdjIuMi4zXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMjAsIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBnbG9iYWwgY29udHJvbGxlci4gQWxsIGNvbnRhaW5lZCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFwcGx5XG4gICAqIHRvIGFsbCBzb3VuZHMgdGhhdCBhcmUgY3VycmVudGx5IHBsYXlpbmcgb3Igd2lsbCBiZSBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgdmFyIEhvd2xlckdsb2JhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBJRCBjb3VudGVyLlxuICAgICAgc2VsZi5fY291bnRlciA9IDEwMDA7XG5cbiAgICAgIC8vIFBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cy5cbiAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sID0gW107XG4gICAgICBzZWxmLmh0bWw1UG9vbFNpemUgPSAxMDtcblxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xuICAgICAgc2VsZi5faG93bHMgPSBbXTtcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xuXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gYXVkaW8gdW5sb2NrZXIuXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSB0cnVlO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgIHNlbGYuX3NldHVwKCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBjaGFuZ2Ugdm9sdW1lIGZvciBhbGwgSFRNTDUgYXVkaW8gbm9kZXMuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hhbmdlIHRoZSB2b2x1bWVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIHZvbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbXV0aW5nIGFuZCB1bm11dGluZyBnbG9iYWxseS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBJcyBtdXRlZCBvciBub3QuXG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAvLyBXaXRoIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIG11dGUgdGhlIG1hc3RlciBnYWluLlxuICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYW5kIG11dGUgYWxsIEhUTUw1IEF1ZGlvIG5vZGVzLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgbWFyayB0aGUgYXVkaW8gbm9kZSBhcyBtdXRlZC5cbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IChtdXRlZCkgPyB0cnVlIDogc291bmQuX211dGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHN0b3BwaW5nIGFsbCBzb3VuZHMgZ2xvYmFsbHkuXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCBzdG9wIHRoZW0uXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2VsZi5faG93bHNbaV0uc3RvcCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IGFsbCBjdXJyZW50bHkgbG9hZGVkIEhvd2wgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICBzZWxmLl9ob3dsc1tpXS51bmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB0byBtYWtlIHN1cmUgaXQgaXMgZnVsbHkgcmVzZXQuXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvICYmIHNlbGYuY3R4ICYmIHR5cGVvZiBzZWxmLmN0eC5jbG9zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHguY2xvc2UoKTtcbiAgICAgICAgc2VsZi5jdHggPSBudWxsO1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGNvZGVjIHN1cHBvcnQgb2Ygc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXh0IEF1ZGlvIGZpbGUgZXh0ZW50aW9uLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgY29kZWNzOiBmdW5jdGlvbihleHQpIHtcbiAgICAgIHJldHVybiAodGhpcyB8fCBIb3dsZXIpLl9jb2RlY3NbZXh0LnJlcGxhY2UoL154LS8sICcnKV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9zZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgc3VzcGVuZC9yZXN1bWUgc3RhdGUgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLmN0eCA/IHNlbGYuY3R4LnN0YXRlIHx8ICdzdXNwZW5kZWQnIDogJ3N1c3BlbmRlZCc7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgYmVnaW4gdGhlIDMwLXNlY29uZCBzdXNwZW5kIHByb2Nlc3NcbiAgICAgIHNlbGYuX2F1dG9TdXNwZW5kKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGF1ZGlvIGlzIGF2YWlsYWJsZS5cbiAgICAgIGlmICghc2VsZi51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIE5vIGF1ZGlvIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHN5c3RlbSBpZiBub0F1ZGlvIGlzIHNldCB0byB0cnVlLlxuICAgICAgICBpZiAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FucGxheXRocm91Z2ggZXZlbnQgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXN0Lm9uY2FucGxheXRocm91Z2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NhblBsYXlFdmVudCA9ICdjYW5wbGF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCB0byBtYWtlIHN1cmUgYXVkaW8gaXNuJ3QgZGlzYWJsZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuICAgICAgICBpZiAodGVzdC5tdXRlZCkge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIC8vIENoZWNrIGZvciBzdXBwb3J0ZWQgY29kZWNzLlxuICAgICAgaWYgKCFzZWxmLm5vQXVkaW8pIHtcbiAgICAgICAgc2VsZi5fc2V0dXBDb2RlY3MoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGZvciBicm93c2VyIHN1cHBvcnQgZm9yIHZhcmlvdXMgY29kZWNzIGFuZCBjYWNoZSB0aGUgcmVzdWx0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwQ29kZWNzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2YXIgYXVkaW9UZXN0ID0gbnVsbDtcblxuICAgICAgLy8gTXVzdCB3cmFwIGluIGEgdHJ5L2NhdGNoIGJlY2F1c2UgSUUxMSBpbiBzZXJ2ZXIgbW9kZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICB0cnkge1xuICAgICAgICBhdWRpb1Rlc3QgPSAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykgPyBuZXcgQXVkaW8oKSA6IG51bGw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXVkaW9UZXN0IHx8IHR5cGVvZiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHZhciBtcGVnVGVzdCA9IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXBlZzsnKS5yZXBsYWNlKC9ebm8kLywgJycpO1xuXG4gICAgICAvLyBPcGVyYSB2ZXJzaW9uIDwzMyBoYXMgbWl4ZWQgTVAzIHN1cHBvcnQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGFuZCBibG9jayBpdC5cbiAgICAgIHZhciB1YSA9IHNlbGYuX25hdmlnYXRvciA/IHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQgOiAnJztcbiAgICAgIHZhciBjaGVja09wZXJhID0gdWEubWF0Y2goL09QUlxcLyhbMC02XS4pL2cpO1xuICAgICAgdmFyIGlzT2xkT3BlcmEgPSAoY2hlY2tPcGVyYSAmJiBwYXJzZUludChjaGVja09wZXJhWzBdLnNwbGl0KCcvJylbMV0sIDEwKSA8IDMzKTtcbiAgICAgIHZhciBjaGVja1NhZmFyaSA9IHVhLmluZGV4T2YoJ1NhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTE7XG4gICAgICB2YXIgc2FmYXJpVmVyc2lvbiA9IHVhLm1hdGNoKC9WZXJzaW9uXFwvKC4qPykgLyk7XG4gICAgICB2YXIgaXNPbGRTYWZhcmkgPSAoY2hlY2tTYWZhcmkgJiYgc2FmYXJpVmVyc2lvbiAmJiBwYXJzZUludChzYWZhcmlWZXJzaW9uWzFdLCAxMCkgPCAxNSk7XG5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHtcbiAgICAgICAgbXAzOiAhISghaXNPbGRPcGVyYSAmJiAobXBlZ1Rlc3QgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDM7JykucmVwbGFjZSgvXm5vJC8sICcnKSkpLFxuICAgICAgICBtcGVnOiAhIW1wZWdUZXN0LFxuICAgICAgICBvcHVzOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJvcHVzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2c6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgb2dhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdhdjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93YXY7IGNvZGVjcz1cIjFcIicpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGFhYzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBjYWY6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWNhZjsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBtNGE6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG00YjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbXA0OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICB3ZWJhOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxuICAgICAgICB3ZWJtOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxuICAgICAgICBkb2xieTogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsgY29kZWNzPVwiZWMtM1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgZmxhYzogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWZsYWM7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9mbGFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU29tZSBicm93c2Vycy9kZXZpY2VzIHdpbGwgb25seSBhbGxvdyBhdWRpbyB0byBiZSBwbGF5ZWQgYWZ0ZXIgYSB1c2VyIGludGVyYWN0aW9uLlxuICAgICAqIEF0dGVtcHQgdG8gYXV0b21hdGljYWxseSB1bmxvY2sgYXVkaW8gb24gdGhlIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQ29uY2VwdCBmcm9tOiBodHRwOi8vcGF1bGJha2F1cy5jb20vdHV0b3JpYWxzL2h0bWw1L3dlYi1hdWRpby1vbi1pb3MvXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF91bmxvY2tBdWRpbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBPbmx5IHJ1biB0aGlzIGlmIFdlYiBBdWRpbyBpcyBzdXBwb3J0ZWQgYW5kIGl0IGhhc24ndCBhbHJlYWR5IGJlZW4gdW5sb2NrZWQuXG4gICAgICBpZiAoc2VsZi5fYXVkaW9VbmxvY2tlZCB8fCAhc2VsZi5jdHgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gZmFsc2U7XG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSBmYWxzZTtcblxuICAgICAgLy8gU29tZSBtb2JpbGUgZGV2aWNlcy9wbGF0Zm9ybXMgaGF2ZSBkaXN0b3J0aW9uIGlzc3VlcyB3aGVuIG9wZW5pbmcvY2xvc2luZyB0YWJzIGFuZC9vciB3ZWIgdmlld3MuXG4gICAgICAvLyBCdWdzIGluIHRoZSBicm93c2VyIChlc3BlY2lhbGx5IE1vYmlsZSBTYWZhcmkpIGNhbiBjYXVzZSB0aGUgc2FtcGxlUmF0ZSB0byBjaGFuZ2UgZnJvbSA0NDEwMCB0byA0ODAwMC5cbiAgICAgIC8vIEJ5IGNhbGxpbmcgSG93bGVyLnVubG9hZCgpLCB3ZSBjcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHdpdGggdGhlIGNvcnJlY3Qgc2FtcGxlUmF0ZS5cbiAgICAgIGlmICghc2VsZi5fbW9iaWxlVW5sb2FkZWQgJiYgc2VsZi5jdHguc2FtcGxlUmF0ZSAhPT0gNDQxMDApIHtcbiAgICAgICAgc2VsZi5fbW9iaWxlVW5sb2FkZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLnVubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTY3JhdGNoIGJ1ZmZlciBmb3IgZW5hYmxpbmcgaU9TIHRvIGRpc3Bvc2Ugb2Ygd2ViIGF1ZGlvIGJ1ZmZlcnMgY29ycmVjdGx5LCBhcyBwZXI6XG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI0MTE5Njg0XG4gICAgICBzZWxmLl9zY3JhdGNoQnVmZmVyID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyKDEsIDEsIDIyMDUwKTtcblxuICAgICAgLy8gQ2FsbCB0aGlzIG1ldGhvZCBvbiB0b3VjaCBzdGFydCB0byBjcmVhdGUgYW5kIHBsYXkgYSBidWZmZXIsXG4gICAgICAvLyB0aGVuIGNoZWNrIGlmIHRoZSBhdWRpbyBhY3R1YWxseSBwbGF5ZWQgdG8gZGV0ZXJtaW5lIGlmXG4gICAgICAvLyBhdWRpbyBoYXMgbm93IGJlZW4gdW5sb2NrZWQgb24gaU9TLCBBbmRyb2lkLCBldGMuXG4gICAgICB2YXIgdW5sb2NrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBDcmVhdGUgYSBwb29sIG9mIHVubG9ja2VkIEhUTUw1IEF1ZGlvIG9iamVjdHMgdGhhdCBjYW5cbiAgICAgICAgLy8gYmUgdXNlZCBmb3IgcGxheWluZyBzb3VuZHMgd2l0aG91dCB1c2VyIGludGVyYWN0aW9uLiBIVE1MNVxuICAgICAgICAvLyBBdWRpbyBvYmplY3RzIG11c3QgYmUgaW5kaXZpZHVhbGx5IHVubG9ja2VkLCBhcyBvcHBvc2VkXG4gICAgICAgIC8vIHRvIHRoZSBXZWJBdWRpbyBBUEkgd2hpY2ggb25seSBuZWVkcyBhIHNpbmdsZSBhY3RpdmF0aW9uLlxuICAgICAgICAvLyBUaGlzIG11c3Qgb2NjdXIgYmVmb3JlIFdlYkF1ZGlvIHNldHVwIG9yIHRoZSBzb3VyY2Uub25lbmRlZFxuICAgICAgICAvLyBldmVudCB3aWxsIG5vdCBmaXJlLlxuICAgICAgICB3aGlsZSAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoIDwgc2VsZi5odG1sNVBvb2xTaXplKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhdWRpb05vZGUgPSBuZXcgQXVkaW8oKTtcblxuICAgICAgICAgICAgLy8gTWFyayB0aGlzIEF1ZGlvIG9iamVjdCBhcyB1bmxvY2tlZCB0byBlbnN1cmUgaXQgY2FuIGdldCByZXR1cm5lZFxuICAgICAgICAgICAgLy8gdG8gdGhlIHVubG9ja2VkIHBvb2wgd2hlbiByZWxlYXNlZC5cbiAgICAgICAgICAgIGF1ZGlvTm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGF1ZGlvIG5vZGUgdG8gdGhlIHBvb2wuXG4gICAgICAgICAgICBzZWxmLl9yZWxlYXNlSHRtbDVBdWRpbyhhdWRpb05vZGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYW55IGFzc2lnbmVkIGF1ZGlvIG5vZGVzIGFuZCB1bmxvY2sgdGhlbS5cbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCB1bmxvY2sgdGhlIGF1ZGlvIG5vZGVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5fdW5sb2NrZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmxvYWQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpeCBBbmRyb2lkIGNhbiBub3QgcGxheSBpbiBzdXNwZW5kIHN0YXRlLlxuICAgICAgICBzZWxmLl9hdXRvUmVzdW1lKCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlbGYuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBzb3VyY2UuYnVmZmVyID0gc2VsZi5fc2NyYXRjaEJ1ZmZlcjtcbiAgICAgICAgc291cmNlLmNvbm5lY3Qoc2VsZi5jdHguZGVzdGluYXRpb24pO1xuXG4gICAgICAgIC8vIFBsYXkgdGhlIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc291cmNlLm5vdGVPbigwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxsaW5nIHJlc3VtZSgpIG9uIGEgc3RhY2sgaW5pdGlhdGVkIGJ5IHVzZXIgZ2VzdHVyZSBpcyB3aGF0IGFjdHVhbGx5IHVubG9ja3MgdGhlIGF1ZGlvIG9uIEFuZHJvaWQgQ2hyb21lID49IDU1LlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHNlbGYuY3R4LnJlc3VtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0dXAgYSB0aW1lb3V0IHRvIGNoZWNrIHRoYXQgd2UgYXJlIHVubG9ja2VkIG9uIHRoZSBuZXh0IGV2ZW50IGxvb3AuXG4gICAgICAgIHNvdXJjZS5vbmVuZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc291cmNlLmRpc2Nvbm5lY3QoMCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHVubG9ja2VkIHN0YXRlIGFuZCBwcmV2ZW50IHRoaXMgY2hlY2sgZnJvbSBoYXBwZW5pbmcgYWdhaW4uXG4gICAgICAgICAgc2VsZi5fYXVkaW9VbmxvY2tlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIHRvdWNoIHN0YXJ0IGxpc3RlbmVyLlxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdW5sb2NrLCB0cnVlKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgICAgICAvLyBMZXQgYWxsIHNvdW5kcyBrbm93IHRoYXQgYXVkaW8gaGFzIGJlZW4gdW5sb2NrZWQuXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzZWxmLl9ob3dsc1tpXS5fZW1pdCgndW5sb2NrJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgYSB0b3VjaCBzdGFydCBsaXN0ZW5lciB0byBhdHRlbXB0IGFuIHVubG9jayBpbi5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuIElmIG5vbmUgYXJlIGxlZnQsXG4gICAgICogcmV0dXJuIGEgbmV3IEF1ZGlvIG9iamVjdCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXG4gICAgICovXG4gICAgX29idGFpbkh0bWw1QXVkaW86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBuZXh0IG9iamVjdCBmcm9tIHRoZSBwb29sIGlmIG9uZSBleGlzdHMuXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgLy8uQ2hlY2sgaWYgdGhlIGF1ZGlvIGlzIGxvY2tlZCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAgdmFyIHRlc3RQbGF5ID0gbmV3IEF1ZGlvKCkucGxheSgpO1xuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0ZXN0UGxheS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0hUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFjdGl2YXRlZCBIVE1MNSBBdWRpbyBvYmplY3QgdG8gdGhlIHBvb2wuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24oYXVkaW8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIERvbid0IGFkZCBhdWRpbyB0byB0aGUgcG9vbCBpZiB3ZSBkb24ndCBrbm93IGlmIGl0IGhhcyBiZWVuIHVubG9ja2VkLlxuICAgICAgaWYgKGF1ZGlvLl91bmxvY2tlZCkge1xuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuXG4gICAgICAgIC8vIEhhbmRsZSB1cGRhdGluZyB0aGUgc3RhdGUgb2YgdGhlIGF1ZGlvIGNvbnRleHQgYWZ0ZXIgc3VzcGVuZGluZy5cbiAgICAgICAgdmFyIGhhbmRsZVN1c3BlbnNpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhlIHN0YXRlIGdldHMgc3VzcGVuZGVkIG9yIGl0IGlzIGludGVycnVwdGVkLlxuICAgICAgICAvLyBFaXRoZXIgd2F5LCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgc3RhdGUgdG8gc3VzcGVuZGVkLlxuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihoYW5kbGVTdXNwZW5zaW9uLCBoYW5kbGVTdXNwZW5zaW9uKTtcbiAgICAgIH0sIDMwMDAwKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgcmVzdW1lIHRoZSBXZWIgQXVkaW8gQXVkaW9Db250ZXh0IHdoZW4gYSBuZXcgc291bmQgaXMgcGxheWVkLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBfYXV0b1Jlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICghc2VsZi5jdHggfHwgdHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSAhPT0gJ2ludGVycnVwdGVkJyAmJiBzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XG4gICAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kZWQnIHx8IHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSA9PT0gJ2ludGVycnVwdGVkJykge1xuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RhdGUgPSAncnVubmluZyc7XG5cbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcbiAgICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kaW5nJykge1xuICAgICAgICBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxuICB2YXIgSG93bGVyID0gbmV3IEhvd2xlckdsb2JhbCgpO1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gYXVkaW8gZ3JvdXAgY29udHJvbGxlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXG4gICAqL1xuICB2YXIgSG93bCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBubyBzb3VyY2UgaXMgcHJvdmlkZWQuXG4gICAgaWYgKCFvLnNyYyB8fCBvLnNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmluaXQobyk7XG4gIH07XG4gIEhvd2wucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgSG93bCBncm91cCBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fZm9ybWF0ID0gKHR5cGVvZiBvLmZvcm1hdCAhPT0gJ3N0cmluZycpID8gby5mb3JtYXQgOiBbby5mb3JtYXRdO1xuICAgICAgc2VsZi5faHRtbDUgPSBvLmh0bWw1IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9sb29wID0gby5sb29wIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fcG9vbCA9IG8ucG9vbCB8fCA1O1xuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicgfHwgby5wcmVsb2FkID09PSAnbWV0YWRhdGEnKSA/IG8ucHJlbG9hZCA6IHRydWU7XG4gICAgICBzZWxmLl9yYXRlID0gby5yYXRlIHx8IDE7XG4gICAgICBzZWxmLl9zcHJpdGUgPSBvLnNwcml0ZSB8fCB7fTtcbiAgICAgIHNlbGYuX3NyYyA9ICh0eXBlb2Ygby5zcmMgIT09ICdzdHJpbmcnKSA/IG8uc3JjIDogW28uc3JjXTtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IG8udm9sdW1lICE9PSB1bmRlZmluZWQgPyBvLnZvbHVtZSA6IDE7XG4gICAgICBzZWxmLl94aHIgPSB7XG4gICAgICAgIG1ldGhvZDogby54aHIgJiYgby54aHIubWV0aG9kID8gby54aHIubWV0aG9kIDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IG8ueGhyICYmIG8ueGhyLmhlYWRlcnMgPyBvLnhoci5oZWFkZXJzIDogbnVsbCxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBvLnhociAmJiBvLnhoci53aXRoQ3JlZGVudGlhbHMgPyBvLnhoci53aXRoQ3JlZGVudGlhbHMgOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldHVwIGFsbCBvdGhlciBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IDA7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcbiAgICAgIHNlbGYuX2VuZFRpbWVycyA9IHt9O1xuICAgICAgc2VsZi5fcXVldWUgPSBbXTtcbiAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG5cbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgIHNlbGYuX29uZW5kID0gby5vbmVuZCA/IFt7Zm46IG8ub25lbmR9XSA6IFtdO1xuICAgICAgc2VsZi5fb25mYWRlID0gby5vbmZhZGUgPyBbe2ZuOiBvLm9uZmFkZX1dIDogW107XG4gICAgICBzZWxmLl9vbmxvYWQgPSBvLm9ubG9hZCA/IFt7Zm46IG8ub25sb2FkfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ubG9hZGVycm9yID0gby5vbmxvYWRlcnJvciA/IFt7Zm46IG8ub25sb2FkZXJyb3J9XSA6IFtdO1xuICAgICAgc2VsZi5fb25wbGF5ZXJyb3IgPSBvLm9ucGxheWVycm9yID8gW3tmbjogby5vbnBsYXllcnJvcn1dIDogW107XG4gICAgICBzZWxmLl9vbnBhdXNlID0gby5vbnBhdXNlID8gW3tmbjogby5vbnBhdXNlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheSA9IG8ub25wbGF5ID8gW3tmbjogby5vbnBsYXl9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zdG9wID0gby5vbnN0b3AgPyBbe2ZuOiBvLm9uc3RvcH1dIDogW107XG4gICAgICBzZWxmLl9vbm11dGUgPSBvLm9ubXV0ZSA/IFt7Zm46IG8ub25tdXRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udm9sdW1lID0gby5vbnZvbHVtZSA/IFt7Zm46IG8ub252b2x1bWV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yYXRlID0gby5vbnJhdGUgPyBbe2ZuOiBvLm9ucmF0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnNlZWsgPSBvLm9uc2VlayA/IFt7Zm46IG8ub25zZWVrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udW5sb2NrID0gby5vbnVubG9jayA/IFt7Zm46IG8ub251bmxvY2t9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yZXN1bWUgPSBbXTtcblxuICAgICAgLy8gV2ViIEF1ZGlvIG9yIEhUTUw1IEF1ZGlvP1xuICAgICAgc2VsZi5fd2ViQXVkaW8gPSBIb3dsZXIudXNpbmdXZWJBdWRpbyAmJiAhc2VsZi5faHRtbDU7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgdHJ5IHRvIGVuYWJsZSBhdWRpby5cbiAgICAgIGlmICh0eXBlb2YgSG93bGVyLmN0eCAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eCAmJiBIb3dsZXIuYXV0b1VubG9jaykge1xuICAgICAgICBIb3dsZXIuX3VubG9ja0F1ZGlvKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhpcyBIb3dsIGdyb3VwIGluIHRoZSBnbG9iYWwgY29udHJvbGxlci5cbiAgICAgIEhvd2xlci5faG93bHMucHVzaChzZWxmKTtcblxuICAgICAgLy8gSWYgdGhleSBzZWxlY3RlZCBhdXRvcGxheSwgYWRkIGEgcGxheSBldmVudCB0byB0aGUgbG9hZCBxdWV1ZS5cbiAgICAgIGlmIChzZWxmLl9hdXRvcGxheSkge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BsYXknLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBsYXkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBMb2FkIHRoZSBzb3VyY2UgZmlsZSB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAgICAgIGlmIChzZWxmLl9wcmVsb2FkICYmIHNlbGYuX3ByZWxvYWQgIT09ICdub25lJykge1xuICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHVybCA9IG51bGw7XG5cbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cbiAgICAgIGlmIChIb3dsZXIubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gYXVkaW8gc3VwcG9ydC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZWxmLl9zcmMgPSBbc2VsZi5fc3JjXTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzb3VyY2VzIGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBjb21wYXRpYmxlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXh0LCBzdHI7XG5cbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHRlbnNpb24gd2FzIHNwZWNpZmllZCwgdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgICAgICBleHQgPSBzZWxmLl9mb3JtYXRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcuXG4gICAgICAgICAgc3RyID0gc2VsZi5fc3JjW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vbi1zdHJpbmcgZm91bmQgaW4gc2VsZWN0ZWQgYXVkaW8gc291cmNlcyAtIGlnbm9yaW5nLicpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZSBleHRlbnNpb24gZnJvbSB0aGUgVVJMIG9yIGJhc2U2NCBkYXRhIFVSSS5cbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XG4gICAgICAgICAgaWYgKCFleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IC9cXC4oW14uXSspJC8uZXhlYyhzdHIuc3BsaXQoJz8nLCAxKVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9nIGEgd2FybmluZyBpZiBubyBleHRlbnNpb24gd2FzIGZvdW5kLlxuICAgICAgICBpZiAoIWV4dCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKGV4dCAmJiBIb3dsZXIuY29kZWNzKGV4dCkpIHtcbiAgICAgICAgICB1cmwgPSBzZWxmLl9zcmNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXG4gICAgICAvLyBkcm9wIGRvd24gdG8gSFRNTDUgQXVkaW8gdG8gYXZvaWQgTWl4ZWQgQ29udGVudCBlcnJvcnMuXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB1cmwuc2xpY2UoMCwgNSkgPT09ICdodHRwOicpIHtcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgc291bmQgb2JqZWN0IGFuZCBhZGQgaXQgdG8gdGhlIHBvb2wuXG4gICAgICBuZXcgU291bmQoc2VsZik7XG5cbiAgICAgIC8vIExvYWQgYW5kIGRlY29kZSB0aGUgYXVkaW8gZGF0YSBmb3IgcGxheWJhY2suXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgYSBzb3VuZCBvciByZXN1bWUgcHJldmlvdXMgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7U3RyaW5nL051bWJlcn0gc3ByaXRlICAgU3ByaXRlIG5hbWUgZm9yIHNwcml0ZSBwbGF5YmFjayBvciBzb3VuZCBpZCB0byBjb250aW51ZSBwcmV2aW91cy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgU291bmQgSUQuXG4gICAgICovXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlkID0gbnVsbDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgc3ByaXRlLCBzb3VuZCBpZCBvciBub3RoaW5nIHdhcyBwYXNzZWRcbiAgICAgIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZCA9IHNwcml0ZTtcbiAgICAgICAgc3ByaXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cbiAgICAgICAgc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzLCBwbGF5IHRoYXQgc291bmQuIElmIG5vdCwgY29udGludWUgYXMgdXN1YWwuXG4gICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzW2ldLl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobnVtID09PSAxKSB7XG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc2VsZWN0ZWQgbm9kZSwgb3IgZ2V0IG9uZSBmcm9tIHRoZSBwb29sLlxuICAgICAgdmFyIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5faW5hY3RpdmVTb3VuZCgpO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cbiAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXG4gICAgICBpZiAoaWQgJiYgIXNwcml0ZSkge1xuICAgICAgICBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlIHx8ICdfX2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgd2UgbXVzdCB3YWl0IHRvIGdldCB0aGUgYXVkaW8ncyBkdXJhdGlvbi5cbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgICAgLy8gdGhlIG9yZGVyIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxuICAgICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxuICAgICAgICB2YXIgc291bmRJZCA9IHNvdW5kLl9pZDtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KHNvdW5kSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgIGlmIChpZCAmJiAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBwbGF5IGV2ZW50LCBpbiBvcmRlciB0byBrZWVwIGl0ZXJhdGluZyB0aHJvdWdoIHF1ZXVlLlxuICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCdwbGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgdmFyIHN0YXJ0ID0gc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwO1xuICAgICAgdmFyIHN0b3AgPSAoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwO1xuICAgICAgc291bmQuX3Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgLy8gTWFyayB0aGUgc291bmQgYXMgZW5kZWQgaW5zdGFudGx5IHNvIHRoYXQgdGhpcyBhc3luYyBwbGF5YmFja1xuICAgICAgLy8gZG9lc24ndCBnZXQgZ3JhYmJlZCBieSBhbm90aGVyIGNhbGwgdG8gcGxheSB3aGlsZSB0aGlzIG9uZSB3YWl0cyB0byBzdGFydC5cbiAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNldFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzb3VuZC5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcbiAgICAgICAgc291bmQuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHNvdW5kLl9zdG9wID0gc3RvcDtcbiAgICAgICAgc291bmQuX2xvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXG4gICAgICBpZiAoc2VlayA+PSBzdG9wKSB7XG4gICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxuICAgICAgdmFyIG5vZGUgPSBzb3VuZC5fbm9kZTtcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5V2ViQXVkaW8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgIHNlbGYuX3JlZnJlc2hCdWZmZXIoc291bmQpO1xuXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cbiAgICAgICAgICB2YXIgdm9sID0gKHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCkgPyAwIDogc291bmQuX3ZvbHVtZTtcbiAgICAgICAgICBub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHVzaW5nIHRoZSBzdXBwb3J0ZWQgbWV0aG9kLlxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKEhvd2xlci5zdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIEhvd2xlci5jdHguc3RhdGUgIT09ICdpbnRlcnJ1cHRlZCcpIHtcbiAgICAgICAgICBwbGF5V2ViQXVkaW8oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG5cbiAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgYXVkaW8gY29udGV4dCB0byByZXN1bWUgYmVmb3JlIHBsYXlpbmcuXG4gICAgICAgICAgc2VsZi5vbmNlKCdyZXN1bWUnLCBwbGF5V2ViQXVkaW8pO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBIVE1MNSBBdWRpbyBwbGF5YmFjay5cbiAgICAgICAgdmFyIHBsYXlIdG1sNSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIG5vZGUubXV0ZWQgPSBzb3VuZC5fbXV0ZWQgfHwgc2VsZi5fbXV0ZWQgfHwgSG93bGVyLl9tdXRlZCB8fCBub2RlLm11dGVkO1xuICAgICAgICAgIG5vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICBub2RlLnBsYXliYWNrUmF0ZSA9IHNvdW5kLl9yYXRlO1xuXG4gICAgICAgICAgLy8gU29tZSBicm93c2VycyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoaXMgaXMgY2FsbGVkIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHBsYXkgPSBub2RlLnBsYXkoKTtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydCBvbGRlciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgcHJvbWlzZXMsIGFuZCB0aHVzIGRvbid0IGhhdmUgdGhpcyBpc3N1ZS5cbiAgICAgICAgICAgIGlmIChwbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAocGxheSBpbnN0YW5jZW9mIFByb21pc2UgfHwgdHlwZW9mIHBsYXkudGhlbiA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgLy8gSW1wbGVtZW50cyBhIGxvY2sgdG8gcHJldmVudCBET01FeGNlcHRpb246IFRoZSBwbGF5KCkgcmVxdWVzdCB3YXMgaW50ZXJydXB0ZWQgYnkgYSBjYWxsIHRvIHBhdXNlKCkuXG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAvLyBTZXQgcGFyYW0gdmFsdWVzIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICBzZXRQYXJhbXMoKTtcblxuICAgICAgICAgICAgICAvLyBSZWxlYXNlcyB0aGUgbG9jayBhbmQgZXhlY3V0ZXMgcXVldWVkIGFjdGlvbnMuXG4gICAgICAgICAgICAgIHBsYXlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBub2RlLl91bmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0dGluZyByYXRlIGJlZm9yZSBwbGF5aW5nIHdvbid0IHdvcmsgaW4gSUUsIHNvIHdlIHNldCBpdCBhZ2FpbiBoZXJlLlxuICAgICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgaXMgc3RpbGwgcGF1c2VkLCB0aGVuIHdlIGNhbiBhc3N1bWUgdGhlcmUgd2FzIGEgcGxheWJhY2sgaXNzdWUuXG4gICAgICAgICAgICBpZiAobm9kZS5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICdvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi4nKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXR1cCB0aGUgZW5kIHRpbWVyIG9uIHNwcml0ZXMgb3IgbGlzdGVuIGZvciB0aGUgZW5kZWQgZXZlbnQuXG4gICAgICAgICAgICBpZiAoc3ByaXRlICE9PSAnX19kZWZhdWx0JyB8fCBzb3VuZC5fbG9vcCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlIGVuZGVkIG9uIHRoaXMgYXVkaW8gbm9kZS5cbiAgICAgICAgICAgICAgICBzZWxmLl9lbmRlZChzb3VuZCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSwgZmFsc2UpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBzdHJlYW1pbmcgYXVkaW8sIG1ha2Ugc3VyZSB0aGUgc3JjIGlzIHNldCBhbmQgbG9hZCBhZ2Fpbi5cbiAgICAgICAgaWYgKG5vZGUuc3JjID09PSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUEnKSB7XG4gICAgICAgICAgbm9kZS5zcmMgPSBzZWxmLl9zcmM7XG4gICAgICAgICAgbm9kZS5sb2FkKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQbGF5IGltbWVkaWF0ZWx5IGlmIHJlYWR5LCBvciB3YWl0IGZvciB0aGUgJ2NhbnBsYXl0aHJvdWdoJ2UgdmVudC5cbiAgICAgICAgdmFyIGxvYWRlZE5vUmVhZHlTdGF0ZSA9ICh3aW5kb3cgJiYgd2luZG93LmVqZWN0YSkgfHwgKCFub2RlLnJlYWR5U3RhdGUgJiYgSG93bGVyLl9uYXZpZ2F0b3IuaXNDb2Nvb25KUyk7XG4gICAgICAgIGlmIChub2RlLnJlYWR5U3RhdGUgPj0gMyB8fCBsb2FkZWROb1JlYWR5U3RhdGUpIHtcbiAgICAgICAgICBwbGF5SHRtbDUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG4gICAgICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEJlZ2luIHBsYXliYWNrLlxuICAgICAgICAgICAgcGxheUh0bWw1KCk7XG5cbiAgICAgICAgICAgIC8vIENsZWFyIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG5cbiAgICAgICAgICAvLyBDYW5jZWwgdGhlIGVuZCB0aW1lci5cbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNvdW5kLl9pZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGF1c2UgcGxheWJhY2sgYW5kIHNhdmUgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gcGF1c2UgYWxsIGluIGdyb3VwKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHBhdXNlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCBvciBhIHBsYXkoKSBwcm9taXNlIGlzIHBlbmRpbmcsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBwYXVzZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAncGF1c2UnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBwYXVzZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQgJiYgIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlbGYuc2VlayhpZHNbaV0pO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgIGlmICghc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSB8fCBzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlIHRoZSBwYXVzZSBldmVudCwgdW5sZXNzIGB0cnVlYCBpcyBwYXNzZWQgYXMgdGhlIDJuZCBhcmd1bWVudC5cbiAgICAgICAgaWYgKCFhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdwYXVzZScsIHNvdW5kID8gc291bmQuX2lkIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0b3AgcGxheWJhY2sgYW5kIHJlc2V0IHRvIHN0YXJ0LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBzdG9wIGFsbCBpbiBncm91cCkuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaW50ZXJuYWwgSW50ZXJuYWwgVXNlOiB0cnVlIHByZXZlbnRzIGV2ZW50IGZpcmluZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGlkLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHN0b3Agd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3N0b3AnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnN0b3AoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHN0b3BwZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291bmQncyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGxpdmUgc3RyZWFtLCBzdG9wIGRvd25sb2FkIG9uY2UgdGhlIGF1ZGlvIGlzIHN0b3BwZWQuXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9jbGVhclNvdW5kKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0b3AnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXV0ZS91bm11dGUgYSBzaW5nbGUgc291bmQgb3IgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbXV0ZWQgU2V0IHRvIHRydWUgdG8gbXV0ZSBhbmQgZmFsc2UgdG8gdW5tdXRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICAgVGhlIHNvdW5kIElEIHRvIHVwZGF0ZSAob21pdCB0byBtdXRlL3VubXV0ZSBhbGwpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQsIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gbXV0ZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdtdXRlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5tdXRlKG11dGVkLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYXBwbHlpbmcgbXV0ZS91bm11dGUgdG8gYWxsIHNvdW5kcywgdXBkYXRlIHRoZSBncm91cCdzIHZhbHVlLlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtdXRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fbXV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgbXV0ZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIHNvdW5kLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIGFjdGl2ZSBmYWRlIGFuZCBzZXQgdGhlIHZvbHVtZSB0byB0aGUgZW5kIHZhbHVlLlxuICAgICAgICAgIGlmIChzb3VuZC5faW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKHNvdW5kLl9pZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNvdW5kLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gSG93bGVyLl9tdXRlZCA/IHRydWUgOiBtdXRlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdtdXRlJywgc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgdm9sdW1lIG9mIHRoaXMgc291bmQgb3Igb2YgdGhlIEhvd2wgZ3JvdXAuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHZvbHVtZSgpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3Mgdm9sdW1lIHZhbHVlLlxuICAgICAqICAgdm9sdW1lKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgdm9sdW1lLlxuICAgICAqICAgdm9sdW1lKHZvbCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgdm9sdW1lKHZvbCwgaWQpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cbiAgICAgKi9cbiAgICB2b2x1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgdm9sLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGdyb3Vwcycgdm9sdW1lLlxuICAgICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSB8fCBhcmdzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHZvbHVtZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZvbCA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPj0gMikge1xuICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZvbHVtZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSB2b2x1bWUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGV2ZW50OiAndm9sdW1lJyxcbiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYudm9sdW1lLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHZvbHVtZS5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSB2b2w7XG5cbiAgICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgICBpZiAoIWFyZ3NbMl0pIHtcbiAgICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9tdXRlZCkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gdm9sICogSG93bGVyLnZvbHVtZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCd2b2x1bWUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBpZCA/IHNlbGYuX3NvdW5kQnlJZChpZCkgOiBzZWxmLl9zb3VuZHNbMF07XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl92b2x1bWUgOiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmFkZSBhIGN1cnJlbnRseSBwbGF5aW5nIHNvdW5kIGJldHdlZW4gdHdvIHZvbHVtZXMgKGlmIG5vIGlkIGlzIHBhc3NlZCwgYWxsIHNvdW5kcyB3aWxsIGZhZGUpLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gZnJvbSBUaGUgdmFsdWUgdG8gZmFkZSBmcm9tICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRvICAgVGhlIHZvbHVtZSB0byBmYWRlIHRvICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxlbiAgVGltZSBpbiBtaWxsaXNlY29uZHMgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgVGhlIHNvdW5kIGlkIChvbWl0IHRvIGZhZGUgYWxsIHNvdW5kcykuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBmYWRlOiBmdW5jdGlvbihmcm9tLCB0bywgbGVuLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGZhZGUgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ2ZhZGUnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmZhZGUoZnJvbSwgdG8sIGxlbiwgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdG8vZnJvbS9sZW4gdmFsdWVzIGFyZSBudW1iZXJzLlxuICAgICAgZnJvbSA9IE1hdGgubWluKE1hdGgubWF4KDAsIHBhcnNlRmxvYXQoZnJvbSkpLCAxKTtcbiAgICAgIHRvID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcGFyc2VGbG9hdCh0bykpLCAxKTtcbiAgICAgIGxlbiA9IHBhcnNlRmxvYXQobGVuKTtcblxuICAgICAgLy8gU2V0IHRoZSB2b2x1bWUgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAgc2VsZi52b2x1bWUoZnJvbSwgaWQpO1xuXG4gICAgICAvLyBGYWRlIHRoZSB2b2x1bWUgb2Ygb25lIG9yIGFsbCBzb3VuZHMuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lYXIgZmFkZSBvciBmYWxsIGJhY2sgdG8gdGltZW91dHMgd2l0aCBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cbiAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8sIGxldCB0aGUgbmF0aXZlIG1ldGhvZHMgZG8gdGhlIGFjdHVhbCBmYWRlLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGN1cnJlbnRUaW1lICsgKGxlbiAvIDEwMDApO1xuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGZyb20sIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodG8sIGVuZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fc3RhcnRGYWRlSW50ZXJ2YWwoc291bmQsIGZyb20sIHRvLCBsZW4sIGlkc1tpXSwgdHlwZW9mIGlkID09PSAndW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgaW50ZXJuYWwgaW50ZXJ2YWwgdG8gZmFkZSBhIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc291bmQgUmVmZXJlbmNlIHRvIHNvdW5kIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc0dyb3VwICAgSWYgdHJ1ZSwgc2V0IHRoZSB2b2x1bWUgb24gdGhlIGdyb3VwLlxuICAgICAqL1xuICAgIF9zdGFydEZhZGVJbnRlcnZhbDogZnVuY3Rpb24oc291bmQsIGZyb20sIHRvLCBsZW4sIGlkLCBpc0dyb3VwKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdm9sID0gZnJvbTtcbiAgICAgIHZhciBkaWZmID0gdG8gLSBmcm9tO1xuICAgICAgdmFyIHN0ZXBzID0gTWF0aC5hYnMoZGlmZiAvIDAuMDEpO1xuICAgICAgdmFyIHN0ZXBMZW4gPSBNYXRoLm1heCg0LCAoc3RlcHMgPiAwKSA/IGxlbiAvIHN0ZXBzIDogbGVuKTtcbiAgICAgIHZhciBsYXN0VGljayA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBiZWluZyBmYWRlZCB0by5cbiAgICAgIHNvdW5kLl9mYWRlVG8gPSB0bztcblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgdmFsdWUgb24gZWFjaCBpbnRlcnZhbCB0aWNrLlxuICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGJhc2VkIG9uIHRoZSB0aW1lIHNpbmNlIHRoZSBsYXN0IHRpY2suXG4gICAgICAgIHZhciB0aWNrID0gKERhdGUubm93KCkgLSBsYXN0VGljaykgLyBsZW47XG4gICAgICAgIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdm9sICs9IGRpZmYgKiB0aWNrO1xuXG4gICAgICAgIC8vIFJvdW5kIHRvIHdpdGhpbiAyIGRlY2ltYWwgcG9pbnRzLlxuICAgICAgICB2b2wgPSBNYXRoLnJvdW5kKHZvbCAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB2b2x1bWUgaXMgaW4gdGhlIHJpZ2h0IGJvdW5kcy5cbiAgICAgICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICAgICAgdm9sID0gTWF0aC5tYXgodG8sIHZvbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm9sID0gTWF0aC5taW4odG8sIHZvbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGFuZ2UgdGhlIHZvbHVtZS5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnZvbHVtZSh2b2wsIHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwJ3Mgdm9sdW1lLlxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIGZhZGUgaXMgY29tcGxldGUsIHN0b3AgaXQgYW5kIGZpcmUgZXZlbnQuXG4gICAgICAgIGlmICgodG8gPCBmcm9tICYmIHZvbCA8PSB0bykgfHwgKHRvID4gZnJvbSAmJiB2b2wgPj0gdG8pKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xuICAgICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XG4gICAgICAgICAgc2VsZi52b2x1bWUodG8sIHNvdW5kLl9pZCk7XG4gICAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHN0ZXBMZW4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBzdG9wcyB0aGUgY3VycmVudGx5IHBsYXlpbmcgZmFkZSB3aGVuXG4gICAgICogYSBuZXcgZmFkZSBzdGFydHMsIHZvbHVtZSBpcyBjaGFuZ2VkIG9yIHRoZSBzb3VuZCBpcyBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9pbnRlcnZhbCkge1xuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgc2VsZi52b2x1bWUoc291bmQuX2ZhZGVUbywgaWQpO1xuICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcbiAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIGlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGxvb3AgcGFyYW1ldGVyIG9uIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGxvb3ApIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgZm9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9Cb29sZWFufSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBsb29wIHZhbHVlLlxuICAgICAqL1xuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBmb3IgbG9vcCBhbmQgaWQuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBncm91J3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvb3A7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBsb29wIHZhbHVlLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX2xvb3AgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsb29wID0gYXJnc1swXTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIGxvb3BlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgc291bmQuX2xvb3AgPSBsb29wO1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcDtcblxuICAgICAgICAgICAgICAvLyBJZiBwbGF5aW5nLCByZXN0YXJ0IHBsYXliYWNrIHRvIGVuc3VyZSBsb29waW5nIHVwZGF0ZXMuXG4gICAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRzW2ldKSkge1xuICAgICAgICAgICAgICAgIHNlbGYucGF1c2UoaWRzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzZWxmLnBsYXkoaWRzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICByYXRlKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKiAgIHJhdGUoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqICAgcmF0ZShyYXRlKSAtPiBTZXRzIHRoZSBwbGF5YmFjayByYXRlIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgcmF0ZShyYXRlLCBpZCkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqL1xuICAgIHJhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgcmF0ZSwgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBXZSB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgcmF0ZSBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgcmF0ZSB2YWx1ZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSBwbGF5YmFjayByYXRlIG9yIHJldHVybiB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2YgcmF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2UgcGxheWJhY2sgcmF0ZSB3aGVuIGNhcGFibGUuXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGV2ZW50OiAncmF0ZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnJhdGUuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdXAgcmF0ZS5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl9yYXRlID0gcmF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBvbmUgb3IgYWxsIHZvbHVtZXMuXG4gICAgICAgIGlkID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8aWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBvdXIgcG9zaXRpb24gd2hlbiB0aGUgcmF0ZSBjaGFuZ2VkIGFuZCB1cGRhdGUgdGhlIHBsYXliYWNrXG4gICAgICAgICAgICAvLyBzdGFydCBwb3NpdGlvbiBzbyB3ZSBjYW4gcHJvcGVybHkgYWRqdXN0IHRoZSBzZWVrIHBvc2l0aW9uIGZvciB0aW1lIGVsYXBzZWQuXG4gICAgICAgICAgICBpZiAoc2VsZi5wbGF5aW5nKGlkW2ldKSkge1xuICAgICAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gc2VsZi5fd2ViQXVkaW8gPyBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lIDogc291bmQuX3BsYXlTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdW5kLl9yYXRlID0gcmF0ZTtcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIHRoZSBwbGF5YmFjayByYXRlLlxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHJhdGUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wbGF5YmFja1JhdGUgPSByYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgdGltZXJzLlxuICAgICAgICAgICAgdmFyIHNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gKChzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0pIC8gMTAwMCkgLSBzZWVrO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSAoZHVyYXRpb24gKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSBuZXcgZW5kIHRpbWVyIGlmIHNvdW5kIGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRbaV1dIHx8ICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRbaV0pO1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbaWRbaV1dID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3JhdGUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcmF0ZSA6IHNlbGYuX3JhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBzZWVrIHBvc2l0aW9uIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHNlZWsoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqICAgc2VlayhpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICogICBzZWVrKHNlZWspIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNvdW5kIG5vZGUuXG4gICAgICogICBzZWVrKHNlZWssIGlkKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICovXG4gICAgc2VlazogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBzZWVrLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHNlZWsgcG9zaXRpb24uXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gSUQsIGJhaWwgb3V0LlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc2VlayB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnc2VlaycsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc2Vlay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgc2VlayA+PSAwKSB7XG4gICAgICAgICAgLy8gUGF1c2UgdGhlIHNvdW5kIGFuZCB1cGRhdGUgcG9zaXRpb24gZm9yIHJlc3RhcnRpbmcgcGxheWJhY2suXG4gICAgICAgICAgdmFyIHBsYXlpbmcgPSBzZWxmLnBsYXlpbmcoaWQpO1xuICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkLCB0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNb3ZlIHRoZSBwb3NpdGlvbiBvZiB0aGUgdHJhY2sgYW5kIGNhbmNlbCB0aW1lci5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNlZWsgcG9zaXRpb24gZm9yIEhUTUw1IEF1ZGlvLlxuICAgICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNlZWsgYW5kIGVtaXQgd2hlbiByZWFkeS5cbiAgICAgICAgICB2YXIgc2Vla0FuZEVtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGlmIHRoZSBzb3VuZCB3YXMgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICAgIHNlbGYucGxheShpZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3NlZWsnLCBpZCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwbGF5IGxvY2sgdG8gYmUgdW5zZXQgYmVmb3JlIGVtaXR0aW5nIChIVE1MNSBBdWRpbykuXG4gICAgICAgICAgaWYgKHBsYXlpbmcgJiYgIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgZW1pdFNlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgcmVhbFRpbWUgPSBzZWxmLnBsYXlpbmcoaWQpID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSAtIHNvdW5kLl9wbGF5U3RhcnQgOiAwO1xuICAgICAgICAgICAgdmFyIHJhdGVTZWVrID0gc291bmQuX3JhdGVTZWVrID8gc291bmQuX3JhdGVTZWVrIC0gc291bmQuX3NlZWsgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291bmQuX25vZGUuY3VycmVudFRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHNwZWNpZmljIHNvdW5kIGlzIGN1cnJlbnRseSBwbGF5aW5nIG9yIG5vdCAoaWYgaWQgaXMgcHJvdmlkZWQpLCBvciBjaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHNvdW5kcyBpbiB0aGUgZ3JvdXAgaXMgcGxheWluZyBvciBub3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nIGFuZCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGlzIHNvdW5kLiBQYXNzaW5nIGEgc291bmQgaWQgd2lsbCByZXR1cm4gdGhlIHNwcml0ZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEF1ZGlvIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZHVyYXRpb24gPSBzZWxmLl9kdXJhdGlvbjtcblxuICAgICAgLy8gSWYgd2UgcGFzcyBhbiBJRCwgZ2V0IHRoZSBzb3VuZCBhbmQgcmV0dXJuIHRoZSBzcHJpdGUgbGVuZ3RoLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBkdXJhdGlvbiA9IHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSAvIDEwMDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2FkZWQgc3RhdGUgb2YgdGhpcyBIb3dsLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xuICAgICAqL1xuICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IHRoZSBjdXJyZW50IEhvd2wgb2JqZWN0LlxuICAgICAqIFRoaXMgd2lsbCBpbW1lZGlhdGVseSBzdG9wIGFsbCBzb3VuZCBpbnN0YW5jZXMgYXR0YWNoZWQgdG8gdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTdG9wIHBsYXlpbmcgYW55IGFjdGl2ZSBzb3VuZHMuXG4gICAgICB2YXIgc291bmRzID0gc2VsZi5fc291bmRzO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBTdG9wIHRoZSBzb3VuZCBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgaWYgKCFzb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXG4gICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBTZXQgdGhlIHNvdXJjZSB0byAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nIChleGNlcHQgaW4gSUUpLlxuICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmRzW2ldLl9ub2RlKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdW5kc1tpXS5fZXJyb3JGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzb3VuZHNbaV0uX2xvYWRGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNvdW5kc1tpXS5fZW5kRm4sIGZhbHNlKTtcblxuICAgICAgICAgIC8vIFJlbGVhc2UgdGhlIEF1ZGlvIG9iamVjdCBiYWNrIHRvIHRoZSBwb29sLlxuICAgICAgICAgIEhvd2xlci5fcmVsZWFzZUh0bWw1QXVkaW8oc291bmRzW2ldLl9ub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtcHR5IG91dCBhbGwgb2YgdGhlIG5vZGVzLlxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgdGltZXJzIGFyZSBjbGVhcmVkIG91dC5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHRoZSByZWZlcmVuY2VzIGluIHRoZSBnbG9iYWwgSG93bGVyIG9iamVjdC5cbiAgICAgIHZhciBpbmRleCA9IEhvd2xlci5faG93bHMuaW5kZXhPZihzZWxmKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIEhvd2xlci5faG93bHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVsZXRlIHRoaXMgc291bmQgZnJvbSB0aGUgY2FjaGUgKGlmIG5vIG90aGVyIEhvd2wgaXMgdXNpbmcgaXQpLlxuICAgICAgdmFyIHJlbUNhY2hlID0gdHJ1ZTtcbiAgICAgIGZvciAoaT0wOyBpPEhvd2xlci5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKEhvd2xlci5faG93bHNbaV0uX3NyYyA9PT0gc2VsZi5fc3JjIHx8IHNlbGYuX3NyYy5pbmRleE9mKEhvd2xlci5faG93bHNbaV0uX3NyYykgPj0gMCkge1xuICAgICAgICAgIHJlbUNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZVtzZWxmLl9zcmNdO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBnbG9iYWwgZXJyb3JzLlxuICAgICAgSG93bGVyLm5vQXVkaW8gPSBmYWxzZTtcblxuICAgICAgLy8gQ2xlYXIgb3V0IGBzZWxmYC5cbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgc2VsZiA9IG51bGw7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBvbmNlICAoSU5URVJOQUwpIE1hcmtzIGV2ZW50IHRvIGZpcmUgb25seSBvbmNlLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQsIG9uY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKG9uY2UgPyB7aWQ6IGlkLCBmbjogZm4sIG9uY2U6IG9uY2V9IDoge2lkOiBpZCwgZm46IGZufSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdXN0b20gZXZlbnQuIENhbGwgd2l0aG91dCBwYXJhbWV0ZXJzIHRvIHJlbW92ZSBhbGwgZXZlbnRzLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byByZW1vdmUuIExlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSByZW1vdmUgZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgLy8gQWxsb3cgcGFzc2luZyBqdXN0IGFuIGV2ZW50IGFuZCBJRC5cbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlkID0gZm47XG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGZuIHx8IGlkKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgcmVtb3ZlIHRoZSBwYXNzZWQgZnVuY3Rpb24uXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpc0lkID0gKGlkID09PSBldmVudHNbaV0uaWQpO1xuICAgICAgICAgIGlmIChmbiA9PT0gZXZlbnRzW2ldLmZuICYmIGlzSWQgfHwgIWZuICYmIGlzSWQpIHtcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgdGhpcyB0eXBlLlxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiBldmVyeSB0eXBlLlxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKChrZXlzW2ldLmluZGV4T2YoJ19vbicpID09PSAwKSAmJiBBcnJheS5pc0FycmF5KHNlbGZba2V5c1tpXV0pKSB7XG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5vbihldmVudCwgZm4sIGlkLCAxKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYWxsIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgYW5kIHBhc3MgdGhlIHNvdW5kIGlkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbXNnICAgTWVzc2FnZSB0byBnbyB3aXRoIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBpZCwgbXNnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCBmaXJlIGFsbCBmdW5jdGlvbnMuXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgbGlzdGVuZXIgaWYgdGhlIGNvcnJlY3QgSUQgaXMgdXNlZC5cbiAgICAgICAgaWYgKCFldmVudHNbaV0uaWQgfHwgZXZlbnRzW2ldLmlkID09PSBpZCB8fCBldmVudCA9PT0gJ2xvYWQnKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBpZCwgbXNnKTtcbiAgICAgICAgICB9LmJpbmQoc2VsZiwgZXZlbnRzW2ldLmZuKSwgMCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IHdhcyBzZXR1cCB3aXRoIGBvbmNlYCwgcmVtb3ZlIGl0LlxuICAgICAgICAgIGlmIChldmVudHNbaV0ub25jZSkge1xuICAgICAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGV2ZW50c1tpXS5mbiwgZXZlbnRzW2ldLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGFzcyB0aGUgZXZlbnQgdHlwZSBpbnRvIGxvYWQgcXVldWUgc28gdGhhdCBpdCBjYW4gY29udGludWUgc3RlcHBpbmcuXG4gICAgICBzZWxmLl9sb2FkUXVldWUoZXZlbnQpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUXVldWUgb2YgYWN0aW9ucyBpbml0aWF0ZWQgYmVmb3JlIHRoZSBzb3VuZCBoYXMgbG9hZGVkLlxuICAgICAqIFRoZXNlIHdpbGwgYmUgY2FsbGVkIGluIHNlcXVlbmNlLCB3aXRoIHRoZSBuZXh0IG9ubHkgZmlyaW5nXG4gICAgICogYWZ0ZXIgdGhlIHByZXZpb3VzIGhhcyBmaW5pc2hlZCBleGVjdXRpbmcgKGV2ZW4gaWYgYXN5bmMgbGlrZSBwbGF5KS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9sb2FkUXVldWU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgdGFzayBpZiBhIG1hdGNoaW5nIGV2ZW50IHdhcyBwYXNzZWQuXG4gICAgICAgIGlmICh0YXNrLmV2ZW50ID09PSBldmVudCkge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIHRhc2sgaWYgbm8gZXZlbnQgdHlwZSBpcyBwYXNzZWQuXG4gICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICB0YXNrLmFjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHBsYXliYWNrIGVuZHMgYXQgdGhlIGVuZCBvZiB0aGUgZHVyYXRpb24uXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VuZGVkOiBmdW5jdGlvbihzb3VuZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGU7XG5cbiAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBJRSBhbmQgdGhlcmUgd2FzIG5ldHdvcmsgbGF0ZW5jeSB3ZSBtYXkgYmUgY2xpcHBpbmdcbiAgICAgIC8vIGF1ZGlvIGJlZm9yZSBpdCBjb21wbGV0ZXMgcGxheWluZy4gTGV0cyBjaGVjayB0aGUgbm9kZSB0byBtYWtlIHN1cmUgaXRcbiAgICAgIC8vIGJlbGlldmVzIGl0IGhhcyBjb21wbGV0ZWQsIGJlZm9yZSBlbmRpbmcgdGhlIHBsYXliYWNrLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX25vZGUucGF1c2VkICYmICFzb3VuZC5fbm9kZS5lbmRlZCAmJiBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA8IHNvdW5kLl9zdG9wKSB7XG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIDEwMCk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG91bGQgdGhpcyBzb3VuZCBsb29wP1xuICAgICAgdmFyIGxvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG5cbiAgICAgIC8vIEZpcmUgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgc2VsZi5fZW1pdCgnZW5kJywgc291bmQuX2lkKTtcblxuICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgZm9yIEhUTUw1IEF1ZGlvIGxvb3AuXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXN0YXJ0IHRoaXMgdGltZXIgaWYgb24gYSBXZWIgQXVkaW8gbG9vcC5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XG4gICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICB2YXIgdGltZW91dCA9ICgoc291bmQuX3N0b3AgLSBzb3VuZC5fc3RhcnQpICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XG4gICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE1hcmsgdGhlIG5vZGUgYXMgcGF1c2VkLlxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcblxuICAgICAgICAvLyBBdHRlbXB0IHRvIGF1dG8tc3VzcGVuZCBBdWRpb0NvbnRleHQgaWYgbm8gc291bmRzIGFyZSBzdGlsbCBwbGF5aW5nLlxuICAgICAgICBIb3dsZXIuX2F1dG9TdXNwZW5kKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdXNpbmcgYSBzcHJpdGUsIGVuZCB0aGUgdHJhY2suXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGVuZCB0aW1lciBmb3IgYSBzb3VuZCBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9jbGVhclRpbWVyOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkXSkge1xuICAgICAgICAvLyBDbGVhciB0aGUgdGltZW91dCBvciByZW1vdmUgdGhlIGVuZGVkIGxpc3RlbmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2VuZFRpbWVyc1tpZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fZW5kVGltZXJzW2lkXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW2lkXSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBzZWxmLl9lbmRUaW1lcnNbaWRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBzb3VuZCBpZGVudGlmaWVkIGJ5IHRoaXMgSUQsIG9yIHJldHVybiBudWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgU291bmQgSURcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgIFNvdW5kIG9iamVjdCBvciBudWxsLlxuICAgICAqL1xuICAgIF9zb3VuZEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBmaW5kIHRoZSBvbmUgd2l0aCB0aGlzIElELlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaWQgPT09IHNlbGYuX3NvdW5kc1tpXS5faWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gaW5hY3RpdmUgc291bmQgZnJvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfSBTb3VuZCBwbGF5YmFjayBvYmplY3QuXG4gICAgICovXG4gICAgX2luYWN0aXZlU291bmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLl9kcmFpbigpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBpbmFjdGl2ZSBub2RlIHRvIHJlY3ljbGUuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGluYWN0aXZlIG5vZGUgd2FzIGZvdW5kLCBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgcmV0dXJuIG5ldyBTb3VuZChzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhaW4gZXhjZXNzIGluYWN0aXZlIHNvdW5kcyBmcm9tIHRoZSBwb29sLlxuICAgICAqL1xuICAgIF9kcmFpbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgbGltaXQgPSBzZWxmLl9wb29sO1xuICAgICAgdmFyIGNudCA9IDA7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIC8vIElmIHRoZXJlIGFyZSBsZXNzIHNvdW5kcyB0aGFuIHRoZSBtYXggcG9vbCBzaXplLCB3ZSBhcmUgZG9uZS5cbiAgICAgIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGluYWN0aXZlIHNvdW5kcy5cbiAgICAgIGZvciAoaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIGNudCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBleGNlc3MgaW5hY3RpdmUgc291bmRzLCBnb2luZyBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgZm9yIChpPXNlbGYuX3NvdW5kcy5sZW5ndGggLSAxOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgaWYgKGNudCA8PSBsaW1pdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgYXVkaW8gc291cmNlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzZWxmLl9zb3VuZHNbaV0uX25vZGUpIHtcbiAgICAgICAgICAgIHNlbGYuX3NvdW5kc1tpXS5fbm9kZS5kaXNjb25uZWN0KDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJlbW92ZSBzb3VuZHMgdW50aWwgd2UgaGF2ZSB0aGUgcG9vbCBzaXplLlxuICAgICAgICAgIHNlbGYuX3NvdW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgY250LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBJRCdzIGZyb20gdGhlIHNvdW5kcyBwb29sLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgT25seSByZXR1cm4gb25lIElEIGlmIG9uZSBpcyBwYXNzZWQuXG4gICAgICogQHJldHVybiB7QXJyYXl9ICAgIEFycmF5IG9mIElEcy5cbiAgICAgKi9cbiAgICBfZ2V0U291bmRJZHM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlkcy5wdXNoKHNlbGYuX3NvdW5kc1tpXS5faWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbaWRdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBzb3VuZCBiYWNrIGludG8gdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3JlZnJlc2hCdWZmZXI6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHRoZSBidWZmZXIgc291cmNlIGZvciBwbGF5YmFjay5cbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSA9IEhvd2xlci5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gY2FjaGVbc2VsZi5fc3JjXTtcblxuICAgICAgLy8gQ29ubmVjdCB0byB0aGUgY29ycmVjdCBub2RlLlxuICAgICAgaWYgKHNvdW5kLl9wYW5uZXIpIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX3Bhbm5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fbm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIGxvb3BpbmcgYW5kIHBsYXliYWNrIHJhdGUuXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IHNvdW5kLl9sb29wO1xuICAgICAgaWYgKHNvdW5kLl9sb29wKSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcCB8fCAwO1xuICAgICAgfVxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50IG1lbW9yeSBsZWFrcyBieSBjbGVhbmluZyB1cCB0aGUgYnVmZmVyIHNvdXJjZSBhZnRlciBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBpc0lPUyA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID49IDA7XG5cbiAgICAgIGlmIChIb3dsZXIuX3NjcmF0Y2hCdWZmZXIgJiYgbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIGlmIChpc0lPUykge1xuICAgICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IEhvd2xlci5fc2NyYXRjaEJ1ZmZlcjsgfSBjYXRjaChlKSB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLmJ1ZmZlclNvdXJjZSA9IG51bGw7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSB0byBhIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBub2RlIEF1ZGlvIG5vZGUgdG8gY2xlYXIuXG4gICAgICovXG4gICAgX2NsZWFyU291bmQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBjaGVja0lFID0gL01TSUUgfFRyaWRlbnRcXC8vLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIGlmICghY2hlY2tJRSkge1xuICAgICAgICBub2RlLnNyYyA9ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQSc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBob3dsIFRoZSBIb3dsIHBhcmVudCBncm91cC5cbiAgICovXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBob3dsO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBTb3VuZC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XG5cbiAgICAgIC8vIEFkZCBpdHNlbGYgdG8gdGhlIHBhcmVudCdzIHBvb2wuXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIG5ldyBub2RlLlxuICAgICAgc2VsZi5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XG5cbiAgICAgIGlmIChwYXJlbnQuX3dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxuICAgICAgICBzZWxmLl9ub2RlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgICBzZWxmLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLl9ub2RlLmNvbm5lY3QoSG93bGVyLm1hc3RlckdhaW4pO1xuICAgICAgfSBlbHNlIGlmICghSG93bGVyLm5vQXVkaW8pIHtcbiAgICAgICAgLy8gR2V0IGFuIHVubG9ja2VkIEF1ZGlvIG9iamVjdCBmcm9tIHRoZSBwb29sLlxuICAgICAgICBzZWxmLl9ub2RlID0gSG93bGVyLl9vYnRhaW5IdG1sNUF1ZGlvKCk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciBlcnJvcnMgKGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMtYXV0aG9yLXZpZXcvc3BlYy5odG1sI21lZGlhZXJyb3IpLlxuICAgICAgICBzZWxmLl9lcnJvckZuID0gc2VsZi5fZXJyb3JMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCB0byBsZXQgdXMga25vdyB0aGUgc291bmQgaXMgcmVhZHkuXG4gICAgICAgIHNlbGYuX2xvYWRGbiA9IHNlbGYuX2xvYWRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgdGhlICdlbmRlZCcgZXZlbnQgb24gdGhlIHNvdW5kIHRvIGFjY291bnQgZm9yIGVkZ2UtY2FzZSB3aGVyZVxuICAgICAgICAvLyBhIGZpbml0ZSBzb3VuZCBoYXMgYSBkdXJhdGlvbiBvZiBJbmZpbml0eS5cbiAgICAgICAgc2VsZi5fZW5kRm4gPSBzZWxmLl9lbmRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbmV3IGF1ZGlvIG5vZGUuXG4gICAgICAgIHNlbGYuX25vZGUuc3JjID0gcGFyZW50Ll9zcmM7XG4gICAgICAgIHNlbGYuX25vZGUucHJlbG9hZCA9IHBhcmVudC5fcHJlbG9hZCA9PT0gdHJ1ZSA/ICdhdXRvJyA6IHBhcmVudC5fcHJlbG9hZDtcbiAgICAgICAgc2VsZi5fbm9kZS52b2x1bWUgPSB2b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG5cbiAgICAgICAgLy8gQmVnaW4gbG9hZGluZyB0aGUgc291cmNlLlxuICAgICAgICBzZWxmLl9ub2RlLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQgdG8gdGhlIG9yaWdpbmFsIHN0YXRlIChmb3IgcmVjeWNsZSkuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUmVzZXQgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xuICAgICAgc2VsZi5fc2VlayA9IDA7XG4gICAgICBzZWxmLl9yYXRlU2VlayA9IDA7XG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IElEIHNvIHRoYXQgaXQgaXNuJ3QgY29uZnVzZWQgd2l0aCB0aGUgcHJldmlvdXMgc291bmQuXG4gICAgICBzZWxmLl9pZCA9ICsrSG93bGVyLl9jb3VudGVyO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gZXJyb3IgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2Vycm9yTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBGaXJlIGFuIGVycm9yIGV2ZW50IGFuZCBwYXNzIGJhY2sgdGhlIGNvZGUuXG4gICAgICBzZWxmLl9wYXJlbnQuX2VtaXQoJ2xvYWRlcnJvcicsIHNlbGYuX2lkLCBzZWxmLl9ub2RlLmVycm9yID8gc2VsZi5fbm9kZS5lcnJvci5jb2RlIDogMCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGNhbnBsYXl0aHJvdWdoIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9sb2FkTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUm91bmQgdXAgdGhlIGR1cmF0aW9uIHRvIGFjY291bnQgZm9yIHRoZSBsb3dlciBwcmVjaXNpb24gaW4gSFRNTDUgQXVkaW8uXG4gICAgICBwYXJlbnQuX2R1cmF0aW9uID0gTWF0aC5jZWlsKHNlbGYuX25vZGUuZHVyYXRpb24gKiAxMCkgLyAxMDtcblxuICAgICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmVudC5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcGFyZW50Ll9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgcGFyZW50Ll9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVudC5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgIHBhcmVudC5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgcGFyZW50Ll9lbWl0KCdsb2FkJyk7XG4gICAgICAgIHBhcmVudC5fbG9hZFF1ZXVlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGVuZGVkIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9lbmRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBPbmx5IGhhbmRsZSB0aGUgYGVuZGVkYGAgZXZlbnQgaWYgdGhlIGR1cmF0aW9uIGlzIEluZmluaXR5LlxuICAgICAgaWYgKHBhcmVudC5fZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFyZW50IGR1cmF0aW9uIHRvIG1hdGNoIHRoZSByZWFsIGF1ZGlvIGR1cmF0aW9uLlxuICAgICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cbiAgICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzcHJpdGUgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgcmVhbCBkdXJhdGlvbi5cbiAgICAgICAgaWYgKHBhcmVudC5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICBwYXJlbnQuX3Nwcml0ZS5fX2RlZmF1bHRbMV0gPSBwYXJlbnQuX2R1cmF0aW9uICogMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGUgcmVndWxhciBlbmRlZCBtZXRob2QuXG4gICAgICAgIHBhcmVudC5fZW5kZWQoc2VsZik7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lciBzaW5jZSB0aGUgZHVyYXRpb24gaXMgbm93IGNvcnJlY3QuXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBCdWZmZXIgYSBzb3VuZCBmcm9tIFVSTCwgRGF0YSBVUkkgb3IgY2FjaGUgYW5kIGRlY29kZSB0byBhdWRpbyBzb3VyY2UgKFdlYiBBdWRpbyBBUEkpLlxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXG4gICAqL1xuICB2YXIgbG9hZEJ1ZmZlciA9IGZ1bmN0aW9uKHNlbGYpIHtcbiAgICB2YXIgdXJsID0gc2VsZi5fc3JjO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGJ1ZmZlciBoYXMgYWxyZWFkeSBiZWVuIGNhY2hlZCBhbmQgdXNlIGl0IGluc3RlYWQuXG4gICAgaWYgKGNhY2hlW3VybF0pIHtcbiAgICAgIC8vIFNldCB0aGUgZHVyYXRpb24gZnJvbSB0aGUgY2FjaGUuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGNhY2hlW3VybF0uZHVyYXRpb247XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdW5kIGludG8gdGhpcyBIb3dsLlxuICAgICAgbG9hZFNvdW5kKHNlbGYpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKC9eZGF0YTpbXjtdKztiYXNlNjQsLy50ZXN0KHVybCkpIHtcbiAgICAgIC8vIERlY29kZSB0aGUgYmFzZTY0IGRhdGEgVVJJIHdpdGhvdXQgWEhSLCBzaW5jZSBzb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgaXQuXG4gICAgICB2YXIgZGF0YSA9IGF0b2IodXJsLnNwbGl0KCcsJylbMV0pO1xuICAgICAgdmFyIGRhdGFWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGF0YVZpZXdbaV0gPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICB9XG5cbiAgICAgIGRlY29kZUF1ZGlvRGF0YShkYXRhVmlldy5idWZmZXIsIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMb2FkIHRoZSBidWZmZXIgZnJvbSB0aGUgVVJMLlxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oc2VsZi5feGhyLm1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBzZWxmLl94aHIud2l0aENyZWRlbnRpYWxzO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICAgIC8vIEFwcGx5IGFueSBjdXN0b20gaGVhZGVycyB0byB0aGUgcmVxdWVzdC5cbiAgICAgIGlmIChzZWxmLl94aHIuaGVhZGVycykge1xuICAgICAgICBPYmplY3Qua2V5cyhzZWxmLl94aHIuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHNlbGYuX3hoci5oZWFkZXJzW2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgZ2V0IGEgc3VjY2Vzc2Z1bCByZXNwb25zZSBiYWNrLlxuICAgICAgICB2YXIgY29kZSA9ICh4aHIuc3RhdHVzICsgJycpWzBdO1xuICAgICAgICBpZiAoY29kZSAhPT0gJzAnICYmIGNvZGUgIT09ICcyJyAmJiBjb2RlICE9PSAnMycpIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRmFpbGVkIGxvYWRpbmcgYXVkaW8gZmlsZSB3aXRoIHN0YXR1czogJyArIHhoci5zdGF0dXMgKyAnLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlY29kZUF1ZGlvRGF0YSh4aHIucmVzcG9uc2UsIHNlbGYpO1xuICAgICAgfTtcbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGVycm9yLCBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8uXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgIHNlbGYuX2h0bWw1ID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgICAgIGRlbGV0ZSBjYWNoZVt1cmxdO1xuICAgICAgICAgIHNlbGYubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2FmZVhoclNlbmQoeGhyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmQgdGhlIFhIUiByZXF1ZXN0IHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2guXG4gICAqIEBwYXJhbSAge09iamVjdH0geGhyIFhIUiB0byBzZW5kLlxuICAgKi9cbiAgdmFyIHNhZmVYaHJTZW5kID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgeGhyLm9uZXJyb3IoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERlY29kZSBhdWRpbyBkYXRhIGZyb20gYW4gYXJyYXkgYnVmZmVyLlxuICAgKiBAcGFyYW0gIHtBcnJheUJ1ZmZlcn0gYXJyYXlidWZmZXIgVGhlIGF1ZGlvIGRhdGEuXG4gICAqIEBwYXJhbSAge0hvd2x9ICAgICAgICBzZWxmXG4gICAqL1xuICB2YXIgZGVjb2RlQXVkaW9EYXRhID0gZnVuY3Rpb24oYXJyYXlidWZmZXIsIHNlbGYpIHtcbiAgICAvLyBGaXJlIGEgbG9hZCBlcnJvciBpZiBzb21ldGhpbmcgYnJva2UuXG4gICAgdmFyIGVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRGVjb2RpbmcgYXVkaW8gZGF0YSBmYWlsZWQuJyk7XG4gICAgfTtcblxuICAgIC8vIExvYWQgdGhlIHNvdW5kIG9uIHN1Y2Nlc3MuXG4gICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgIGlmIChidWZmZXIgJiYgc2VsZi5fc291bmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2FjaGVbc2VsZi5fc3JjXSA9IGJ1ZmZlcjtcbiAgICAgICAgbG9hZFNvdW5kKHNlbGYsIGJ1ZmZlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvcigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBEZWNvZGUgdGhlIGJ1ZmZlciBpbnRvIGFuIGF1ZGlvIHNvdXJjZS5cbiAgICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlidWZmZXIpLnRoZW4oc3VjY2VzcykuY2F0Y2goZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlciwgc3VjY2VzcywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTb3VuZCBpcyBub3cgbG9hZGVkLCBzbyBmaW5pc2ggc2V0dGluZyBldmVyeXRoaW5nIHVwIGFuZCBmaXJlIHRoZSBsb2FkZWQgZXZlbnQuXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcbiAgICogQHBhcmFtICB7T2JqZWN0fSBidWZmZXIgVGhlIGRlY29kZWQgYnVmZmVyIHNvdW5kIHNvdXJjZS5cbiAgICovXG4gIHZhciBsb2FkU291bmQgPSBmdW5jdGlvbihzZWxmLCBidWZmZXIpIHtcbiAgICAvLyBTZXQgdGhlIGR1cmF0aW9uLlxuICAgIGlmIChidWZmZXIgJiYgIXNlbGYuX2R1cmF0aW9uKSB7XG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGJ1ZmZlci5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXG4gICAgaWYgKE9iamVjdC5rZXlzKHNlbGYuX3Nwcml0ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLl9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgc2VsZi5fZHVyYXRpb24gKiAxMDAwXX07XG4gICAgfVxuXG4gICAgLy8gRmlyZSB0aGUgbG9hZGVkIGV2ZW50LlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkJyk7XG4gICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBhdWRpbyBjb250ZXh0IHdoZW4gYXZhaWxhYmxlLCBvciBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8gbW9kZS5cbiAgICovXG4gIHZhciBzZXR1cEF1ZGlvQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIElmIHdlIGhhdmUgYWxyZWFkeSBkZXRlY3RlZCB0aGF0IFdlYiBBdWRpbyBpc24ndCBzdXBwb3J0ZWQsIGRvbid0IHJ1biB0aGlzIHN0ZXAgYWdhaW4uXG4gICAgaWYgKCFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8gYW5kIHNldHVwIHRoZSBBdWRpb0NvbnRleHQgaWYgd2UgYXJlLlxuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdlYmtpdEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyB3ZWJraXRBdWRpb0NvbnRleHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBhdWRpbyBjb250ZXh0IGNyZWF0aW9uIHN0aWxsIGZhaWxlZCwgc2V0IHVzaW5nIHdlYiBhdWRpbyB0byBmYWxzZS5cbiAgICBpZiAoIUhvd2xlci5jdHgpIHtcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYSB3ZWJ2aWV3IGlzIGJlaW5nIHVzZWQgb24gaU9TOCBvciBlYXJsaWVyIChyYXRoZXIgdGhhbiB0aGUgYnJvd3NlcikuXG4gICAgLy8gSWYgaXQgaXMsIGRpc2FibGUgV2ViIEF1ZGlvIGFzIGl0IGNhdXNlcyBjcmFzaGluZy5cbiAgICB2YXIgaU9TID0gKC9pUChob25lfG9kfGFkKS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5wbGF0Zm9ybSkpO1xuICAgIHZhciBhcHBWZXJzaW9uID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKV8/KFxcZCspPy8pO1xuICAgIHZhciB2ZXJzaW9uID0gYXBwVmVyc2lvbiA/IHBhcnNlSW50KGFwcFZlcnNpb25bMV0sIDEwKSA6IG51bGw7XG4gICAgaWYgKGlPUyAmJiB2ZXJzaW9uICYmIHZlcnNpb24gPCA5KSB7XG4gICAgICB2YXIgc2FmYXJpID0gL3NhZmFyaS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAoSG93bGVyLl9uYXZpZ2F0b3IgJiYgIXNhZmFyaSkge1xuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhbmQgZXhwb3NlIHRoZSBtYXN0ZXIgR2Fpbk5vZGUgd2hlbiB1c2luZyBXZWIgQXVkaW8gKHVzZWZ1bCBmb3IgcGx1Z2lucyBvciBhZHZhbmNlZCB1c2FnZSkuXG4gICAgaWYgKEhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICBIb3dsZXIubWFzdGVyR2FpbiA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVHYWluID09PSAndW5kZWZpbmVkJykgPyBIb3dsZXIuY3R4LmNyZWF0ZUdhaW5Ob2RlKCkgOiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4oKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoSG93bGVyLl9tdXRlZCA/IDAgOiBIb3dsZXIuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICBIb3dsZXIubWFzdGVyR2Fpbi5jb25uZWN0KEhvd2xlci5jdHguZGVzdGluYXRpb24pO1xuICAgIH1cblxuICAgIC8vIFJlLXJ1biB0aGUgc2V0dXAgb24gSG93bGVyLlxuICAgIEhvd2xlci5fc2V0dXAoKTtcbiAgfTtcblxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQU1EIChBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24pIGxpYnJhcmllcyBzdWNoIGFzIHJlcXVpcmUuanMuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgSG93bGVyOiBIb3dsZXIsXG4gICAgICAgIEhvd2w6IEhvd2xcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQ29tbW9uSlMgbGlicmFyaWVzIHN1Y2ggYXMgYnJvd3NlcmlmeS5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGV4cG9ydHMuSG93bGVyID0gSG93bGVyO1xuICAgIGV4cG9ydHMuSG93bCA9IEhvd2w7XG4gIH1cblxuICAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBnbG9iYWwuSG93bGVyR2xvYmFsID0gSG93bGVyR2xvYmFsO1xuICAgIGdsb2JhbC5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZ2xvYmFsLkhvd2wgPSBIb3dsO1xuICAgIGdsb2JhbC5Tb3VuZCA9IFNvdW5kO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7ICAvLyBEZWZpbmUgZ2xvYmFsbHkgaW4gY2FzZSBBTUQgaXMgbm90IGF2YWlsYWJsZSBvciB1bnVzZWQuXG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfVxufSkoKTtcblxuXG4vKiFcbiAqICBTcGF0aWFsIFBsdWdpbiAtIEFkZHMgc3VwcG9ydCBmb3Igc3RlcmVvIGFuZCAzRCBhdWRpbyB3aGVyZSBXZWIgQXVkaW8gaXMgc3VwcG9ydGVkLlxuICogIFxuICogIGhvd2xlci5qcyB2Mi4yLjNcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU2V0dXAgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9wb3MgPSBbMCwgMCwgMF07XG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuX29yaWVudGF0aW9uID0gWzAsIDAsIC0xLCAwLCAxLCAwXTtcblxuICAvKiogR2xvYmFsIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBzdGVyZW8gcGFubmluZyBwb3NpdGlvbiBvZiBhbGwgY3VycmVudCBIb3dscy5cbiAgICogRnV0dXJlIEhvd2xzIHdpbGwgbm90IHVzZSB0aGlzIHZhbHVlIHVubGVzcyBleHBsaWNpdGx5IHNldC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHJldHVybiB7SG93bGVyL051bWJlcn0gICAgIFNlbGYgb3IgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHVwZGF0ZSB0aGVpciBzdGVyZW8gcGFubmluZy5cbiAgICBmb3IgKHZhciBpPXNlbGYuX2hvd2xzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgIHNlbGYuX2hvd2xzW2ldLnN0ZXJlbyhwYW4pO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIgaW4gM0QgY2FydGVzaWFuIHNwYWNlLiBTb3VuZHMgdXNpbmdcbiAgICogM0QgcG9zaXRpb24gd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgbGlzdGVuZXIncyBwb3NpdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4IFRoZSB4LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5IFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6IFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgIFNlbGYgb3IgY3VycmVudCBsaXN0ZW5lciBwb3NpdGlvbi5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9wb3NbMl0gOiB6O1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xuXG4gICAgICBpZiAodHlwZW9mIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25YLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWS5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblouc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldFBvc2l0aW9uKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2VsZi5fcG9zO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gc3BhY2UuXG4gICAqIEEgZnJvbnQgYW5kIHVwIHZlY3RvciBtdXN0IGJlIHByb3ZpZGVkLiBUaGUgZnJvbnQgaXMgdGhlIGRpcmVjdGlvbiB0aGVcbiAgICogZmFjZSBvZiB0aGUgbGlzdGVuZXIgaXMgcG9pbnRpbmcsIGFuZCB1cCBpcyB0aGUgZGlyZWN0aW9uIHRoZSB0b3Agb2YgdGhlXG4gICAqIGxpc3RlbmVyIGlzIHBvaW50aW5nLiBUaHVzLCB0aGVzZSB2YWx1ZXMgYXJlIGV4cGVjdGVkIHRvIGJlIGF0IHJpZ2h0IGFuZ2xlc1xuICAgKiBmcm9tIGVhY2ggb3RoZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogICBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geFVwIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlVcCBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6VXAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBvcmllbnRhdGlvbiB2ZWN0b3JzLlxuICAgKi9cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHZhciBvciA9IHNlbGYuX29yaWVudGF0aW9uO1xuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IG9yWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBvclsyXSA6IHo7XG4gICAgeFVwID0gKHR5cGVvZiB4VXAgIT09ICdudW1iZXInKSA/IG9yWzNdIDogeFVwO1xuICAgIHlVcCA9ICh0eXBlb2YgeVVwICE9PSAnbnVtYmVyJykgPyBvcls0XSA6IHlVcDtcbiAgICB6VXAgPSAodHlwZW9mIHpVcCAhPT0gJ251bWJlcicpID8gb3JbNV0gOiB6VXA7XG5cbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6LCB4VXAsIHlVcCwgelVwXTtcblxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFguc2V0VGFyZ2V0QXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRZLnNldFRhcmdldEF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWi5zZXRUYXJnZXRBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBYLnNldFRhcmdldEF0VGltZSh4VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWS5zZXRUYXJnZXRBdFRpbWUoeVVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFouc2V0VGFyZ2V0QXRUaW1lKHpVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqIEdyb3VwIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEFkZCBuZXcgcHJvcGVydGllcyB0byB0aGUgY29yZSBpbml0LlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgaW5pdCBtZXRob2QuXG4gICAqIEByZXR1cm4ge0hvd2x9XG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IG8ub3JpZW50YXRpb24gfHwgWzEsIDAsIDBdO1xuICAgICAgc2VsZi5fc3RlcmVvID0gby5zdGVyZW8gfHwgbnVsbDtcbiAgICAgIHNlbGYuX3BvcyA9IG8ucG9zIHx8IG51bGw7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IDM2MCxcbiAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiAzNjAsXG4gICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogMCxcbiAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiAnaW52ZXJzZScsXG4gICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogMTAwMDAsXG4gICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogJ0hSVEYnLFxuICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IDEsXG4gICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogMVxuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgc2VsZi5fb25zdGVyZW8gPSBvLm9uc3RlcmVvID8gW3tmbjogby5vbnN0ZXJlb31dIDogW107XG4gICAgICBzZWxmLl9vbnBvcyA9IG8ub25wb3MgPyBbe2ZuOiBvLm9ucG9zfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ub3JpZW50YXRpb24gPSBvLm9ub3JpZW50YXRpb24gPyBbe2ZuOiBvLm9ub3JpZW50YXRpb259XSA6IFtdO1xuXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUncyBpbml0IGZ1bmN0aW9uLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG8pO1xuICAgIH07XG4gIH0pKEhvd2wucHJvdG90eXBlLmluaXQpO1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBzdGVyZW8gcGFubmluZyBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGFsbCBpbiB0aGUgZ3JvdXAuXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuICBBIHZhbHVlIG9mIC0xLjAgaXMgYWxsIHRoZSB3YXkgbGVmdCBhbmQgMS4wIGlzIGFsbCB0aGUgd2F5IHJpZ2h0LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cbiAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBzdGVyZW8gcGFuIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdzdGVyZW8nLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RlcmVvKHBhbiwgaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIFBhbm5lclN0ZXJlb05vZGUgc3VwcG9ydCBhbmQgZmFsbGJhY2sgdG8gUGFubmVyTm9kZSBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuICAgIHZhciBwYW5uZXJUeXBlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZVN0ZXJlb1Bhbm5lciA9PT0gJ3VuZGVmaW5lZCcpID8gJ3NwYXRpYWwnIDogJ3N0ZXJlbyc7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBJRCBpcyBwYXNzZWQuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5fc3RlcmVvID0gcGFuO1xuICAgICAgICBzZWxmLl9wb3MgPSBbcGFuLCAwLCAwXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9zdGVyZW87XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzdHJlbyBwYW5uaW5nIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgc291bmQuX3N0ZXJlbyA9IHBhbjtcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3BhbiwgMCwgMF07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBmYWxsaW5nIGJhY2ssIG1ha2Ugc3VyZSB0aGUgcGFubmluZ01vZGVsIGlzIGVxdWFscG93ZXIuXG4gICAgICAgICAgICBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgPSAnZXF1YWxwb3dlcic7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCAhc291bmQuX3Bhbm5lci5wYW4pIHtcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsIHBhbm5lclR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFubmVyVHlwZSA9PT0gJ3NwYXRpYWwnKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUocGFuLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHBhbiwgMCwgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnc3RlcmVvJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3N0ZXJlbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSAzRCBzcGF0aWFsIHBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3IgZ3JvdXAgcmVsYXRpdmUgdG8gdGhlIGdsb2JhbCBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIHBvc2l0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBvc2l0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdwb3MnLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYucG9zKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyAwIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyAtMC41IDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBwb3NpdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9wb3M7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIHBvc2l0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCBzb3VuZC5fcGFubmVyLnBhbikge1xuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgncG9zJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3BvcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGF1ZGlvIHNvdXJjZSBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIGNvb3JkaW5hdGVcbiAgICogc3BhY2UuIERlcGVuZGluZyBvbiBob3cgZGlyZWN0aW9uIHRoZSBzb3VuZCBpcywgYmFzZWQgb24gdGhlIGBjb25lYCBhdHRyaWJ1dGVzLFxuICAgKiBhIHNvdW5kIHBvaW50aW5nIGF3YXkgZnJvbSB0aGUgbGlzdGVuZXIgY2FuIGJlIHF1aWV0IG9yIHNpbGVudC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIG9yaWVudGF0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIGlkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugb3JpZW50YXRpb24gd2hlbiBjYXBhYmxlLlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICBldmVudDogJ29yaWVudGF0aW9uJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLm9yaWVudGF0aW9uKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9vcmllbnRhdGlvblsxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMl0gOiB6O1xuXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBJRCBpcyBwYXNzZWQuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cbiAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fb3JpZW50YXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIG9yaWVudGF0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6XTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cbiAgICAgICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3BvcyA9IHNlbGYuX3BvcyB8fCBbMCwgMCwgLTAuNV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnb3JpZW50YXRpb24nLCBzb3VuZC5faWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzb3VuZC5fb3JpZW50YXRpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgcGFubmVyIG5vZGUncyBhdHRyaWJ1dGVzIGZvciBhIHNvdW5kIG9yIGdyb3VwIG9mIHNvdW5kcy5cbiAgICogVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbCB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAqICAgcGFubmVyQXR0cigpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3MgdmFsdWVzLlxuICAgKiAgIHBhbm5lckF0dHIoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgdmFsdWVzLlxuICAgKiAgIHBhbm5lckF0dHIobykgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICogICBwYW5uZXJBdHRyKG8sIGlkKSAtPiBTZXQncyB0aGUgdmFsdWVzIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICpcbiAgICogICBBdHRyaWJ1dGVzOlxuICAgKiAgICAgY29uZUlubmVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICBpbnNpZGUgb2Ygd2hpY2ggdGhlcmUgd2lsbCBiZSBubyB2b2x1bWUgcmVkdWN0aW9uLlxuICAgKiAgICAgY29uZU91dGVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICBvdXRzaWRlIG9mIHdoaWNoIHRoZSB2b2x1bWUgd2lsbCBiZSByZWR1Y2VkIHRvIGEgY29uc3RhbnQgdmFsdWUgb2YgYGNvbmVPdXRlckdhaW5gLlxuICAgKiAgICAgY29uZU91dGVyR2FpbiAtICgwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIHRoZSBnYWluIG91dHNpZGUgb2YgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgYGNvbmVPdXRlckFuZ2xlYC4gSXQgaXMgYSBsaW5lYXIgdmFsdWUgaW4gdGhlIHJhbmdlIGBbMCwgMV1gLlxuICAgKiAgICAgZGlzdGFuY2VNb2RlbCAtICgnaW52ZXJzZScgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyBhbGdvcml0aG0gdXNlZCB0byByZWR1Y2Ugdm9sdW1lIGFzIGF1ZGlvIG1vdmVzIGF3YXkgZnJvbVxuICAgKiAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLiBDYW4gYmUgYGxpbmVhcmAsIGBpbnZlcnNlYCBvciBgZXhwb25lbnRpYWwuXG4gICAqICAgICBtYXhEaXN0YW5jZSAtICgxMDAwMCBieSBkZWZhdWx0KSBUaGUgbWF4aW11bSBkaXN0YW5jZSBiZXR3ZWVuIHNvdXJjZSBhbmQgbGlzdGVuZXIsIGFmdGVyIHdoaWNoIHRoZSB2b2x1bWVcbiAgICogICAgICAgICAgICAgICAgICAgd2lsbCBub3QgYmUgcmVkdWNlZCBhbnkgZnVydGhlci5cbiAgICogICAgIHJlZkRpc3RhbmNlIC0gKDEgYnkgZGVmYXVsdCkgQSByZWZlcmVuY2UgZGlzdGFuY2UgZm9yIHJlZHVjaW5nIHZvbHVtZSBhcyBzb3VyY2UgbW92ZXMgZnVydGhlciBmcm9tIHRoZSBsaXN0ZW5lci5cbiAgICogICAgICAgICAgICAgICAgICAgVGhpcyBpcyBzaW1wbHkgYSB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGhhcyBhIGRpZmZlcmVudCBlZmZlY3QgZGVwZW5kaW5nIG9uIHdoaWNoIG1vZGVsXG4gICAqICAgICAgICAgICAgICAgICAgIGlzIHVzZWQgYW5kIHRoZSBzY2FsZSBvZiB5b3VyIGNvb3JkaW5hdGVzLiBHZW5lcmFsbHksIHZvbHVtZSB3aWxsIGJlIGVxdWFsIHRvIDEgYXQgdGhpcyBkaXN0YW5jZS5cbiAgICogICAgIHJvbGxvZmZGYWN0b3IgLSAoMSBieSBkZWZhdWx0KSBIb3cgcXVpY2tseSB0aGUgdm9sdW1lIHJlZHVjZXMgYXMgc291cmNlIG1vdmVzIGZyb20gbGlzdGVuZXIuIFRoaXMgaXMgc2ltcGx5IGFcbiAgICogICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGNhbiBiZSBpbiB0aGUgcmFuZ2Ugb2YgYFswLCAxXWAgd2l0aCBgbGluZWFyYCBhbmQgYFswLCBcdTIyMUVdYFxuICAgKiAgICAgICAgICAgICAgICAgICAgIHdpdGggYGludmVyc2VgIGFuZCBgZXhwb25lbnRpYWxgLlxuICAgKiAgICAgcGFubmluZ01vZGVsIC0gKCdIUlRGJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIHdoaWNoIHNwYXRpYWxpemF0aW9uIGFsZ29yaXRobSBpcyB1c2VkIHRvIHBvc2l0aW9uIGF1ZGlvLlxuICAgKiAgICAgICAgICAgICAgICAgICAgIENhbiBiZSBgSFJURmAgb3IgYGVxdWFscG93ZXJgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtIb3dsL09iamVjdH0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgcGFubmVyIGF0dHJpYnV0ZXMuXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wYW5uZXJBdHRyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBvLCBpZCwgc291bmQ7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gICAgICByZXR1cm4gc2VsZi5fcGFubmVyQXR0cjtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG8gPSBhcmdzWzBdO1xuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdSdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmICghby5wYW5uZXJBdHRyKSB7XG4gICAgICAgICAgICBvLnBhbm5lckF0dHIgPSB7XG4gICAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiBvLmNvbmVJbm5lckFuZ2xlLFxuICAgICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogby5jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICAgICAgY29uZU91dGVyR2Fpbjogby5jb25lT3V0ZXJHYWluLFxuICAgICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiBvLmRpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICAgIG1heERpc3RhbmNlOiBvLm1heERpc3RhbmNlLFxuICAgICAgICAgICAgICByZWZEaXN0YW5jZTogby5yZWZEaXN0YW5jZSxcbiAgICAgICAgICAgICAgcm9sbG9mZkZhY3Rvcjogby5yb2xsb2ZmRmFjdG9yLFxuICAgICAgICAgICAgICBwYW5uaW5nTW9kZWw6IG8ucGFubmluZ01vZGVsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XG4gICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgOiBzZWxmLl9jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSA6IHNlbGYuX2NvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluIDogc2VsZi5fY29uZU91dGVyR2FpbixcbiAgICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCA6IHNlbGYuX2Rpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgOiBzZWxmLl9tYXhEaXN0YW5jZSxcbiAgICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSA6IHNlbGYuX3JlZkRpc3RhbmNlLFxuICAgICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yIDogc2VsZi5fcm9sbG9mZkZhY3RvcixcbiAgICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA6IHNlbGYuX3Bhbm5pbmdNb2RlbFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9wYW5uZXJBdHRyIDogc2VsZi5fcGFubmVyQXR0cjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICBvID0gYXJnc1swXTtcbiAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWVzIG9mIHRoZSBzcGVjaWZpZWQgc291bmRzLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIC8vIE1lcmdlIHRoZSBuZXcgdmFsdWVzIGludG8gdGhlIHNvdW5kLlxuICAgICAgICB2YXIgcGEgPSBzb3VuZC5fcGFubmVyQXR0cjtcbiAgICAgICAgcGEgPSB7XG4gICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiBwYS5jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IHBhLmNvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogcGEuY29uZU91dGVyR2FpbixcbiAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6IHBhLmRpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiBwYS5tYXhEaXN0YW5jZSxcbiAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IHBhLnJlZkRpc3RhbmNlLFxuICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogcGEucm9sbG9mZkZhY3RvcixcbiAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6IHBhLnBhbm5pbmdNb2RlbFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFubmVyIHZhbHVlcyBvciBjcmVhdGUgYSBuZXcgcGFubmVyIGlmIG5vbmUgZXhpc3RzLlxuICAgICAgICB2YXIgcGFubmVyID0gc291bmQuX3Bhbm5lcjtcbiAgICAgICAgaWYgKHBhbm5lcikge1xuICAgICAgICAgIHBhbm5lci5jb25lSW5uZXJBbmdsZSA9IHBhLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgICAgIHBhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHBhLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgICAgIHBhbm5lci5jb25lT3V0ZXJHYWluID0gcGEuY29uZU91dGVyR2FpbjtcbiAgICAgICAgICBwYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHBhLmRpc3RhbmNlTW9kZWw7XG4gICAgICAgICAgcGFubmVyLm1heERpc3RhbmNlID0gcGEubWF4RGlzdGFuY2U7XG4gICAgICAgICAgcGFubmVyLnJlZkRpc3RhbmNlID0gcGEucmVmRGlzdGFuY2U7XG4gICAgICAgICAgcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBwYS5yb2xsb2ZmRmFjdG9yO1xuICAgICAgICAgIHBhbm5lci5wYW5uaW5nTW9kZWwgPSBwYS5wYW5uaW5nTW9kZWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwb3NpdGlvbiB0byBzZXR1cCB0aGUgbm9kZSB3aXRoLlxuICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xuICAgICAgICAgICAgc291bmQuX3BvcyA9IHNlbGYuX3BvcyB8fCBbMCwgMCwgLTAuNV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhbm5lciBub2RlLlxuICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqIFNpbmdsZSBTb3VuZCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgU291bmQgaW5pdC5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIFNvdW5kIGluaXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICovXG4gIFNvdW5kLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcblxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlsaXphdGlvbiB3aXRoIGhvd2xlci5qcyBjb3JlIFNvdW5kJ3MgaW5pdCBmdW5jdGlvbi5cbiAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuXG4gICAgICAvLyBJZiBhIHN0ZXJlbyBvciBwb3NpdGlvbiB3YXMgc3BlY2lmaWVkLCBzZXQgaXQgdXAuXG4gICAgICBpZiAoc2VsZi5fc3RlcmVvKSB7XG4gICAgICAgIHBhcmVudC5zdGVyZW8oc2VsZi5fc3RlcmVvKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcG9zKSB7XG4gICAgICAgIHBhcmVudC5wb3Moc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSwgc2VsZi5faWQpO1xuICAgICAgfVxuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5pbml0KTtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIFNvdW5kLnJlc2V0IG1ldGhvZCB0byBjbGVhbiB1cCBwcm9wZXJ0aWVzIGZyb20gdGhlIHNwYXRpYWwgcGx1Z2luLlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIFNvdW5kIHJlc2V0IG1ldGhvZC5cbiAgICogQHJldHVybiB7U291bmR9XG4gICAqL1xuICBTb3VuZC5wcm90b3R5cGUucmVzZXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUmVzZXQgYWxsIHNwYXRpYWwgcGx1Z2luIHByb3BlcnRpZXMgb24gdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gcGFyZW50Ll9vcmllbnRhdGlvbjtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhcmVudC5fc3RlcmVvO1xuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xuXG4gICAgICAvLyBJZiBhIHN0ZXJlbyBvciBwb3NpdGlvbiB3YXMgc3BlY2lmaWVkLCBzZXQgaXQgdXAuXG4gICAgICBpZiAoc2VsZi5fc3RlcmVvKSB7XG4gICAgICAgIHBhcmVudC5zdGVyZW8oc2VsZi5fc3RlcmVvKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcG9zKSB7XG4gICAgICAgIHBhcmVudC5wb3Moc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSwgc2VsZi5faWQpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wYW5uZXIpIHtcbiAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgcGFubmVyLlxuICAgICAgICBzZWxmLl9wYW5uZXIuZGlzY29ubmVjdCgwKTtcbiAgICAgICAgc2VsZi5fcGFubmVyID0gdW5kZWZpbmVkO1xuICAgICAgICBwYXJlbnQuX3JlZnJlc2hCdWZmZXIoc2VsZik7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbXBsZXRlIHJlc2V0dGluZyBvZiB0aGUgc291bmQuXG4gICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgfSkoU291bmQucHJvdG90eXBlLnJlc2V0KTtcblxuICAvKiogSGVscGVyIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZSBhbmQgc2F2ZSBpdCBvbiB0aGUgc291bmQuXG4gICAqIEBwYXJhbSAge1NvdW5kfSBzb3VuZCBTcGVjaWZpYyBzb3VuZCB0byBzZXR1cCBwYW5uaW5nIG9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIG9mIHBhbm5lciB0byBjcmVhdGU6ICdzdGVyZW8nIG9yICdzcGF0aWFsJy5cbiAgICovXG4gIHZhciBzZXR1cFBhbm5lciA9IGZ1bmN0aW9uKHNvdW5kLCB0eXBlKSB7XG4gICAgdHlwZSA9IHR5cGUgfHwgJ3NwYXRpYWwnO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBuZXcgcGFubmVyIG5vZGUuXG4gICAgaWYgKHR5cGUgPT09ICdzcGF0aWFsJykge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVJbm5lckFuZ2xlID0gc291bmQuX3Bhbm5lckF0dHIuY29uZUlubmVyQW5nbGU7XG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVPdXRlckFuZ2xlID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyQW5nbGU7XG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVPdXRlckdhaW4gPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lT3V0ZXJHYWluO1xuICAgICAgc291bmQuX3Bhbm5lci5kaXN0YW5jZU1vZGVsID0gc291bmQuX3Bhbm5lckF0dHIuZGlzdGFuY2VNb2RlbDtcbiAgICAgIHNvdW5kLl9wYW5uZXIubWF4RGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5tYXhEaXN0YW5jZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucmVmRGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5yZWZEaXN0YW5jZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucm9sbG9mZkZhY3RvciA9IHNvdW5kLl9wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3I7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbm5pbmdNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbDtcblxuICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1swXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzJdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oc291bmQuX3Bvc1swXSwgc291bmQuX3Bvc1sxXSwgc291bmQuX3Bvc1syXSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblswXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblsxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblsyXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHNvdW5kLl9vcmllbnRhdGlvblswXSwgc291bmQuX29yaWVudGF0aW9uWzFdLCBzb3VuZC5fb3JpZW50YXRpb25bMl0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzb3VuZC5fcGFubmVyID0gSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIoKTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9zdGVyZW8sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgIH1cblxuICAgIHNvdW5kLl9wYW5uZXIuY29ubmVjdChzb3VuZC5fbm9kZSk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGNvbm5lY3Rpb25zLlxuICAgIGlmICghc291bmQuX3BhdXNlZCkge1xuICAgICAgc291bmQuX3BhcmVudC5wYXVzZShzb3VuZC5faWQsIHRydWUpLnBsYXkoc291bmQuX2lkLCB0cnVlKTtcbiAgICB9XG4gIH07XG59KSgpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMzI3NjcgLyBpbnZTaXplIDogMDtcbiAgICB9XG5cbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xufVxuXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgaSwgbGFzdDtcblxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcblxuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGFnYWluO1xuICAgIGRvIHtcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcblxuICAgIHJldHVybiBlbmQ7XG59XG5cbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xuXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgc3RvcCA9IGVhcixcbiAgICAgICAgcHJldiwgbmV4dDtcblxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XG5cbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSB8IDApO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSB8IDApO1xuXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XG5cbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRleCBsZWFkcyB0byBsZXNzIHNsaXZlciB0cmlhbmdsZXNcbiAgICAgICAgICAgIGVhciA9IG5leHQubmV4dDtcbiAgICAgICAgICAgIHN0b3AgPSBuZXh0Lm5leHQ7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWFyID0gbmV4dDtcblxuICAgICAgICAvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFyc1xuICAgICAgICBpZiAoZWFyID09PSBzdG9wKSB7XG4gICAgICAgICAgICAvLyB0cnkgZmlsdGVyaW5nIHBvaW50cyBhbmQgc2xpY2luZyBhZ2FpblxuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBlYXIgPSBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDIpO1xuXG4gICAgICAgICAgICAvLyBhcyBhIGxhc3QgcmVzb3J0LCB0cnkgc3BsaXR0aW5nIHRoZSByZW1haW5pbmcgcG9seWdvbiBpbnRvIHR3b1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRFYXJjdXQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBjaGVjayB3aGV0aGVyIGEgcG9seWdvbiBub2RlIGZvcm1zIGEgdmFsaWQgZWFyIHdpdGggYWRqYWNlbnQgbm9kZXNcbmZ1bmN0aW9uIGlzRWFyKGVhcikge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIG5vdyBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBvdGhlciBwb2ludHMgaW5zaWRlIHRoZSBwb3RlbnRpYWwgZWFyXG4gICAgdmFyIGF4ID0gYS54LCBieCA9IGIueCwgY3ggPSBjLngsIGF5ID0gYS55LCBieSA9IGIueSwgY3kgPSBjLnk7XG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciB4MCA9IGF4IDwgYnggPyAoYXggPCBjeCA/IGF4IDogY3gpIDogKGJ4IDwgY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTAgPSBheSA8IGJ5ID8gKGF5IDwgY3kgPyBheSA6IGN5KSA6IChieSA8IGN5ID8gYnkgOiBjeSksXG4gICAgICAgIHgxID0gYXggPiBieCA/IChheCA+IGN4ID8gYXggOiBjeCkgOiAoYnggPiBjeCA/IGJ4IDogY3gpLFxuICAgICAgICB5MSA9IGF5ID4gYnkgPyAoYXkgPiBjeSA/IGF5IDogY3kpIDogKGJ5ID4gY3kgPyBieSA6IGN5KTtcblxuICAgIHZhciBwID0gYy5uZXh0O1xuICAgIHdoaWxlIChwICE9PSBhKSB7XG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgdmFyIGF4ID0gYS54LCBieCA9IGIueCwgY3ggPSBjLngsIGF5ID0gYS55LCBieSA9IGIueSwgY3kgPSBjLnk7XG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciB4MCA9IGF4IDwgYnggPyAoYXggPCBjeCA/IGF4IDogY3gpIDogKGJ4IDwgY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTAgPSBheSA8IGJ5ID8gKGF5IDwgY3kgPyBheSA6IGN5KSA6IChieSA8IGN5ID8gYnkgOiBjeSksXG4gICAgICAgIHgxID0gYXggPiBieCA/IChheCA+IGN4ID8gYXggOiBjeCkgOiAoYnggPiBjeCA/IGJ4IDogY3gpLFxuICAgICAgICB5MSA9IGF5ID4gYnkgPyAoYXkgPiBjeSA/IGF5IDogY3kpIDogKGJ5ID4gY3kgPyBieSA6IGN5KTtcblxuICAgIC8vIHotb3JkZXIgcmFuZ2UgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlIGJib3g7XG4gICAgdmFyIG1pblogPSB6T3JkZXIoeDAsIHkwLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSxcbiAgICAgICAgbWF4WiA9IHpPcmRlcih4MSwgeTEsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHAgPSBlYXIucHJldlosXG4gICAgICAgIG4gPSBlYXIubmV4dFo7XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBpbiBib3RoIGRpcmVjdGlvbnNcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWiAmJiBuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiYgcCAhPT0gYSAmJiBwICE9PSBjICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4ueCA+PSB4MCAmJiBuLnggPD0geDEgJiYgbi55ID49IHkwICYmIG4ueSA8PSB5MSAmJiBuICE9PSBhICYmIG4gIT09IGMgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBuLngsIG4ueSkgJiYgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiYgcCAhPT0gYSAmJiBwICE9PSBjICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBpbmNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAobiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAobi54ID49IHgwICYmIG4ueCA8PSB4MSAmJiBuLnkgPj0geTAgJiYgbi55IDw9IHkxICYmIG4gIT09IGEgJiYgbiAhPT0gYyAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIG4ueCwgbi55KSAmJiBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSB8IDApO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYi5pIC8gZGltIHwgMCk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAwKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRlck5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xufVxuXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIGJyaWRnZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKCFicmlkZ2UpIHtcbiAgICAgICAgcmV0dXJuIG91dGVyTm9kZTtcbiAgICB9XG5cbiAgICB2YXIgYnJpZGdlUmV2ZXJzZSA9IHNwbGl0UG9seWdvbihicmlkZ2UsIGhvbGUpO1xuXG4gICAgLy8gZmlsdGVyIGNvbGxpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgZmlsdGVyUG9pbnRzKGJyaWRnZVJldmVyc2UsIGJyaWRnZVJldmVyc2UubmV4dCk7XG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhicmlkZ2UsIGJyaWRnZS5uZXh0KTtcbn1cblxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXG4gICAgICAgIGh4ID0gaG9sZS54LFxuICAgICAgICBoeSA9IGhvbGUueSxcbiAgICAgICAgcXggPSAtSW5maW5pdHksXG4gICAgICAgIG07XG5cbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xuICAgICAgICAgICAgICAgIHF4ID0geDtcbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBvdXRlck5vZGUpO1xuXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAobG9jYWxseUluc2lkZShwLCBob2xlKSAmJlxuICAgICAgICAgICAgICAgICh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIChwLnggPiBtLnggfHwgKHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RvcCk7XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gd2hldGhlciBzZWN0b3IgaW4gdmVydGV4IG0gY29udGFpbnMgc2VjdG9yIGluIHZlcnRleCBwIGluIHRoZSBzYW1lIGNvb3JkaW5hdGVzXG5mdW5jdGlvbiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSB7XG4gICAgcmV0dXJuIGFyZWEobS5wcmV2LCBtLCBwLnByZXYpIDwgMCAmJiBhcmVhKHAubmV4dCwgbSwgbS5uZXh0KSA8IDA7XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gMCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gKHggLSBtaW5YKSAqIGludlNpemUgfCAwO1xuICAgIHkgPSAoeSAtIG1pblkpICogaW52U2l6ZSB8IDA7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpID49IChheCAtIHB4KSAqIChjeSAtIHB5KSAmJlxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgPj0gKGJ4IC0gcHgpICogKGF5IC0gcHkpICYmXG4gICAgICAgICAgIChieCAtIHB4KSAqIChjeSAtIHB5KSA+PSAoY3ggLSBweCkgKiAoYnkgLSBweSk7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xuICAgICAgICAgICAobG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKSAmJiAvLyBsb2NhbGx5IHZpc2libGVcbiAgICAgICAgICAgIChhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9yc1xuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2Vcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xuICAgIHZhciBvMiA9IHNpZ24oYXJlYShwMSwgcTEsIHEyKSk7XG4gICAgdmFyIG8zID0gc2lnbihhcmVhKHAyLCBxMiwgcDEpKTtcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xuXG4gICAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2VcblxuICAgIGlmIChvMSA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHAyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHAyIGFyZSBjb2xsaW5lYXIgYW5kIHAyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxuICAgIGlmIChvNCA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHExLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHExIGFyZSBjb2xsaW5lYXIgYW5kIHExIGxpZXMgb24gcDJxMlxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxuZnVuY3Rpb24gb25TZWdtZW50KHAsIHEsIHIpIHtcbiAgICByZXR1cm4gcS54IDw9IE1hdGgubWF4KHAueCwgci54KSAmJiBxLnggPj0gTWF0aC5taW4ocC54LCByLngpICYmIHEueSA8PSBNYXRoLm1heChwLnksIHIueSkgJiYgcS55ID49IE1hdGgubWluKHAueSwgci55KTtcbn1cblxuZnVuY3Rpb24gc2lnbihudW0pIHtcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IDA7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwgImV4cG9ydCAqIGZyb20gJy4vOHRod2FsbC1jYW1lcmEuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9hbmNob3IuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9jdXJzb3ItdGFyZ2V0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vY3Vyc29yLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vZGVidWctb2JqZWN0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vZGV2aWNlLW9yaWVudGF0aW9uLWxvb2suanMnO1xuZXhwb3J0ICogZnJvbSAnLi9maW5nZXItY3Vyc29yLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vZml4ZWQtZm92ZWF0aW9uLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vaGFuZC10cmFja2luZy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2hpdC10ZXN0LWxvY2F0aW9uLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vaG93bGVyLWF1ZGlvLWxpc3RlbmVyLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vaG93bGVyLWF1ZGlvLXNvdXJjZS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2ltYWdlLXRleHR1cmUuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9tb3VzZS1sb29rLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcGxheWVyLWhlaWdodC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3RhcmdldC1mcmFtZXJhdGUuanMnO1xuZXhwb3J0ICogZnJvbSAnLi90ZWxlcG9ydC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3RyYWlsLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdHdvLWpvaW50LWlrLXNvbHZlci5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3ZpZGVvLXRleHR1cmUuanMnO1xuZXhwb3J0ICogZnJvbSAnLi92ci1tb2RlLWFjdGl2ZS1zd2l0Y2guanMnO1xuZXhwb3J0ICogZnJvbSAnLi9wbGFuZS1kZXRlY3Rpb24uanMnO1xuZXhwb3J0ICogZnJvbSAnLi92cm0uanMnO1xuZXhwb3J0ICogZnJvbSAnLi93YXNkLWNvbnRyb2xzLmpzJztcbiIsICIvKipcbiAqIENvbXBvbmVudCBwcm9wZXJ0eSB0eXBlLlxuICovXG5leHBvcnQgdmFyIFR5cGU7XG4oZnVuY3Rpb24gKFR5cGUpIHtcbiAgICAvKipcbiAgICAgKiAqKk5hdGl2ZSoqXG4gICAgICpcbiAgICAgKiBQcm9wZXJ0eSBvZiBhIG5hdGl2ZSBjb21wb25lbnQuIE11c3Qgbm90IGJlIHVzZWQgaW4gY3VzdG9tIGNvbXBvbmVudHMuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiTmF0aXZlXCJdID0gMV0gPSBcIk5hdGl2ZVwiO1xuICAgIC8qKlxuICAgICAqICoqQm9vbCoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgY2hlY2tib3guXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBmYWxzZWAsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZSBgZGVmYXVsdGAgcHJvcGVydHkuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiQm9vbFwiXSA9IDJdID0gXCJCb29sXCI7XG4gICAgLyoqXG4gICAgICogKipJbnQqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhbiBpbnRlZ2VyIGlucHV0IGZpZWxkLlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgMGAsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZSBgZGVmYXVsdGAgcHJvcGVydHkuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiSW50XCJdID0gNF0gPSBcIkludFwiO1xuICAgIC8qKlxuICAgICAqICoqRmxvYXQqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIGZsb2F0aW5nIHBvaW50IGlucHV0IGZpZWxkLlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgMC4wYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJGbG9hdFwiXSA9IDhdID0gXCJGbG9hdFwiO1xuICAgIC8qKlxuICAgICAqICoqU3RyaW5nIC8gVGV4dCoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgc2luZ2xlLWxpbmUgdGV4dCBpbnB1dCBmaWVsZC5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYW4gZW1wdHkgc3RyaW5nLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGUgYGRlZmF1bHRgXG4gICAgICogcHJvcGVydHkuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiU3RyaW5nXCJdID0gMTZdID0gXCJTdHJpbmdcIjtcbiAgICAvKipcbiAgICAgKiAqKkVudW1lcmF0aW9uKio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBkcm9wZG93biB3aXRoIGdpdmVuIHZhbHVlcy4gVGhlIGFkZGl0aW9uYWxcbiAgICAgKiBgdmFsdWVzYCBwYXJhbWV0ZXIgd2l0aCBzZWxlY3Rpb24gb3B0aW9ucyBpcyBtYW5kYXRvcnkuXG4gICAgICpcbiAgICAgKiBUaGUgcHJvcGVydHkgdmFsdWUgaXMgcmVzb2x2ZWQgdG8gYW4gKippbmRleCoqIGludG8gdGhlIGB2YWx1ZXNgIGFycmF5LlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyB0aGUgZmlyc3QgZWxlbWVudCBpbiBgdmFsdWVzYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnlcbiAgICAgKiB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LiBUaGUgYGRlZmF1bHRgIHZhbHVlIGNhbiBiZSBhIHN0cmluZyBvciBhbiBpbmRleFxuICAgICAqIGludG8gYHZhbHVlc2AuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgICAgY2FtZXJhOiB7dHlwZTogVHlwZS5FbnVtLCB2YWx1ZXM6IFsnYXV0bycsICdiYWNrJywgJ2Zyb250J10sIGRlZmF1bHQ6ICdhdXRvJ30sXG4gICAgICogYGBgXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiRW51bVwiXSA9IDMyXSA9IFwiRW51bVwiO1xuICAgIC8qKlxuICAgICAqICoqT2JqZWN0IHJlZmVyZW5jZSoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGFuIG9iamVjdCByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd25cbiAgICAgKiB3aXRoIG9iamVjdCBwaWNrZXIuXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJPYmplY3RcIl0gPSA2NF0gPSBcIk9iamVjdFwiO1xuICAgIC8qKlxuICAgICAqICoqTWVzaCByZWZlcmVuY2UqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIG1lc2ggcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiTWVzaFwiXSA9IDEyOF0gPSBcIk1lc2hcIjtcbiAgICAvKipcbiAgICAgKiAqKlRleHR1cmUgcmVmZXJlbmNlKio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSB0ZXh0dXJlIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIlRleHR1cmVcIl0gPSAyNTZdID0gXCJUZXh0dXJlXCI7XG4gICAgLyoqXG4gICAgICogKipNYXRlcmlhbCByZWZlcmVuY2UqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIG1hdGVyaWFsIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIk1hdGVyaWFsXCJdID0gNTEyXSA9IFwiTWF0ZXJpYWxcIjtcbiAgICAvKipcbiAgICAgKiAqKkFuaW1hdGlvbiByZWZlcmVuY2UqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhbiBhbmltYXRpb24gcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiQW5pbWF0aW9uXCJdID0gMTAyNF0gPSBcIkFuaW1hdGlvblwiO1xuICAgIC8qKlxuICAgICAqICoqU2tpbiByZWZlcmVuY2UqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIHNraW4gcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiU2tpblwiXSA9IDIwNDhdID0gXCJTa2luXCI7XG4gICAgLyoqXG4gICAgICogKipDb2xvcioqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgY29sb3Igd2lkZ2V0LlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgWzAuMCwgMC4wLCAwLjAsIDEuMF1gLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGVcbiAgICAgKiBgZGVmYXVsdGAgcHJvcGVydHkuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiQ29sb3JcIl0gPSA0MDk2XSA9IFwiQ29sb3JcIjtcbn0pKFR5cGUgfHwgKFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBDb21wb25lbnQgcHJvcGVydHkgbmFtZXNwYWNlLlxuICpcbiAqIFVzYWdlOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4gKlxuICogY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICogICAgICAgICBteUJvb2w6IFByb3BlcnR5LmJvb2wodHJ1ZSksXG4gKiAgICAgICAgIG15SW50OiBQcm9wZXJ0eS5pbnQoNDIpLFxuICogICAgICAgICBteVN0cmluZzogUHJvcGVydHkuc3RyaW5nKCdIZWxsbyBXb3JsZCEnKSxcbiAqICAgICAgICAgbXlNZXNoOiBQcm9wZXJ0eS5tZXNoKCksXG4gKiAgICAgfVxuICogfVxuICogYGBgXG4gKlxuICogRm9yIFR5cGVTY3JpcHQgdXNlcnMsIHlvdSBjYW4gdXNlIHRoZSBkZWNvcmF0b3JzIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9wZXJ0eSA9IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gYm9vbGVhbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgICAgKi9cbiAgICBib29sKGRlZmF1bHRWYWx1ZSA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW50ZWdlciBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYDBgLlxuICAgICAqL1xuICAgIGludChkZWZhdWx0VmFsdWUgPSAwKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBmbG9hdCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYDAuMGAuXG4gICAgICovXG4gICAgZmxvYXQoZGVmYXVsdFZhbHVlID0gMC4wKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIHN0cmluZyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYCcnYC5cbiAgICAgKi9cbiAgICBzdHJpbmcoZGVmYXVsdFZhbHVlID0gJycpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5TdHJpbmcsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGVudW1lcmF0aW9uIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgbGlzdCBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gQ2FuIGJlIGEgc3RyaW5nIG9yIGFuIGluZGV4IGludG9cbiAgICAgKiAgICAgYHZhbHVlc2AuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAgICovXG4gICAgZW51bSh2YWx1ZXMsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkVudW0sIHZhbHVlcywgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XG4gICAgfSxcbiAgICAvKiogQ3JlYXRlIGFuIHtAbGluayBPYmplY3QzRH0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xuICAgIG9iamVjdChvcHRzKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuT2JqZWN0LCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcbiAgICB9LFxuICAgIC8qKiBDcmVhdGUgYSB7QGxpbmsgTWVzaH0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xuICAgIG1lc2gob3B0cykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLk1lc2gsIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xuICAgIH0sXG4gICAgLyoqIENyZWF0ZSBhIHtAbGluayBUZXh0dXJlfSByZWZlcmVuY2UgcHJvcGVydHkuICovXG4gICAgdGV4dHVyZShvcHRzKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuVGV4dHVyZSwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XG4gICAgfSxcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIE1hdGVyaWFsfSByZWZlcmVuY2UgcHJvcGVydHkuICovXG4gICAgbWF0ZXJpYWwob3B0cykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLk1hdGVyaWFsLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcbiAgICB9LFxuICAgIC8qKiBDcmVhdGUgYW4ge0BsaW5rIEFuaW1hdGlvbn0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xuICAgIGFuaW1hdGlvbihvcHRzKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuQW5pbWF0aW9uLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcbiAgICB9LFxuICAgIC8qKiBDcmVhdGUgYSB7QGxpbmsgU2tpbn0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xuICAgIHNraW4ob3B0cykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLlNraW4sIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY29sb3IgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gciBUaGUgcmVkIGNvbXBvbmVudCwgaW4gdGhlIHJhbmdlIFswOyAxXS5cbiAgICAgKiBAcGFyYW0gZyBUaGUgZ3JlZW4gY29tcG9uZW50LCBpbiB0aGUgcmFuZ2UgWzA7IDFdLlxuICAgICAqIEBwYXJhbSBiIFRoZSBibHVlIGNvbXBvbmVudCwgaW4gdGhlIHJhbmdlIFswOyAxXS5cbiAgICAgKiBAcGFyYW0gYSBUaGUgYWxwaGEgY29tcG9uZW50LCBpbiB0aGUgcmFuZ2UgWzA7IDFdLlxuICAgICAqL1xuICAgIGNvbG9yKHIgPSAwLjAsIGcgPSAwLjAsIGIgPSAwLjAsIGEgPSAxLjApIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5Db2xvciwgZGVmYXVsdDogW3IsIGcsIGIsIGFdIH07XG4gICAgfSxcbn07XG4iLCAiaW1wb3J0IHsgUHJvcGVydHksIFR5cGUgfSBmcm9tICcuL3Byb3BlcnR5LmpzJztcbi8qKlxuICogRGVjb3JhdG9yIGZvciBKUyBjb21wb25lbnQgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0gZGF0YSBUaGUgcHJvcGVydHkgZGVzY3JpcHRpb24gYXMgYW4gb2JqZWN0IGxpdGVyYWxcbiAqIEByZXR1cm5zIEEgZGVjb3JhdG9yIGZ1bmN0aW9uIG1vZGlmeWluZyB0aGUgYFByb3BlcnRpZXNgIHN0YXRpY1xuICogICAgIGF0dHJpYnV0ZVxuICovXG5mdW5jdGlvbiBwcm9wZXJ0eURlY29yYXRvcihkYXRhKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0YXJnZXQuY29uc3RydWN0b3I7XG4gICAgICAgIGN0b3IuUHJvcGVydGllcyA9IGN0b3IuaGFzT3duUHJvcGVydHkoJ1Byb3BlcnRpZXMnKSA/IGN0b3IuUHJvcGVydGllcyA6IHt9O1xuICAgICAgICBjdG9yLlByb3BlcnRpZXNbcHJvcGVydHlLZXldID0gZGF0YTtcbiAgICB9O1xufVxuLyoqXG4gKiBEZWNvcmF0b3IgZm9yIG1ha2luZyBhIGdldHRlciBlbnVtZXJhYmxlLlxuICpcbiAqIFVzYWdlOlxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUNsYXNzIHtcbiAqICAgICBAZW51bWVyYWJsZSgpXG4gKiAgICAgZ2V0IHByb2plY3Rpb25NYXRyaXgoKTogRmxvYXQzMkFycmF5IHsgLi4uIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZW51bWVyYWJsZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKF8sIF9fLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgfTtcbn1cbi8qKlxuICogRGVjb3JhdG9yIGZvciBuYXRpdmUgcHJvcGVydGllcy5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgTXlDbGFzcyB7XG4gKiAgICAgQG5hdGl2ZVByb3BlcnR5KClcbiAqICAgICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpOiBGbG9hdDMyQXJyYXkgeyAuLi4gfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuYXRpdmVQcm9wZXJ0eSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgZW51bWVyYWJsZSgpKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICBwcm9wZXJ0eURlY29yYXRvcih7IHR5cGU6IFR5cGUuTmF0aXZlIH0pKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgIH07XG59XG4vKipcbiAqIFByb3BlcnR5IGRlY29yYXRvcnMgbmFtZXNwYWNlLlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoZSBkZWNvcmF0b3JzIHRvIG1hcmsgYSBjbGFzcyBhdHRyaWJ1dGUgYXNcbiAqIGEgV29uZGVybGFuZCBFbmdpbmUgcHJvcGVydHkuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7TWVzaH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqIGltcG9ydCB7cHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcbiAqXG4gKiBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gKiAgICAgQHByb3BlcnR5LmJvb2wodHJ1ZSlcbiAqICAgICBteUJvb2whOiBib29sZWFuO1xuICpcbiAqICAgICBAcHJvcGVydHkuaW50KDQyKVxuICogICAgIG15SW50ITogbnVtYmVyO1xuICpcbiAqICAgICBAcHJvcGVydHkuc3RyaW5nKCdIZWxsbyBXb3JsZCEnKVxuICogICAgIG15U3RyaW5nITogc3RyaW5nO1xuICpcbiAqICAgICBAcHJvcGVydHkubWVzaCgpXG4gKiAgICAgbXlNZXNoITogTWVzaDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEZvciBKYXZhU2NyaXB0IHVzZXJzLCBwbGVhc2UgZGVjbGFyZSB0aGUgcHJvcGVydGllcyBzdGF0aWNhbGx5LlxuICovXG5leHBvcnQgY29uc3QgcHJvcGVydHkgPSB7fTtcbmZvciAoY29uc3QgbmFtZSBpbiBQcm9wZXJ0eSkge1xuICAgIC8qIEFzc2lnbiBlYWNoIHByb3BlcnR5IGZ1bmN0b3IgdG8gYSBUeXBlU2NyaXB0IGRlY29yYXRvci5cbiAgICAgKiBUaGlzIGNvZGUgZXh0cmFjdHMgcGFyYW1ldGVycyBhbmQgcmV0dXJuIHR5cGUgdG8gcHJvdmlkZSBwcm9wZXJcbiAgICAgKiB0eXBpbmdzIHRvIHRoZSB1c2VyLiAqL1xuICAgIHByb3BlcnR5W25hbWVdID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgZnVuY3RvciA9IFByb3BlcnR5W25hbWVdO1xuICAgICAgICByZXR1cm4gcHJvcGVydHlEZWNvcmF0b3IoZnVuY3RvciguLi5hcmdzKSk7XG4gICAgfTtcbn1cbiIsICIvKipcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgYSBuYXRpdmUgc3RyaW5nIG9yIGEgYFN0cmluZ2AgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBoYXMgdHlwZSBzdHJpbmcgbGl0ZXJhbCBvciBgU3RyaW5nYCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gJycpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiB2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgYSBnaXZlbiB2YWx1ZSBpcyBhIG5hdGl2ZSBudW1iZXIgb3IgYSBgTnVtYmVyYCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGhhcyB0eXBlIG51bWJlciBsaXRlcmFsIG9yIGBOdW1iZXJgLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyO1xufVxuIiwgIi8qKlxuICogRXZlbnQgZW1pdHRlci5cbiAqXG4gKiBUaGlzIGNsYXNzIGFsbG93cyB0byByZWdpc3RlciBsaXN0ZW5lcnMgdGhhdCB3aWxsIGdldCBub3RpZmllZCBieSB0aGUgZW1pdHRlci5cbiAqXG4gKiBVc2FnZSBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIC8vIGBvblByZVJlbmRlcmAgaXMgYW4gYEVtaXR0ZXJgIGluc3RhbmNlLlxuICogc2NlbmUub25QcmVSZW5kZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdiZWZvcmUgcmVuZGVyaW5nJykpO1xuICogLy8gYG9uUG9zdFJlbmRlcmAgaXMgYW4gYEVtaXR0ZXJgIGluc3RhbmNlLlxuICogc2NlbmUub25Qb3N0UmVuZGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnYWZ0ZXIgcmVuZGVyaW5nJykpO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBjcmVhdGUgeW91ciBvd24gZW1pdHRlcnM6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7RW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqXG4gKiBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gbm90aWZ5IGxpc3RlbmVycyBpbiB0byB5b3VyIGVtaXR0ZXIgdXNpbmcge0BsaW5rIEVtaXR0ZXIubm90aWZ5fTpcbiAqXG4gKiBgYGBqc1xuICogLy8gTm90aWZpZXMgYWxsIHRoZSBsaXN0ZW5lcnMuXG4gKiBlbWl0dGVyLm5vdGlmeSgpO1xuICogLy8gTm90aWZpZXMgYWxsIHRoZSBsaXN0ZW5lcnMgd2l0aCBzb21lIGRhdGEuXG4gKiBlbWl0dGVyLm5vdGlmeSh7IG15SW50OiA0MiwgbXlTdHI6ICdIZWxsbyBXb3JsZCEnIH0pO1xuICogYGBgXG4gKlxuICogQGNhdGVnb3J5IGV2ZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBFbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGxpc3RlbmVycyB0byB0cmlnZ2VyIHdoZW4gYG5vdGlmeWAgaXMgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9saXN0ZW5lcnMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBsaXN0ZW5lciB0byBiZSB0cmlnZ2VyZWQgb24ge0BsaW5rIEVtaXR0ZXIubm90aWZ5fS5cbiAgICAgKlxuICAgICAqIEJhc2ljIHVzYWdlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBlbWl0dGVyLmFkZCgoZGF0YSkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnZXZlbnQgcmVjZWl2ZWQhJyk7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQXV0b21hdGljYWxseSByZW1vdmUgdGhlIGxpc3RlbmVyIHdoZW4gYW4gZXZlbnQgaXMgcmVjZWl2ZWQ6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdldmVudCByZWNlaXZlZCEnKTtcbiAgICAgKiAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICogfSwge29uY2U6IHRydWV9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIuXG4gICAgICogQHBhcmFtIG9wdHMgVGhlIGxpc3RlbmVyIG9wdGlvbnMuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgaGF2ZSBhIGxvb2tcbiAgICAgKiAgICAgYXQgdGhlIHtAbGluayBMaXN0ZW5lck9wdGlvbnN9IGludGVyZmFjZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxuICAgICAqL1xuICAgIGFkZChsaXN0ZW5lciwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgb25jZSA9IGZhbHNlLCBpZCA9IHVuZGVmaW5lZCB9ID0gb3B0cztcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goeyBpZCwgb25jZSwgY2FsbGJhY2s6IGxpc3RlbmVyIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgRW1pdHRlci5hZGR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVycyBUaGUgY2FsbGJhY2socykgdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgRW1pdHRlci5hZGR9IGluc3RlYWQuXG4gICAgICovXG4gICAgcHVzaCguLi5saXN0ZW5lcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjYiBvZiBsaXN0ZW5lcnMpXG4gICAgICAgICAgICB0aGlzLmFkZChjYik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBsaXN0ZW5lciB0byBiZSB0cmlnZ2VyZWQgb24ge0BsaW5rIEVtaXR0ZXIubm90aWZ5fS5cbiAgICAgKlxuICAgICAqIE9uY2Ugbm90aWZpZWQsIHRoZSBsaXN0ZW5lciB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIFRoZSBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBjYWxsaW5nIHtAbGluayBFbWl0dGVyLmFkZH0gd2l0aDpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZW1pdHRlci5hZGQobGlzdGVuZXIsIHtvbmNlOiB0cnVlfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIG9uY2UobGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHJlZ2lzdGVyZWQgbGlzdGVuZXIuXG4gICAgICpcbiAgICAgKiBVc2FnZSB3aXRoIGEgY2FsbGJhY2s6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IGxpc3RlbmVyID0gKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAqIGVtaXR0ZXIuYWRkKGxpc3RlbmVyKTtcbiAgICAgKlxuICAgICAqIC8vIFJlbW92ZSB1c2luZyB0aGUgY2FsbGJhY2sgcmVmZXJlbmNlOlxuICAgICAqIGVtaXR0ZXIucmVtb3ZlKGxpc3RlbmVyKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFVzYWdlIHdpdGggYW4gaWQ6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSwge2lkOiAnbXktY2FsbGJhY2snfSk7XG4gICAgICpcbiAgICAgKiAvLyBSZW1vdmUgdXNpbmcgdGhlIGlkOlxuICAgICAqIGVtaXR0ZXIucmVtb3ZlKCdteS1jYWxsYmFjaycpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVXNpbmcgaWRlbnRpZmllcnMsIHlvdSB3aWxsIG5lZWQgdG8gZW5zdXJlIHlvdXIgdmFsdWUgaXMgdW5pcXVlIHRvIGF2b2lkXG4gICAgICogcmVtb3ZpbmcgbGlzdGVuZXJzIGZyb20gb3RoZXIgbGlicmFyaWVzLCBlLmcuLDpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpLCB7aWQ6ICdub24tdW5pcXVlJ30pO1xuICAgICAqIC8vIFRoaXMgc2Vjb25kIGxpc3RlbmVyIGNvdWxkIGJlIGFkZGVkIGJ5IGEgdGhpcmQtcGFydHkgbGlicmFyeS5cbiAgICAgKiBlbWl0dGVyLmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coJ0hlbGxvIEZyb20gTGlicmFyeSEnKSwge2lkOiAnbm9uLXVuaXF1ZSd9KTtcbiAgICAgKlxuICAgICAqIC8vIEhvIFNuYXAhIFRoaXMgYWxzbyByZW1vdmVkIHRoZSBsaWJyYXJ5IGxpc3RlbmVyIVxuICAgICAqIGVtaXR0ZXIucmVtb3ZlKCdub24tdW5pcXVlJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGUgaWRlbnRpZmllciBjYW4gYmUgYW55IHR5cGUuIEhvd2V2ZXIsIHJlbWVtYmVyIHRoYXQgdGhlIGNvbXBhcmlzb24gd2lsbCBiZVxuICAgICAqIGJ5LXZhbHVlIGZvciBwcmltaXRpdmUgdHlwZXMgKHN0cmluZywgbnVtYmVyKSwgYnV0IGJ5IHJlZmVyZW5jZSBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGVtaXR0ZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdIZWxsbycpLCB7aWQ6IHt2YWx1ZTogNDJ9fSk7XG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ1dvcmxkIScpLCB7aWQ6IHt2YWx1ZTogNDJ9fSk7XG4gICAgICogZW1pdHRlci5yZW1vdmUoe3ZhbHVlOiA0Mn0pOyAvLyBOb25lIG9mIHRoZSBhYm92ZSBsaXN0ZW5lcnMgbWF0Y2ghXG4gICAgICogZW1pdHRlci5ub3RpZnkoKTsgLy8gUHJpbnRzICdIZWxsbycgYW5kICdXb3JsZCEnLlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSGVyZSwgYm90aCBlbWl0dGVycyBoYXZlIGlkIGB7dmFsdWU6IDQyfWAsIGJ1dCB0aGUgY29tcGFyaXNvbiBpcyBtYWRlIGJ5IHJlZmVyZW5jZS4gVGh1cyxcbiAgICAgKiB0aGUgYHJlbW92ZSgpYCBjYWxsIGhhcyBubyBlZmZlY3QuIFdlIGNhbiBtYWtlIGl0IHdvcmsgYnkgZG9pbmc6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IGlkID0ge3ZhbHVlOiA0Mn07XG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ0hlbGxvJyksIHtpZH0pO1xuICAgICAqIGVtaXR0ZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdXb3JsZCEnKSwge2lkfSk7XG4gICAgICogZW1pdHRlci5yZW1vdmUoaWQpOyAvLyBTYW1lIHJlZmVyZW5jZSwgaXQgd29ya3MhXG4gICAgICogZW1pdHRlci5ub3RpZnkoKTsgLy8gRG9lc24ndCBwcmludC5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgcmVnaXN0ZXJlZCBjYWxsYmFjayBvciBhIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgYGlkYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxuICAgICAqL1xuICAgIHJlbW92ZShsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNhbGxiYWNrID09PSBsaXN0ZW5lciB8fCB0YXJnZXQuaWQgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBsaXN0ZW5lciBpcyByZWdpc3RlcmVkLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgcGVyZm9ybXMgYSBsaW5lYXIgc2VhcmNoLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSByZWdpc3RlcmVkIGNhbGxiYWNrIG9yIGEgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBgaWRgLlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgaGFuZGxlIGlzIGZvdW5kLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBoYXMobGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jYWxsYmFjayA9PT0gbGlzdGVuZXIgfHwgdGFyZ2V0LmlkID09PSBsaXN0ZW5lcilcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmeSBsaXN0ZW5lcnMgd2l0aCB0aGUgZ2l2ZW4gZGF0YSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIG1ldGhvZCBlbnN1cmVzIGFsbCBsaXN0ZW5lcnMgYXJlIGNhbGxlZCBldmVuIGlmXG4gICAgICogYW4gZXhjZXB0aW9uIGlzIHRocm93bi4gRm9yIChwb3NzaWJseSkgZmFzdGVyIG5vdGlmaWNhdGlvbixcbiAgICAgKiBwbGVhc2UgdXNlIHtAbGluayBFbWl0dGVyLm5vdGlmeVVuc2FmZX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIGxpc3RlbmVyIHdoZW4gaW52b2tlZC5cbiAgICAgKi9cbiAgICBub3RpZnkoLi4uZGF0YSkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlKVxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soLi4uZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZ5IGxpc3RlbmVycyB3aXRoIHRoZSBnaXZlbiBkYXRhIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBub3RlIEJlY2F1c2UgdGhpcyBtZXRob2QgZG9lc24ndCBjYXRjaCBleGNlcHRpb25zLCBzb21lIGxpc3RlbmVyc1xuICAgICAqIHdpbGwgYmUgc2tpcHBlZCBvbiBhIHRocm93LiBQbGVhc2UgdXNlIHtAbGluayBFbWl0dGVyLm5vdGlmeX0gZm9yIHNhZmVcbiAgICAgKiBub3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIGxpc3RlbmVyIHdoZW4gaW52b2tlZC5cbiAgICAgKi9cbiAgICBub3RpZnlVbnNhZmUoLi4uZGF0YSkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlKVxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKC4uLmRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgb24gdGhlIG5leHQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGUgcHJvbWlzZSBtaWdodCBuZXZlciByZXNvbHZlIGlmIG5vIGV2ZW50IGlzIHNlbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBkYXRhIHBhc3NlZCB0b1xuICAgICAqICAgICB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxuICAgICAqL1xuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCBfKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uY2UoKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBOdW1iZXIgb2YgbGlzdGVuZXJzLiAqL1xuICAgIGdldCBsaXN0ZW5lckNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqIGB0cnVlYCBpZiBpdCBoYXMgbm8gbGlzdGVuZXJzLCBgZmFsc2VgIG90aGVyd2lzZS4gKi9cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJDb3VudCA9PT0gMDtcbiAgICB9XG59XG4vKiBEdW1teSB2YWx1ZSB1c2VkIHdpdGggUmV0YWluRW1pdHRlci4gKi9cbmNvbnN0IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQgPSB7fTtcbi8qKlxuICogRXZlbnQgZW1pdHRlciB0aGF0IHJldGFpbnMgZXZlbnQgZGF0YSB3aGVuIG5vdGlmaWVkLlxuICpcbiAqIEFmdGVyIGEgbm90aWZpY2F0aW9uIGhhcHBlbnMsIHN1YnNlcXVlbnQgY2FsbHMgdG8ge0BsaW5rIFJldGFpbkVtaXR0ZXIuYWRkfSB3aWxsIGdldFxuICogYXV0b21hdGljYWxseSBub3RpZmllZC5cbiAqXG4gKiBZb3UgY2FuIHVzZSBhbm90aGVyIGVtaXR0ZXIgaW4gb3JkZXIgdG8gY2FuY2VsIHRoZSBsYXN0IHJldGFpbmVkIGV2ZW50OlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQge0VtaXR0ZXIsIFJldGFpbmVkRW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqXG4gKiBjb25zdCBvblN0YXJ0ID0gbmV3IFJldGFpbmVkRW1pdHRlcigpO1xuICpcbiAqIG9uU3RhcnQubm90aWZ5KDQyKTtcbiAqIG9uU3RhcnQuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSkgLy8gUHJpbnRzICc0MicuXG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIHJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgZW1pdHRlciwgaS5lLiwgbWFraW5nIGl0IGZvcmdldCBhYm91dCB0aGVcbiAqIGxhc3QgZXZlbnQgdXNpbmc6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7RW1pdHRlciwgUmV0YWluZWRFbWl0dGVyfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuICpcbiAqIGNvbnN0IG9uU3RhcnQgPSBuZXcgUmV0YWluZWRFbWl0dGVyKCk7XG4gKiBvblN0YXJ0Lm5vdGlmeSg0Mik7XG4gKiBvblN0YXJ0LmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpIC8vIFByaW50cyAnNDInLlxuICpcbiAqIC8vIFJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgZW1pdHRlci5cbiAqIG9uU3RhcnQucmVzZXQoKTtcbiAqIG9uU3RhcnQuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSkgLy8gRG9lc24ndCBwcmludCBhbnl0aGluZy5cbiAqIGBgYFxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGVtaXR0ZXJzLCBwbGVhc2UgaGF2ZSBhIGxvb2sgYXQgdGhlIGJhc2Uge0BsaW5rIEVtaXR0ZXJ9IGNsYXNzLlxuICpcbiAqIEBjYXRlZ29yeSBldmVudFxuICovXG5leHBvcnQgY2xhc3MgUmV0YWluRW1pdHRlciBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKiBQcmUtcmVzb2x2ZWQgZGF0YS4gQGhpZGRlbiAqL1xuICAgIF9ldmVudCA9IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogRW1pdHRlciB0YXJnZXQgdXNlZCB0byByZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBlbWl0dGVyLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9yZXNldDtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgYWRkKGxpc3RlbmVyLCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IGltbWVkaWF0ZSA9IG9wdHM/LmltbWVkaWF0ZSA/PyB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fZXZlbnQgIT09IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQgJiYgaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICBsaXN0ZW5lciguLi50aGlzLl9ldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuYWRkKGxpc3RlbmVyLCBvcHRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayB0byByZWdpc3Rlci5cbiAgICAgKiBAcGFyYW0gaW1tZWRpYXRlIElmIGB0cnVlYCwgZGlyZWN0bHkgcmVzb2x2ZXMgaWYgdGhlIGVtaXR0ZXIgcmV0YWlucyBhIHZhbHVlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIG9uY2UobGlzdGVuZXIsIGltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQobGlzdGVuZXIsIHsgb25jZTogdHJ1ZSwgaW1tZWRpYXRlIH0pO1xuICAgIH1cbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgbm90aWZ5KC4uLmRhdGEpIHtcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBkYXRhO1xuICAgICAgICBzdXBlci5ub3RpZnkoLi4uZGF0YSk7XG4gICAgfVxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBub3RpZnlVbnNhZmUoLi4uZGF0YSkge1xuICAgICAgICB0aGlzLl9ldmVudCA9IGRhdGE7XG4gICAgICAgIHN1cGVyLm5vdGlmeVVuc2FmZSguLi5kYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBlbWl0dGVyLlxuICAgICAqXG4gICAgICogRnVydGhlciBjYWxsIHRvIHtAbGluayBFbWl0dGVyLmFkZH0gd2lsbCBub3QgYXV0b21hdGljYWxseSByZXNvbHZlLFxuICAgICAqIHVudGlsIGEgbmV3IGNhbGwgdG8ge0BsaW5rIEVtaXR0ZXIubm90aWZ5fSBpcyBwZXJmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZylcbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIHJldGFpbmVkIGRhdGEsIG9yIGB1bmRlZmluZWRgIGlmIG5vIGRhdGEgd2FzIHJldGFpbmVkLiAqL1xuICAgIGdldCBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RhdGFSZXRhaW5lZCA/IHRoaXMuX2V2ZW50IDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKiogYHRydWVgIGlmIGRhdGEgaXMgcmV0YWluZWQgZnJvbSB0aGUgbGFzdCBldmVudCwgYGZhbHNlYCBvdGhlcndpc2UuICovXG4gICAgZ2V0IGlzRGF0YVJldGFpbmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnQgIT09IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQ7XG4gICAgfVxufVxuIiwgIi8qKlxuICogVHlwZXNcbiAqL1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgbmF0aXZlUHJvcGVydHksIGVudW1lcmFibGUgfSBmcm9tICcuL2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgaXNOdW1iZXIsIGlzU3RyaW5nIH0gZnJvbSAnLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4vdXRpbHMvZXZlbnQuanMnO1xuLyoqXG4gKiBXb25kZXJsYW5kIEVuZ2luZSBBUElcbiAqIEBuYW1lc3BhY2UgV0xcbiAqL1xuLyoqXG4gKiBDb2xsaWRlciB0eXBlIGVudW0gZm9yIHtAbGluayBDb2xsaXNpb25Db21wb25lbnR9LlxuICovXG5leHBvcnQgdmFyIENvbGxpZGVyO1xuKGZ1bmN0aW9uIChDb2xsaWRlcikge1xuICAgIC8qKlxuICAgICAqICoqU3BoZXJlIENvbGxpZGVyKio6XG4gICAgICpcbiAgICAgKiBTaW1wbGVzdCBhbmQgbW9zdCBwZXJmb3JtYW50IGNvbGxpc2lvbiBzaGFwZS4gSWYgdGhpcyB0eXBlIGlzIHNldCBvbiBhXG4gICAgICoge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudH0sIG9ubHkgdGhlIGZpcnN0IGNvbXBvbmVudCBvZlxuICAgICAqIHtAbGluayBDb2xsaXNpb25Db21wb25lbnQjZXh0ZW50c30gd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgcmFkaXVzLlxuICAgICAqL1xuICAgIENvbGxpZGVyW0NvbGxpZGVyW1wiU3BoZXJlXCJdID0gMF0gPSBcIlNwaGVyZVwiO1xuICAgIC8qKlxuICAgICAqICoqQXhpcyBBbGlnbmVkIEJvdW5kaW5nIEJveCBDb2xsaWRlcioqOlxuICAgICAqXG4gICAgICogQm94IHRoYXQgaXMgYWx3YXlzIGFsaWduZWQgdG8gWFlaIGF4aXMuIEl0IGNhbm5vdCBiZSByb3RhdGVkIGJ1dCBpcyBtb3JlXG4gICAgICogZWZmaWNpZW50IHRoYW4ge0BsaW5rIENvbGxpZGVyLkJveH0uXG4gICAgICovXG4gICAgQ29sbGlkZXJbQ29sbGlkZXJbXCJBeGlzQWxpZ25lZEJveFwiXSA9IDFdID0gXCJBeGlzQWxpZ25lZEJveFwiO1xuICAgIC8qKlxuICAgICAqICoqQWxpZ25lZCBCb3VuZGluZyBCb3ggQ29sbGlkZXIqKjpcbiAgICAgKlxuICAgICAqIEJveCB0aGF0IG1hdGNoZXMgdGhlIG9iamVjdCdzIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBjb3JyZWN0bHkuIFRoaXNcbiAgICAgKiBpcyB0aGUgbGVhc3QgZWZmaWNpZW50IGNvbGxpZGVyIGFuZCBzaG91bGQgb25seSBiZSBjaG9zZW4gb3ZlclxuICAgICAqIHtAbGluayBDb2xsaWRlci5TcGhlcmV9IGFuZCB7QGxpbmsgQ29sbGlkZXIuQXhpc0FsaWduZWRCb3h9IGlmIHJlYWxseVxuICAgICAqIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBDb2xsaWRlcltDb2xsaWRlcltcIkJveFwiXSA9IDJdID0gXCJCb3hcIjtcbn0pKENvbGxpZGVyIHx8IChDb2xsaWRlciA9IHt9KSk7XG4vKipcbiAqIEFsaWdubWVudCB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cbiAqL1xuZXhwb3J0IHZhciBBbGlnbm1lbnQ7XG4oZnVuY3Rpb24gKEFsaWdubWVudCkge1xuICAgIC8qKiBUZXh0IHN0YXJ0IGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiTGVmdFwiXSA9IDBdID0gXCJMZWZ0XCI7XG4gICAgLyoqIFRleHQgY2VudGVyIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiQ2VudGVyXCJdID0gMV0gPSBcIkNlbnRlclwiO1xuICAgIC8qKiBUZXh0IGVuZCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgQWxpZ25tZW50W0FsaWdubWVudFtcIlJpZ2h0XCJdID0gMl0gPSBcIlJpZ2h0XCI7XG59KShBbGlnbm1lbnQgfHwgKEFsaWdubWVudCA9IHt9KSk7XG4vKipcbiAqIEp1c3RpZmljYXRpb24gdHlwZSBlbnVtIGZvciB7QGxpbmsgVGV4dENvbXBvbmVudH0uXG4gKi9cbmV4cG9ydCB2YXIgSnVzdGlmaWNhdGlvbjtcbihmdW5jdGlvbiAoSnVzdGlmaWNhdGlvbikge1xuICAgIC8qKiBUZXh0IGxpbmUgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xuICAgIEp1c3RpZmljYXRpb25bSnVzdGlmaWNhdGlvbltcIkxpbmVcIl0gPSAwXSA9IFwiTGluZVwiO1xuICAgIC8qKiBUZXh0IG1pZGRsZSBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiTWlkZGxlXCJdID0gMV0gPSBcIk1pZGRsZVwiO1xuICAgIC8qKiBUZXh0IHRvcCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiVG9wXCJdID0gMl0gPSBcIlRvcFwiO1xuICAgIC8qKiBUZXh0IGJvdHRvbSBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiQm90dG9tXCJdID0gM10gPSBcIkJvdHRvbVwiO1xufSkoSnVzdGlmaWNhdGlvbiB8fCAoSnVzdGlmaWNhdGlvbiA9IHt9KSk7XG4vKipcbiAqIEVmZmVjdCB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cbiAqL1xuZXhwb3J0IHZhciBUZXh0RWZmZWN0O1xuKGZ1bmN0aW9uIChUZXh0RWZmZWN0KSB7XG4gICAgLyoqIFRleHQgaXMgcmVuZGVyZWQgbm9ybWFsbHkgKi9cbiAgICBUZXh0RWZmZWN0W1RleHRFZmZlY3RbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKiogVGV4dCBpcyByZW5kZXJlZCB3aXRoIGFuIG91dGxpbmUgKi9cbiAgICBUZXh0RWZmZWN0W1RleHRFZmZlY3RbXCJPdXRsaW5lXCJdID0gMV0gPSBcIk91dGxpbmVcIjtcbn0pKFRleHRFZmZlY3QgfHwgKFRleHRFZmZlY3QgPSB7fSkpO1xuLyoqXG4gKiBJbnB1dCB0eXBlIGVudW0gZm9yIHtAbGluayBJbnB1dENvbXBvbmVudH0uXG4gKi9cbmV4cG9ydCB2YXIgSW5wdXRUeXBlO1xuKGZ1bmN0aW9uIChJbnB1dFR5cGUpIHtcbiAgICAvKiogSGVhZCBpbnB1dCAqL1xuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJIZWFkXCJdID0gMF0gPSBcIkhlYWRcIjtcbiAgICAvKiogTGVmdCBleWUgaW5wdXQgKi9cbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiRXllTGVmdFwiXSA9IDFdID0gXCJFeWVMZWZ0XCI7XG4gICAgLyoqIFJpZ2h0IGV5ZSBpbnB1dCAqL1xuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJFeWVSaWdodFwiXSA9IDJdID0gXCJFeWVSaWdodFwiO1xuICAgIC8qKiBMZWZ0IGNvbnRyb2xsZXIgaW5wdXQgKi9cbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiQ29udHJvbGxlckxlZnRcIl0gPSAzXSA9IFwiQ29udHJvbGxlckxlZnRcIjtcbiAgICAvKiogUmlnaHQgY29udHJvbGxlciBpbnB1dCAqL1xuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJDb250cm9sbGVyUmlnaHRcIl0gPSA0XSA9IFwiQ29udHJvbGxlclJpZ2h0XCI7XG4gICAgLyoqIExlZnQgcmF5IGlucHV0ICovXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIlJheUxlZnRcIl0gPSA1XSA9IFwiUmF5TGVmdFwiO1xuICAgIC8qKiBSaWdodCByYXkgaW5wdXQgKi9cbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiUmF5UmlnaHRcIl0gPSA2XSA9IFwiUmF5UmlnaHRcIjtcbn0pKElucHV0VHlwZSB8fCAoSW5wdXRUeXBlID0ge30pKTtcbi8qKlxuICogTGlnaHQgdHlwZSBlbnVtIGZvciB7QGxpbmsgTGlnaHRDb21wb25lbnR9LlxuICovXG5leHBvcnQgdmFyIExpZ2h0VHlwZTtcbihmdW5jdGlvbiAoTGlnaHRUeXBlKSB7XG4gICAgLyoqIFBvaW50IGxpZ2h0ICovXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlBvaW50XCJdID0gMF0gPSBcIlBvaW50XCI7XG4gICAgLyoqIFNwb3QgbGlnaHQgKi9cbiAgICBMaWdodFR5cGVbTGlnaHRUeXBlW1wiU3BvdFwiXSA9IDFdID0gXCJTcG90XCI7XG4gICAgLyoqIFN1biBsaWdodCAvIERpcmVjdGlvbmFsIGxpZ2h0ICovXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlN1blwiXSA9IDJdID0gXCJTdW5cIjtcbn0pKExpZ2h0VHlwZSB8fCAoTGlnaHRUeXBlID0ge30pKTtcbi8qKlxuICogQW5pbWF0aW9uIHN0YXRlIG9mIHtAbGluayBBbmltYXRpb25Db21wb25lbnR9LlxuICovXG5leHBvcnQgdmFyIEFuaW1hdGlvblN0YXRlO1xuKGZ1bmN0aW9uIChBbmltYXRpb25TdGF0ZSkge1xuICAgIC8qKiBBbmltYXRpb24gaXMgY3VycmVudGx5IHBsYXlpbmcgKi9cbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBsYXlpbmdcIl0gPSAwXSA9IFwiUGxheWluZ1wiO1xuICAgIC8qKiBBbmltYXRpb24gaXMgcGF1c2VkIGFuZCB3aWxsIGNvbnRpbnVlIGF0IGN1cnJlbnQgcGxheWJhY2tcbiAgICAgKiB0aW1lIG9uIHtAbGluayBBbmltYXRpb25Db21wb25lbnQjcGxheX0gKi9cbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBhdXNlZFwiXSA9IDFdID0gXCJQYXVzZWRcIjtcbiAgICAvKiogQW5pbWF0aW9uIGlzIHN0b3BwZWQgKi9cbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlN0b3BwZWRcIl0gPSAyXSA9IFwiU3RvcHBlZFwiO1xufSkoQW5pbWF0aW9uU3RhdGUgfHwgKEFuaW1hdGlvblN0YXRlID0ge30pKTtcbi8qKlxuICogUmlnaWQgYm9keSBmb3JjZSBtb2RlIGZvciB7QGxpbmsgUGh5c1hDb21wb25lbnQjYWRkRm9yY2V9IGFuZCB7QGxpbmsgUGh5c1hDb21wb25lbnQjYWRkVG9ycXVlfS5cbiAqXG4gKiBbUGh5c1ggQVBJIFJlZmVyZW5jZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hhcGkvZmlsZXMvc3RydWN0UHhGb3JjZU1vZGUuaHRtbClcbiAqL1xuZXhwb3J0IHZhciBGb3JjZU1vZGU7XG4oZnVuY3Rpb24gKEZvcmNlTW9kZSkge1xuICAgIC8qKiBBcHBseSBhcyBmb3JjZSAqL1xuICAgIEZvcmNlTW9kZVtGb3JjZU1vZGVbXCJGb3JjZVwiXSA9IDBdID0gXCJGb3JjZVwiO1xuICAgIC8qKiBBcHBseSBhcyBpbXB1bHNlICovXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIkltcHVsc2VcIl0gPSAxXSA9IFwiSW1wdWxzZVwiO1xuICAgIC8qKiBBcHBseSBhcyB2ZWxvY2l0eSBjaGFuZ2UsIG1hc3MgZGVwZW5kZW50ICovXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIlZlbG9jaXR5Q2hhbmdlXCJdID0gMl0gPSBcIlZlbG9jaXR5Q2hhbmdlXCI7XG4gICAgLyoqIEFwcGx5IGFzIG1hc3MgZGVwZW5kZW50IGZvcmNlICovXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIkFjY2VsZXJhdGlvblwiXSA9IDNdID0gXCJBY2NlbGVyYXRpb25cIjtcbn0pKEZvcmNlTW9kZSB8fCAoRm9yY2VNb2RlID0ge30pKTtcbi8qKlxuICogQ29sbGlzaW9uIGNhbGxiYWNrIGV2ZW50IHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgQ29sbGlzaW9uRXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChDb2xsaXNpb25FdmVudFR5cGUpIHtcbiAgICAvKiogVG91Y2gvY29udGFjdCBkZXRlY3RlZCwgY29sbGlzaW9uICovXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRvdWNoXCJdID0gMF0gPSBcIlRvdWNoXCI7XG4gICAgLyoqIFRvdWNoL2NvbnRhY3QgbG9zdCwgdW5jb2xsaWRlICovXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRvdWNoTG9zdFwiXSA9IDFdID0gXCJUb3VjaExvc3RcIjtcbiAgICAvKiogVG91Y2gvY29udGFjdCB3aXRoIHRyaWdnZXIgZGV0ZWN0ZWQgKi9cbiAgICBDb2xsaXNpb25FdmVudFR5cGVbQ29sbGlzaW9uRXZlbnRUeXBlW1wiVHJpZ2dlclRvdWNoXCJdID0gMl0gPSBcIlRyaWdnZXJUb3VjaFwiO1xuICAgIC8qKiBUb3VjaC9jb250YWN0IHdpdGggdHJpZ2dlciBsb3N0ICovXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRyaWdnZXJUb3VjaExvc3RcIl0gPSAzXSA9IFwiVHJpZ2dlclRvdWNoTG9zdFwiO1xufSkoQ29sbGlzaW9uRXZlbnRUeXBlIHx8IChDb2xsaXNpb25FdmVudFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBSaWdpZCBib2R5IHtAbGluayBQaHlzWENvbXBvbmVudCNzaGFwZX0uXG4gKlxuICogW1BoeXNYIFNESyBHdWlkZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvR2VvbWV0cnkuaHRtbCNnZW9tZXRyeS10eXBlcykuXG4gKi9cbmV4cG9ydCB2YXIgU2hhcGU7XG4oZnVuY3Rpb24gKFNoYXBlKSB7XG4gICAgLyoqIE5vIHNoYXBlLiAqL1xuICAgIFNoYXBlW1NoYXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgLyoqIFNwaGVyZSBzaGFwZS4gKi9cbiAgICBTaGFwZVtTaGFwZVtcIlNwaGVyZVwiXSA9IDFdID0gXCJTcGhlcmVcIjtcbiAgICAvKiogQ2Fwc3VsZSBzaGFwZS4gKi9cbiAgICBTaGFwZVtTaGFwZVtcIkNhcHN1bGVcIl0gPSAyXSA9IFwiQ2Fwc3VsZVwiO1xuICAgIC8qKiBCb3ggc2hhcGUuICovXG4gICAgU2hhcGVbU2hhcGVbXCJCb3hcIl0gPSAzXSA9IFwiQm94XCI7XG4gICAgLyoqIFBsYW5lIHNoYXBlLiAqL1xuICAgIFNoYXBlW1NoYXBlW1wiUGxhbmVcIl0gPSA0XSA9IFwiUGxhbmVcIjtcbiAgICAvKiogQ29udmV4IG1lc2ggc2hhcGUuICovXG4gICAgU2hhcGVbU2hhcGVbXCJDb252ZXhNZXNoXCJdID0gNV0gPSBcIkNvbnZleE1lc2hcIjtcbiAgICAvKiogVHJpYW5nbGUgbWVzaCBzaGFwZS4gKi9cbiAgICBTaGFwZVtTaGFwZVtcIlRyaWFuZ2xlTWVzaFwiXSA9IDZdID0gXCJUcmlhbmdsZU1lc2hcIjtcbn0pKFNoYXBlIHx8IChTaGFwZSA9IHt9KSk7XG4vKipcbiAqIE1lc2ggYXR0cmlidXRlIGVudW0uXG4gKiBAc2luY2UgMC45LjBcbiAqL1xuZXhwb3J0IHZhciBNZXNoQXR0cmlidXRlO1xuKGZ1bmN0aW9uIChNZXNoQXR0cmlidXRlKSB7XG4gICAgLyoqIFBvc2l0aW9uIGF0dHJpYnV0ZSwgMyBmbG9hdHMgKi9cbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJQb3NpdGlvblwiXSA9IDBdID0gXCJQb3NpdGlvblwiO1xuICAgIC8qKiBUYW5nZW50IGF0dHJpYnV0ZSwgNCBmbG9hdHMgKi9cbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJUYW5nZW50XCJdID0gMV0gPSBcIlRhbmdlbnRcIjtcbiAgICAvKiogTm9ybWFsIGF0dHJpYnV0ZSwgMyBmbG9hdHMgKi9cbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJOb3JtYWxcIl0gPSAyXSA9IFwiTm9ybWFsXCI7XG4gICAgLyoqIFRleHR1cmUgY29vcmRpbmF0ZSBhdHRyaWJ1dGUsIDIgZmxvYXRzICovXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiVGV4dHVyZUNvb3JkaW5hdGVcIl0gPSAzXSA9IFwiVGV4dHVyZUNvb3JkaW5hdGVcIjtcbiAgICAvKiogQ29sb3IgYXR0cmlidXRlLCA0IGZsb2F0cywgUkdCQSwgcmFuZ2UgYDBgIHRvIGAxYCAqL1xuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIkNvbG9yXCJdID0gNF0gPSBcIkNvbG9yXCI7XG4gICAgLyoqIEpvaW50IGlkIGF0dHJpYnV0ZSwgOCB1bnNpZ25lZCBpbnRzICovXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiSm9pbnRJZFwiXSA9IDVdID0gXCJKb2ludElkXCI7XG4gICAgLyoqIEpvaW50IHdlaWdodHMgYXR0cmlidXRlLCA4IGZsb2F0cyAqL1xuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIkpvaW50V2VpZ2h0XCJdID0gNl0gPSBcIkpvaW50V2VpZ2h0XCI7XG59KShNZXNoQXR0cmlidXRlIHx8IChNZXNoQXR0cmlidXRlID0ge30pKTtcbi8qKlxuICogTWF0ZXJpYWwgcGFyYW1ldGVyIHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgTWF0ZXJpYWxQYXJhbVR5cGU7XG4oZnVuY3Rpb24gKE1hdGVyaWFsUGFyYW1UeXBlKSB7XG4gICAgLyoqIFVuc2lnbmVkIGludGVnZXIgcGFyYW1ldGVyIHR5cGUuICovXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJVbnNpZ25lZEludFwiXSA9IDBdID0gXCJVbnNpZ25lZEludFwiO1xuICAgIC8qKiBJbnRlZ2VyIHBhcmFtZXRlciB0eXBlLiAqL1xuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiSW50XCJdID0gMV0gPSBcIkludFwiO1xuICAgIC8qKiBGbG9hdCBwYXJhbWV0ZXIgdHlwZS4gKi9cbiAgICBNYXRlcmlhbFBhcmFtVHlwZVtNYXRlcmlhbFBhcmFtVHlwZVtcIkZsb2F0XCJdID0gMl0gPSBcIkZsb2F0XCI7XG4gICAgLyoqIFNhbXBsZXIgcmVzb3VyY2UgcGFyYW1ldGVyIHR5cGUsIGkuZS4sIGEge0BsaW5rIFRleHR1cmV9LiAqL1xuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiU2FtcGxlclwiXSA9IDNdID0gXCJTYW1wbGVyXCI7XG4gICAgLyoqXG4gICAgICogRm9udCByZXNvdXJjZSBwYXJhbWV0ZXIgdHlwZS5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiBDaGFuZ2luZyBmb250IGlzbid0IGV4cG9zZWQgeWV0IGFuZCB3aWxsIHJhaXNlIGFuIGVycm9yLlxuICAgICAqL1xuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiRm9udFwiXSA9IDRdID0gXCJGb250XCI7XG59KShNYXRlcmlhbFBhcmFtVHlwZSB8fCAoTWF0ZXJpYWxQYXJhbVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgZ2l2ZW4gc2hhcGUgaXMgYSBtZXNoIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0gc2hhcGUgVGhlIHNoYXBlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBzaGFwZSBpcyBhIG1lc2gsIGBmYWxzZWAgaWYgaXQncyBhIHByaW1pdGl2ZS5cbiAqL1xuZnVuY3Rpb24gaXNNZXNoU2hhcGUoc2hhcGUpIHtcbiAgICByZXR1cm4gc2hhcGUgPT09IFNoYXBlLkNvbnZleE1lc2ggfHwgc2hhcGUgPT09IFNoYXBlLlRyaWFuZ2xlTWVzaDtcbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhbiBvYmplY3QgaXMgdGhlIHtAbGluayBDb21wb25lbnR9IGNsYXNzIG9yIG5vdCxcbiAqXG4gKiBAbm90ZSBUaGlzIG1ldGhvZCBpZiBmb29scHJvb2YgdG8gZGV2ZWxvcGVycyBpbmFkdmVydGVudGx5IHVzaW5nXG4gKiBtdWx0aXBsZSBXb25kZXJsYW5kIEVuZ2luZSBBUEkgaW4gYSBidW5kbGUuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBpcyBhIHtAbGluayBDb21wb25lbnR9IGNsYXNzLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaXNCYXNlQ29tcG9uZW50Q2xhc3ModmFsdWUpIHtcbiAgICByZXR1cm4gKCEhdmFsdWUgJiZcbiAgICAgICAgdmFsdWUuaGFzT3duUHJvcGVydHkoJ19pc0Jhc2VDb21wb25lbnQnKSAmJlxuICAgICAgICB2YWx1ZS5faXNCYXNlQ29tcG9uZW50KTtcbn1cbi8qKlxuICogQ29uc3RhbnRzLlxuICovXG4vKipcbiAqIERlZmF1bHQgd29ybGQgdXAgdmVjdG9yLlxuICovXG5jb25zdCBVUF9WRUNUT1IgPSBbMCwgMSwgMF07XG5jb25zdCBTUVJUXzMgPSBNYXRoLnNxcnQoMyk7XG4vKipcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIGNvbXBvbmVudCBpbnN0YW5jZSBvZiBhIHNwZWNpZmllZCBjb21wb25lbnQgdHlwZS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIFRoaXMgaXMgaG93IHlvdSBpbXBsZW1lbnQgZXh0ZW5kIHRoaXMgY2xhc3MgdG8gY3JlYXRlIHlvdXIgb3duIGN1c3RvbVxuICogY29tcG9uZW50OlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuICpcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ215LWNvbXBvbmVudCc7XG4gKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gKiAgICAgICAgIG15Qm9vbGVhbjogeyB0eXBlOiBUeXBlLkJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gKiAgICAgfTtcbiAqICAgICBzdGFydCgpIHt9XG4gKiAgICAgb25BY3RpdmF0ZSgpIHt9XG4gKiAgICAgb25EZWFjdGl2YXRlKCkge31cbiAqICAgICB1cGRhdGUoZHQpIHt9XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogYHRydWVgIGZvciBldmVyeSBjbGFzcyBpbmhlcml0aW5nIGZyb20gdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciBgaW5zdGFuY2VvZmAgdG8gcHJldmVudCBpc3N1ZXNcbiAgICAgKiB0aGF0IGNvdWxkIGFyaXNlIHdoZW4gYW4gYXBwbGljYXRpb24gZW5kcyB1cCB1c2luZyBtdWx0aXBsZSBBUEkgdmVyc2lvbnMuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgc3RhdGljIF9pc0Jhc2VDb21wb25lbnQgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNvbXBvbmVudCBjbGFzcy5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZCB0byByZWdpc3RlciwgYWRkLCBhbmQgcmV0cmlldmUgY29tcG9uZW50cyBvZiBhIGdpdmVuIHR5cGUuXG4gICAgICovXG4gICAgc3RhdGljIFR5cGVOYW1lO1xuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgb2YgdGhpcyBjb21wb25lbnQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBQcm9wZXJ0aWVzIGFyZSBwdWJsaWMgYXR0cmlidXRlcyB0aGF0IGNhbiBiZSBjb25maWd1cmVkIHZpYSB0aGVcbiAgICAgKiBXb25kZXJsYW5kIEVkaXRvci5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4gICAgICogY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbXktY29tcG9uZW50JztcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICogICAgICAgICBteUJvb2xlYW46IHsgdHlwZTogVHlwZS5Cb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgICAqICAgICAgICAgbXlGbG9hdDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgICAqICAgICAgICAgbXlUZXh0dXJlOiB7IHR5cGU6IFR5cGUuVGV4dHVyZSwgZGVmYXVsdDogbnVsbCB9LFxuICAgICAqICAgICB9O1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFByb3BlcnRpZXMgYXJlIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gZWFjaCBjb21wb25lbnQgaW5zdGFuY2UsIGFuZCBhcmVcbiAgICAgKiBhY2Nlc3NpYmxlIGxpa2UgYW55IEpTIGF0dHJpYnV0ZTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogLy8gQ3JlYXRlcyBhIG5ldyBjb21wb25lbnQgYW5kIHNldCBlYWNoIHByb3BlcnRpZXMgdmFsdWU6XG4gICAgICogY29uc3QgbXlDb21wb25lbnQgPSBvYmplY3QuYWRkQ29tcG9uZW50KE15Q29tcG9uZW50LCB7XG4gICAgICogICAgIG15Qm9vbGVhbjogdHJ1ZSxcbiAgICAgKiAgICAgbXlGbG9hdDogNDIuMCxcbiAgICAgKiAgICAgbXlUZXh0dXJlOiBudWxsXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBZb3UgY2FuIGFsc28gb3ZlcnJpZGUgdGhlIHByb3BlcnRpZXMgb24gdGhlIGluc3RhbmNlOlxuICAgICAqIG15Q29tcG9uZW50Lm15Qm9vbGVhbiA9IGZhbHNlO1xuICAgICAqIG15Q29tcG9uZW50Lm15RmxvYXQgPSAtNDIuMDtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIFJlZmVyZW5jZXNcbiAgICAgKlxuICAgICAqIFJlZmVyZW5jZSB0eXBlcyAoaS5lLiwgbWVzaCwgb2JqZWN0LCBldGMuLi4pIGNhbiBhbHNvIGJlIGxpc3RlZCBhcyAqKnJlcXVpcmVkKio6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAgICAgKlxuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICogICAgICAgICBteU9iamVjdDogUHJvcGVydHkub2JqZWN0KHtyZXF1aXJlZDogdHJ1ZX0pLFxuICAgICAqICAgICAgICAgbXlBbmltYXRpb246IFByb3BlcnR5LmFuaW1hdGlvbih7cmVxdWlyZWQ6IHRydWV9KSxcbiAgICAgKiAgICAgICAgIG15VGV4dHVyZTogUHJvcGVydHkudGV4dHVyZSh7cmVxdWlyZWQ6IHRydWV9KSxcbiAgICAgKiAgICAgICAgIG15TWVzaDogUHJvcGVydHkubWVzaCh7cmVxdWlyZWQ6IHRydWV9KSxcbiAgICAgKiAgICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgcmVmZXJlbmNlcyBhcmUgdmFsaWRhdGVkICoqb25jZSoqIGJlZm9yZSB0aGUgY2FsbCB0byB7QGxpbmsgQ29tcG9uZW50LnN0YXJ0fSBvbmx5LFxuICAgICAqIHZpYSB0aGUge0BsaW5rIENvbXBvbmVudC52YWxpZGF0ZVByb3BlcnRpZXN9IG1ldGhvZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgUHJvcGVydGllcztcbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBjaGlsZCBjbGFzcyBpbmhlcml0cyBmcm9tIHRoZSBwYXJlbnRcbiAgICAgKiBwcm9wZXJ0aWVzLCBhcyBzaG93biBpbiB0aGUgZm9sbG93aW5nIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAgICAgKlxuICAgICAqIGNsYXNzIFBhcmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwYXJlbnQnO1xuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtwYXJlbnROYW1lOiBQcm9wZXJ0eS5zdHJpbmcoJ3BhcmVudCcpfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGNsYXNzIENoaWxkIGV4dGVuZHMgUGFyZW50IHtcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ2NoaWxkJztcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7bmFtZTogUHJvcGVydHkuc3RyaW5nKCdjaGlsZCcpfVxuICAgICAqICAgICBzdGF0aWMgSW5oZXJpdFByb3BlcnRpZXMgPSB0cnVlO1xuICAgICAqXG4gICAgICogICAgIHN0YXJ0KCkge1xuICAgICAqICAgICAgICAgLy8gV29ya3MgYmVjYXVzZSBgSW5oZXJpdFByb3BlcnRpZXNgIGlzIGB0cnVlYC5cbiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMubmFtZX0gaW5oZXJpdHMgZnJvbSAke3RoaXMucGFyZW50TmFtZX1gKTtcbiAgICAgKiAgICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBub3RlIFByb3BlcnRpZXMgZGVmaW5lZCBpbiBkZXNjZW5kYW50IGNsYXNzZXMgd2lsbCBvdmVycmlkZSBwcm9wZXJ0aWVzXG4gICAgICogd2l0aCB0aGUgc2FtZSBuYW1lIGRlZmluZWQgaW4gYW5jZXN0b3IgY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgSW5oZXJpdFByb3BlcnRpZXM7XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhpcyBjb21wb25lbnQgY2xhc3MgaXMgcmVnaXN0ZXJlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHJlZ2lzdGVyIGRlcGVuZGVuY2llcyBvZiBhIGNvbXBvbmVudCxcbiAgICAgKiBlLmcuLCBjb21wb25lbnQgY2xhc3NlcyB0aGF0IG5lZWQgdG8gYmUgcmVnaXN0ZXJlZCBpbiBvcmRlciB0byBhZGRcbiAgICAgKiB0aGVtIGF0IHJ1bnRpbWUgd2l0aCB7QGxpbmsgT2JqZWN0M0QuYWRkQ29tcG9uZW50fSwgaW5kZXBlbmRlbnQgb2Ygd2hldGhlclxuICAgICAqIHRoZXkgYXJlIHVzZWQgaW4gdGhlIGVkaXRvci5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogY2xhc3MgU3Bhd25lciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdzcGF3bmVyJztcbiAgICAgKlxuICAgICAqICAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcbiAgICAgKiAgICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChTcGF3bmVkQ29tcG9uZW50KTtcbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogICAgIC8vIFlvdSBjYW4gbm93IHVzZSBhZGRDb21wb25lbnQgd2l0aCBTcGF3bmVkQ29tcG9uZW50XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoaXMgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gcmVnaXN0ZXIgZGlmZmVyZW50IGltcGxlbWVudGF0aW9ucyBvZiBhXG4gICAgICogY29tcG9uZW50IGRlcGVuZGluZyBvbiBjbGllbnQgZmVhdHVyZXMgb3IgQVBJIHZlcnNpb25zLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBQcm9wZXJ0aWVzIG5lZWQgdG8gYmUgdGhlIHNhbWUgZm9yIGFsbCBpbXBsZW1lbnRhdGlvbnMhXG4gICAgICogY29uc3QgU2hhcmVkUHJvcGVydGllcyA9IHt9O1xuICAgICAqXG4gICAgICogY2xhc3MgQW5jaG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ3NwYXduZXInO1xuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IFNoYXJlZFByb3BlcnRpZXM7XG4gICAgICpcbiAgICAgKiAgICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XG4gICAgICogICAgICAgICBpZihuYXZpZ2F0b3IueHIgPT09IHVuZGVmaW5lZCkge1xuICAgICAqICAgICAgICAgICAgIC8qIFdlYlhSIHVuc3VwcG9ydGVkLCBrZWVwIHRoaXMgZHVtbXkgY29tcG9uZW50ICpcXC9cbiAgICAgKiAgICAgICAgICAgICByZXR1cm47XG4gICAgICogICAgICAgICB9XG4gICAgICogICAgICAgICAvKiBXZWJYUiBzdXBwb3J0ZWQhIE92ZXJyaWRlIGFscmVhZHkgcmVnaXN0ZXJlZCBkdW1teSBpbXBsZW1lbnRhdGlvblxuICAgICAqICAgICAgICAgICogd2l0aCBvbmUgZGVwZW5kaW5nIG9uIGhpdC10ZXN0IEFQSSBzdXBwb3J0ICpcXC9cbiAgICAgKiAgICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudCh3aW5kb3cuSGl0VGVzdFNvdXJjZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgKiAgICAgICAgICAgICBBbmNob3JXaXRob3V0SGl0VGVzdCA6IEFuY2hvcldpdGhIaXRUZXN0KTtcbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogICAgIC8vIFRoaXMgb25lIGltcGxlbWVudHMgbm8gZnVuY3Rpb25zXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBvblJlZ2lzdGVyO1xuICAgIC8qKiBNYW5hZ2VyIGluZGV4LiBAaGlkZGVuICovXG4gICAgX21hbmFnZXI7XG4gICAgLyoqIEluc3RhbmNlIGluZGV4LiBAaGlkZGVuICovXG4gICAgX2lkO1xuICAgIC8qKlxuICAgICAqIE9iamVjdCBjb250YWluaW5nIHRoaXMgb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlKio6IFRoaXMgaXMgY2FjaGVkIGZvciBmYXN0ZXIgcmV0cmlldmFsLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9vYmplY3Q7XG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXG4gICAgX2VuZ2luZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbmdpbmUgVGhlIGVuZ2luZSBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gbWFuYWdlciBJbmRleCBvZiB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0gaWQgV0FTTSBjb21wb25lbnQgaW5zdGFuY2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBtYW5hZ2VyID0gLTEsIGlkID0gLTEpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgICAgICB0aGlzLl9tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcbiAgICAgICAgdGhpcy5fb2JqZWN0ID0gbnVsbDtcbiAgICB9XG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xuICAgIGdldCBlbmdpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XG4gICAgfVxuICAgIC8qKiBUaGUgbmFtZSBvZiB0aGlzIGNvbXBvbmVudCdzIHR5cGUgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBjdG9yLlR5cGVOYW1lID8/IHRoaXMuX2VuZ2luZS53YXNtLl90eXBlTmFtZUZvcih0aGlzLl9tYW5hZ2VyKTtcbiAgICB9XG4gICAgLyoqIFRoZSBvYmplY3QgdGhpcyBjb21wb25lbnQgaXMgYXR0YWNoZWQgdG8uICovXG4gICAgZ2V0IG9iamVjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdElkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9nZXRfb2JqZWN0KHRoaXMuX21hbmFnZXIsIHRoaXMuX2lkKTtcbiAgICAgICAgICAgIHRoaXMuX29iamVjdCA9IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KG9iamVjdElkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIGNvbXBvbmVudCBpcyBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBBY3RpdmF0aW5nL2RlYWN0aXZhdGluZyBhIGNvbXBvbmVudCBjb21lcyBhdCBhIHNtYWxsIGNvc3Qgb2YgcmVvcmRlcmluZ1xuICAgICAqIGNvbXBvbmVudHMgaW4gdGhlIHJlc3BlY3RpdmUgY29tcG9uZW50IG1hbmFnZXIuIFRoaXMgZnVuY3Rpb24gdGhlcmVmb3JlXG4gICAgICogaXMgbm90IGEgdHJpdmlhbCBhc3NpZ25tZW50LlxuICAgICAqXG4gICAgICogRG9lcyBub3RoaW5nIGlmIHRoZSBjb21wb25lbnQgaXMgYWxyZWFkeSBhY3RpdmF0ZWQvZGVhY3RpdmF0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWN0aXZlIE5ldyBhY3RpdmUgc3RhdGUuXG4gICAgICovXG4gICAgc2V0IGFjdGl2ZShhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9zZXRBY3RpdmUodGhpcy5fbWFuYWdlciwgdGhpcy5faWQsIGFjdGl2ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBjb21wb25lbnQgaXMgYWN0aXZlXG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb21wb25lbnRfaXNBY3RpdmUodGhpcy5fbWFuYWdlciwgdGhpcy5faWQpICE9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGlzIGNvbXBvbmVudCBmcm9tIGl0cyBvYmplY3RzIGFuZCBkZXN0cm95IGl0LlxuICAgICAqXG4gICAgICogSXQgaXMgYmVzdCBwcmFjdGljZSB0byBzZXQgdGhlIGNvbXBvbmVudCB0byBgbnVsbGAgYWZ0ZXIsXG4gICAgICogdG8gZW5zdXJlIGl0IGRvZXMgbm90IGdldCB1c2VkIGxhdGVyLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgICBjLmRlc3Ryb3koKTtcbiAgICAgKiAgICBjID0gbnVsbDtcbiAgICAgKiBgYGBcbiAgICAgKiBAc2luY2UgMC45LjBcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fbWFuYWdlciA8IDAgfHwgdGhpcy5faWQgPCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKiBSZW1vdmUgZnJvbSB0aGUgY2FjaGUgdG8gYXZvaWQgc2lkZS1lZmZlY3RzIHdoZW5cbiAgICAgICAgICogcmUtY3JlYXRpbmcgYSBjb21wb25lbnQgd2l0aCB0aGUgc2FtZSBpZC4gKi9cbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl9lbmdpbmUuX2NvbXBvbmVudENhY2hlW3RoaXMuX21hbmFnZXJdO1xuICAgICAgICBpZiAoY2FjaGUpXG4gICAgICAgICAgICBjYWNoZVt0aGlzLl9pZF0gPSBudWxsO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29tcG9uZW50X3JlbW92ZSh0aGlzLl9tYW5hZ2VyLCB0aGlzLl9pZCk7XG4gICAgICAgIHRoaXMuX21hbmFnZXIgPSAtMTtcbiAgICAgICAgdGhpcy5faWQgPSAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBjb21wb25lbnQgaWRzXG4gICAgICogYW5kIGNvbXBvbmVudCBtYW5hZ2VyIHR5cGVzIGFyZSBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlckNvbXBvbmVudCBDb21wb25lbnQgdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgY29tcG9uZW50IGVxdWFscyB0aGUgZ2l2ZW4gY29tcG9uZW50LlxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlckNvbXBvbmVudCkge1xuICAgICAgICBpZiAoIW90aGVyQ29tcG9uZW50KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlciA9PSBvdGhlckNvbXBvbmVudC5fbWFuYWdlciAmJiB0aGlzLl9pZCA9PSBvdGhlckNvbXBvbmVudC5faWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBjb21wb25lbnQgcHJvcGVydGllcyB0byBkZWZhdWx0LlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCBpbnN0YW50aWF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJlc2V0UHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBjdG9yLlByb3BlcnRpZXM7XG4gICAgICAgIGlmICghcHJvcGVydGllcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gcHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHByb3BlcnRpZXNbbmFtZV0uZGVmYXVsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQ29tcG9uZW50LnJlc2V0UHJvcGVydGllc30gaW5zdGVhZC4gKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzZXRQcm9wZXJ0aWVzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIHRoZSBwcm9wZXJ0aWVzIG9uIHRoaXMgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIElmIGFueSBvZiB0aGUgcmVxdWlyZWQgcHJvcGVydGllcyBpc24ndCBpbml0aWFsaXplZFxuICAgICAqIG9uIHRoaXMgaW5zdGFuY2UuXG4gICAgICovXG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKCFjdG9yLlByb3BlcnRpZXMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBjdG9yLlByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmICghY3Rvci5Qcm9wZXJ0aWVzW25hbWVdLnJlcXVpcmVkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9wZXJ0eSAnJHtuYW1lfScgaXMgcmVxdWlyZWQgYnV0IHdhcyBub3QgaW5pdGlhbGl6ZWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5pbml0fSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBVc2UgdGhpcyBtZXRob2QgaW5zdGVhZCBvZiBkaXJlY3RseSBjYWxsaW5nIHtAbGluayBDb21wb25lbnQuaW5pdH0sXG4gICAgICogYmVjYXVzZSB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIGhhbmRsZXIgZm9yIHRoZSB7QGxpbmsgQ29tcG9uZW50LnN0YXJ0fS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfdHJpZ2dlckluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmluaXQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IGluaXQoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogQXJtIG9uQWN0aXZhdGUoKSB3aXRoIHRoZSBpbml0aWFsIHN0YXJ0KCkgY2FsbCAqL1xuICAgICAgICBjb25zdCBvbGRBY3RpdmF0ZSA9IHRoaXMub25BY3RpdmF0ZTtcbiAgICAgICAgdGhpcy5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlID0gb2xkQWN0aXZhdGU7XG4gICAgICAgICAgICBsZXQgZmFpbGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IHZhbGlkYXRlUHJvcGVydGllcygpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0Py4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gc3RhcnQoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5vbkFjdGl2YXRlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uQWN0aXZhdGUoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50LnVwZGF0ZX0gbWV0aG9kLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF90cmlnZ2VyVXBkYXRlKGR0KSB7XG4gICAgICAgIGlmICghdGhpcy51cGRhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShkdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IHVwZGF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZ2luZS53YXNtLl9kZWFjdGl2YXRlX2NvbXBvbmVudF9vbl9lcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgY29tcG9uZW50IHtAbGluayBDb21wb25lbnQub25BY3RpdmF0ZX0gbWV0aG9kLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF90cmlnZ2VyT25BY3RpdmF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9uQWN0aXZhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLm9uQWN0aXZhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25BY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50Lm9uRGVhY3RpdmF0ZX0gbWV0aG9kLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF90cmlnZ2VyT25EZWFjdGl2YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMub25EZWFjdGl2YXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5vbkRlYWN0aXZhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25EZWFjdGl2YXRlKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgY29tcG9uZW50IHtAbGluayBDb21wb25lbnQub25EZXN0cm95fSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX3RyaWdnZXJPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICghdGhpcy5vbkRlc3Ryb3kpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBvbkRlc3Ryb3koKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQ29tcG9uZW50cyBtdXN0IGJlIHJlZ2lzdGVyZWQgYmVmb3JlIGxvYWRpbmcgLyBhcHBlbmRpbmcgYSBzY2VuZS5cbiAqXG4gKiBJdCdzIHBvc3NpYmxlIHRvIGVuZCB1cCB3aXRoIGEgYnJva2VuIGNvbXBvbmVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICpcbiAqIC0gQ29tcG9uZW50IHdhc24ndCByZWdpc3RlcmVkIHdoZW4gdGhlIHNjZW5lIHdhcyBsb2FkZWRcbiAqIC0gQ29tcG9uZW50IGluc3RhbnRpYXRpb24gZmFpbGVkXG4gKlxuICogVGhpcyBkdW1teSBjb21wb25lbnQgaXMgdGh1cyB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgYnkgdGhlIGVuZ2luZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJyb2tlbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ19fYnJva2VuLWNvbXBvbmVudF9fJztcbn1cbi8qKlxuICogTWVyZ2UgdGhlIGFzY2VuZGFudCBwcm9wZXJ0aWVzIG9mIGNsYXNzXG4gKlxuICogVGhpcyBtZXRob2Qgd2Fsa3MgdGhlIHByb3RvdHlwZSBjaGFpbiwgYW5kIG1lcmdlc1xuICogYWxsIHRoZSBwcm9wZXJ0aWVzIGZvdW5kIGluIHBhcmVudCBjb21wb25lbnRzLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7UHJvcGVydHksIGluaGVyaXRQcm9wZXJ0aWVzfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuICpcbiAqIGNsYXNzIFBhcmVudCB7XG4gKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7IHBhcmVudFByb3A6IFByb3BlcnR5LnN0cmluZygncGFyZW50JykgfTtcbiAqIH1cbiAqXG4gKiBjbGFzcyBDaGlsZCBleHRlbmRzIFBhcmVudCB7XG4gKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7IGNoaWxkUHJvcDogUHJvcGVydHkuc3RyaW5nKCdjaGlsZCcpIH07XG4gKiB9XG4gKiBpbmhlcml0UHJvcGVydGllcyhDaGlsZCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IFRoZSBjbGFzcyBpbiB3aGljaCBwcm9wZXJ0aWVzIHNob3VsZCBiZSBtZXJnZWRcbiAqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmhlcml0UHJvcGVydGllcyh0YXJnZXQpIHtcbiAgICBpZiAoIXRhcmdldC5UeXBlTmFtZSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGNoYWluID0gW107XG4gICAgbGV0IGN1cnIgPSB0YXJnZXQ7XG4gICAgd2hpbGUgKGN1cnIgJiYgIWlzQmFzZUNvbXBvbmVudENsYXNzKGN1cnIpKSB7XG4gICAgICAgIGNvbnN0IGNvbXAgPSBjdXJyO1xuICAgICAgICAvKiBTdG9wIGF0IHRoZSBmaXJzdCBjbGFzcyB0aGF0IGRvZXNuJ3QgcmVxdWlyZSBwcm9wZXJ0aWVzIG1lcmdpbmcgKi9cbiAgICAgICAgY29uc3QgbmVlZHNNZXJnZSA9IGNvbXAuaGFzT3duUHJvcGVydHkoJ0luaGVyaXRQcm9wZXJ0aWVzJylcbiAgICAgICAgICAgID8gY29tcC5Jbmhlcml0UHJvcGVydGllc1xuICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICBpZiAoIW5lZWRzTWVyZ2UpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKGNvbXAuVHlwZU5hbWUgJiYgY29tcC5oYXNPd25Qcm9wZXJ0eSgnUHJvcGVydGllcycpKSB7XG4gICAgICAgICAgICBjaGFpbi5wdXNoKGNvbXAuUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgY3VyciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyKTtcbiAgICB9XG4gICAgLyogTm8gcHJvdG90eXBlIG1lcmdlIGlzIG5lZWRlZC4gKi9cbiAgICBpZiAoY2hhaW4ubGVuZ3RoIDw9IDEpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBtZXJnZWQgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gY2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihtZXJnZWQsIGNoYWluW2ldKTtcbiAgICB9XG4gICAgdGFyZ2V0LlByb3BlcnRpZXMgPSBtZXJnZWQ7XG59XG4vKipcbiAqIE5hdGl2ZSBjb2xsaXNpb24gY29tcG9uZW50LlxuICpcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBjb2xsaXNpb24gY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2NvbGxpc2lvbic7XG4gICAgLyoqIENvbGxpc2lvbiBjb21wb25lbnQgY29sbGlkZXIgKi9cbiAgICBnZXQgY29sbGlkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfY29sbGlkZXIodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY29sbGlzaW9uIGNvbXBvbmVudCBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlciBDb2xsaWRlciBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzZXQgY29sbGlkZXIoY29sbGlkZXIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfc2V0X2NvbGxpZGVyKHRoaXMuX2lkLCBjb2xsaWRlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbGxpc2lvbiBjb21wb25lbnQgZXh0ZW50cy5cbiAgICAgKlxuICAgICAqIElmIHtAbGluayBjb2xsaWRlcn0gcmV0dXJucyB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSwgb25seSB0aGUgZmlyc3RcbiAgICAgKiBjb21wb25lbnQgb2YgdGhlIHJldHVybmVkIHZlY3RvciBpcyB1c2VkLlxuICAgICAqL1xuICAgIGdldCBleHRlbnRzKCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpLCAzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNvbGxpc2lvbiBjb21wb25lbnQgZXh0ZW50cy5cbiAgICAgKlxuICAgICAqIElmIHtAbGluayBjb2xsaWRlcn0gcmV0dXJucyB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSwgb25seSB0aGUgZmlyc3RcbiAgICAgKiBjb21wb25lbnQgb2YgdGhlIHBhc3NlZCB2ZWN0b3IgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIFNwYW5zIDEgdW5pdCBvbiB0aGUgeC1heGlzLCAyIG9uIHRoZSB5LWF4aXMsIDMgb24gdGhlIHotYXhpcy5cbiAgICAgKiBjb2xsaXNpb24uZXh0ZW50ID0gWzEsIDIsIDNdO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGV4dGVudHMgRXh0ZW50cyBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudCwgZXhwZWN0cyBhXG4gICAgICogICAgICAzIGNvbXBvbmVudCBhcnJheS5cbiAgICAgKi9cbiAgICBzZXQgZXh0ZW50cyhleHRlbnRzKSB7XG4gICAgICAgIHRoaXMuZXh0ZW50cy5zZXQoZXh0ZW50cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBjb2xsaXNpb24gY29tcG9uZW50IHJhZGl1cy5cbiAgICAgKlxuICAgICAqIEBub3RlIElmIHtAbGluayBjb2xsaWRlcn0gaXMgbm90IHtAbGluayBDb2xsaWRlci5TcGhlcmV9LCB0aGUgcmV0dXJuZWQgdmFsdWVcbiAgICAgKiBjb3JyZXNwb25kcyB0byB0aGUgcmFkaXVzIG9mIGEgc3BoZXJlIGVuY2xvc2luZyB0aGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogc3BoZXJlLnJhZGl1cyA9IDMuMDtcbiAgICAgKiBjb25zb2xlLmxvZyhzcGhlcmUucmFkaXVzKTsgLy8gMy4wXG4gICAgICpcbiAgICAgKiBib3guZXh0ZW50cyA9IFsyLjAsIDIuMCwgMi4wXTtcbiAgICAgKiBjb25zb2xlLmxvZyhib3gucmFkaXVzKTsgLy8gMS43MzIuLi5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqL1xuICAgIGdldCByYWRpdXMoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgaWYgKHRoaXMuY29sbGlkZXIgPT09IENvbGxpZGVyLlNwaGVyZSlcbiAgICAgICAgICAgIHJldHVybiB3YXNtLkhFQVBGMzJbd2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZXh0ZW50cyh0aGlzLl9pZCkgPj4gMl07XG4gICAgICAgIGNvbnN0IGV4dGVudHMgPSBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpLCAzKTtcbiAgICAgICAgY29uc3QgeDIgPSBleHRlbnRzWzBdICogZXh0ZW50c1swXTtcbiAgICAgICAgY29uc3QgeTIgPSBleHRlbnRzWzFdICogZXh0ZW50c1sxXTtcbiAgICAgICAgY29uc3QgejIgPSBleHRlbnRzWzJdICogZXh0ZW50c1syXTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh4MiArIHkyICsgejIpIC8gMjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNvbGxpc2lvbiBjb21wb25lbnQgcmFkaXVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJhZGl1cyBSYWRpdXMgb2YgdGhlIGNvbGxpc2lvbiBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEBub3RlIElmIHtAbGluayBjb2xsaWRlcn0gaXMgbm90IHtAbGluayBDb2xsaWRlci5TcGhlcmV9LFxuICAgICAqIHRoZSBleHRlbnRzIGFyZSBzZXQgdG8gZm9ybSBhIHNxdWFyZSB0aGF0IGZpdHMgYSBzcGhlcmUgd2l0aCB0aGUgcHJvdmlkZWQgcmFkaXVzLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIGFhYmJDb2xsaXNpb24ucmFkaXVzID0gMi4wOyAvLyBBQUJCIGZpdHMgYSBzcGhlcmUgb2YgcmFkaXVzIDIuMFxuICAgICAqIGJveENvbGxpc2lvbi5yYWRpdXMgPSAzLjA7IC8vIEJveCBub3cgZml0cyBhIHNwaGVyZSBvZiByYWRpdXMgMy4wLCBrZWVwaW5nIG9yaWVudGF0aW9uXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBzZXQgcmFkaXVzKHJhZGl1cykge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLmNvbGxpZGVyID09PSBDb2xsaWRlci5TcGhlcmUgPyByYWRpdXMgOiAoMiAqIHJhZGl1cykgLyBTUVJUXzM7XG4gICAgICAgIHRoaXMuZXh0ZW50cy5zZXQoW2xlbmd0aCwgbGVuZ3RoLCBsZW5ndGhdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29sbGlzaW9uIGNvbXBvbmVudCBncm91cC5cbiAgICAgKlxuICAgICAqIFRoZSBncm91cHMgaXMgYSBiaXRtYXNrIHRoYXQgaXMgY29tcGFyZWQgdG8gb3RoZXIgY29tcG9uZW50cyBpbiB7QGxpbmsgQ29sbGlzaW9uQ29tcG9uZW50I3F1ZXJ5T3ZlcmxhcHN9XG4gICAgICogb3IgdGhlIGdyb3VwIGluIHtAbGluayBTY2VuZSNyYXlDYXN0fS5cbiAgICAgKlxuICAgICAqIENvbGxpZGVycyB0aGF0IGhhdmUgbm8gY29tbW9uIGdyb3VwcyB3aWxsIG5vdCBvdmVybGFwIHdpdGggZWFjaCBvdGhlci4gSWYgYSBjb2xsaWRlclxuICAgICAqIGhhcyBub25lIG9mIHRoZSBncm91cHMgc2V0IGZvciB7QGxpbmsgU2NlbmUjcmF5Q2FzdH0sIHRoZSByYXkgd2lsbCBub3QgaGl0IGl0LlxuICAgICAqXG4gICAgICogRWFjaCBiaXQgcmVwcmVzZW50cyBiZWxvbmdpbmcgdG8gYSBncm91cCwgc2VlIGV4YW1wbGUuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgIC8vIGMgYmVsb25ncyB0byBncm91cCAyXG4gICAgICogICAgYy5ncm91cCA9ICgxIDw8IDIpO1xuICAgICAqXG4gICAgICogICAgLy8gYyBiZWxvbmdzIHRvIGdyb3VwIDBcbiAgICAgKiAgICBjLmdyb3VwID0gKDEgPDwgMCk7XG4gICAgICpcbiAgICAgKiAgICAvLyBjIGJlbG9uZ3MgdG8gZ3JvdXAgMCAqYW5kKiAyXG4gICAgICogICAgYy5ncm91cCA9ICgxIDw8IDApIHwgKDEgPDwgMik7XG4gICAgICpcbiAgICAgKiAgICAoYy5ncm91cCAmICgxIDw8IDIpKSAhPSAwOyAvLyB0cnVlXG4gICAgICogICAgKGMuZ3JvdXAgJiAoMSA8PCA3KSkgIT0gMDsgLy8gZmFsc2VcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXQgZ3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZ3JvdXAodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY29sbGlzaW9uIGNvbXBvbmVudCBncm91cC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBncm91cCBHcm91cCBtYXNrIG9mIHRoZSBjb2xsaXNpb24gY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldCBncm91cChncm91cCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9zZXRfZ3JvdXAodGhpcy5faWQsIGdyb3VwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVlcnkgb3ZlcmxhcHBpbmcgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIFVzYWdlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBjb25zdCBjb2xsaXNpb24gPSBvYmplY3QuZ2V0Q29tcG9uZW50KCdjb2xsaXNpb24nKTtcbiAgICAgKiBjb25zdCBvdmVybGFwcyA9IGNvbGxpc2lvbi5xdWVyeU92ZXJsYXBzKCk7XG4gICAgICogZm9yKGNvbnN0IG90aGVyQ29sbGlzaW9uIG9mIG92ZXJsYXBzKSB7XG4gICAgICogICAgIGNvbnN0IG90aGVyT2JqZWN0ID0gb3RoZXJDb2xsaXNpb24ub2JqZWN0O1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgQ29sbGlzaW9uIHdpdGggb2JqZWN0ICR7b3RoZXJPYmplY3Qub2JqZWN0SWR9YCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybnMgQ29sbGlzaW9uIGNvbXBvbmVudHMgb3ZlcmxhcHBpbmcgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBxdWVyeU92ZXJsYXBzKCkge1xuICAgICAgICBjb25zdCBjb3VudCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X3F1ZXJ5X292ZXJsYXBzKHRoaXMuX2lkLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbSwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1TaXplID4+IDEpO1xuICAgICAgICBjb25zdCBvdmVybGFwcyA9IG5ldyBBcnJheShjb3VudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICAgICAgb3ZlcmxhcHNbaV0gPSBuZXcgQ29sbGlzaW9uQ29tcG9uZW50KHRoaXMuX2VuZ2luZSwgdGhpcy5fbWFuYWdlciwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1VaW50MTZbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdmVybGFwcztcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBDb2xsaXNpb25Db21wb25lbnQucHJvdG90eXBlLCBcImNvbGxpZGVyXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgQ29sbGlzaW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJleHRlbnRzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgQ29sbGlzaW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncm91cFwiLCBudWxsKTtcbi8qKlxuICogTmF0aXZlIHRleHQgY29tcG9uZW50XG4gKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIHRleHQgY29tcG9uZW50IGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RleHQnO1xuICAgIC8qKiBUZXh0IGNvbXBvbmVudCBhbGlnbm1lbnQuICovXG4gICAgZ2V0IGFsaWdubWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfaG9yaXpvbnRhbF9hbGlnbm1lbnQodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgYWxpZ25tZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGFsaWdubWVudCBBbGlnbm1lbnQgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzZXQgYWxpZ25tZW50KGFsaWdubWVudCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X2hvcml6b250YWxfYWxpZ25tZW50KHRoaXMuX2lkLCBhbGlnbm1lbnQpO1xuICAgIH1cbiAgICAvKiogVGV4dCBjb21wb25lbnQganVzdGlmaWNhdGlvbi4gKi9cbiAgICBnZXQganVzdGlmaWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfdmVydGljYWxfYWxpZ25tZW50KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRleHQgY29tcG9uZW50IGp1c3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ganVzdGlmaWNhdGlvbiBKdXN0aWZpY2F0aW9uIGZvciB0aGUgdGV4dCBjb21wb25lbnQuXG4gICAgICovXG4gICAgc2V0IGp1c3RpZmljYXRpb24oanVzdGlmaWNhdGlvbikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X3ZlcnRpY2FsX2FsaWdubWVudCh0aGlzLl9pZCwganVzdGlmaWNhdGlvbik7XG4gICAgfVxuICAgIC8qKiBUZXh0IGNvbXBvbmVudCBjaGFyYWN0ZXIgc3BhY2luZy4gKi9cbiAgICBnZXQgY2hhcmFjdGVyU3BhY2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfY2hhcmFjdGVyX3NwYWNpbmcodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgY2hhcmFjdGVyIHNwYWNpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3BhY2luZyBDaGFyYWN0ZXIgc3BhY2luZyBmb3IgdGhlIHRleHQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldCBjaGFyYWN0ZXJTcGFjaW5nKHNwYWNpbmcpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9jaGFyYWN0ZXJfc3BhY2luZyh0aGlzLl9pZCwgc3BhY2luZyk7XG4gICAgfVxuICAgIC8qKiBUZXh0IGNvbXBvbmVudCBsaW5lIHNwYWNpbmcuICovXG4gICAgZ2V0IGxpbmVTcGFjaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9saW5lX3NwYWNpbmcodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgbGluZSBzcGFjaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3BhY2luZyBMaW5lIHNwYWNpbmcgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudFxuICAgICAqL1xuICAgIHNldCBsaW5lU3BhY2luZyhzcGFjaW5nKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfbGluZV9zcGFjaW5nKHRoaXMuX2lkLCBzcGFjaW5nKTtcbiAgICB9XG4gICAgLyoqIFRleHQgY29tcG9uZW50IGVmZmVjdC4gKi9cbiAgICBnZXQgZWZmZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9lZmZlY3QodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgZWZmZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWZmZWN0IEVmZmVjdCBmb3IgdGhlIHRleHQgY29tcG9uZW50XG4gICAgICovXG4gICAgc2V0IGVmZmVjdChlZmZlY3QpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9lZmZlY3QodGhpcy5faWQsIGVmZmVjdCk7XG4gICAgfVxuICAgIC8qKiBUZXh0IGNvbXBvbmVudCB0ZXh0LiAqL1xuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF90ZXh0KHRoaXMuX2lkKTtcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCB0ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHRleHQgVGV4dCBvZiB0aGUgdGV4dCBjb21wb25lbnQuXG4gICAgICovXG4gICAgc2V0IHRleHQodGV4dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF90ZXh0KHRoaXMuX2lkLCB3YXNtLnRlbXBVVEY4KHRleHQudG9TdHJpbmcoKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbWF0ZXJpYWwgdG8gcmVuZGVyIHRoZSB0ZXh0IHdpdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWF0ZXJpYWwgTmV3IG1hdGVyaWFsLlxuICAgICAqL1xuICAgIHNldCBtYXRlcmlhbChtYXRlcmlhbCkge1xuICAgICAgICBjb25zdCBtYXRJbmRleCA9IG1hdGVyaWFsID8gbWF0ZXJpYWwuX2luZGV4IDogMDtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9tYXRlcmlhbCh0aGlzLl9pZCwgbWF0SW5kZXgpO1xuICAgIH1cbiAgICAvKiogTWF0ZXJpYWwgdXNlZCB0byByZW5kZXIgdGhlIHRleHQuICovXG4gICAgZ2V0IG1hdGVyaWFsKCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfbWF0ZXJpYWwodGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IE1hdGVyaWFsKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhbGlnbm1lbnRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJqdXN0aWZpY2F0aW9uXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwiY2hhcmFjdGVyU3BhY2luZ1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVTcGFjaW5nXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwiZWZmZWN0XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwidGV4dFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIG51bGwpO1xuLyoqXG4gKiBOYXRpdmUgdmlldyBjb21wb25lbnQuXG4gKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIHZpZXcgY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5leHBvcnQgY2xhc3MgVmlld0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2aWV3JztcbiAgICAvKiogUHJvamVjdGlvbiBtYXRyaXguICovXG4gICAgZ2V0IHByb2plY3Rpb25NYXRyaXgoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X3Byb2plY3Rpb25fbWF0cml4KHRoaXMuX2lkKSwgMTYpO1xuICAgIH1cbiAgICAvKiogVmlld0NvbXBvbmVudCBuZWFyIGNsaXBwaW5nIHBsYW5lIHZhbHVlLiAqL1xuICAgIGdldCBuZWFyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X2dldF9uZWFyKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG5lYXIgY2xpcHBpbmcgcGxhbmUgZGlzdGFuY2UgZm9yIHRoZSB2aWV3LlxuICAgICAqXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoZSBjaGFuZ2Ugd2lsbCBhcHBseSBpbiB0aGVcbiAgICAgKiBmb2xsb3dpbmcgZnJhbWUsIG90aGVyd2lzZSB0aGUgY2hhbmdlIGlzIGltbWVkaWF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZWFyIE5lYXIgZGVwdGggdmFsdWUuXG4gICAgICovXG4gICAgc2V0IG5lYXIobmVhcikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfc2V0X25lYXIodGhpcy5faWQsIG5lYXIpO1xuICAgIH1cbiAgICAvKiogRmFyIGNsaXBwaW5nIHBsYW5lIHZhbHVlLiAqL1xuICAgIGdldCBmYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X2Zhcih0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBmYXIgY2xpcHBpbmcgcGxhbmUgZGlzdGFuY2UgZm9yIHRoZSB2aWV3LlxuICAgICAqXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoZSBjaGFuZ2Ugd2lsbCBhcHBseSBpbiB0aGVcbiAgICAgKiBmb2xsb3dpbmcgZnJhbWUsIG90aGVyd2lzZSB0aGUgY2hhbmdlIGlzIGltbWVkaWF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYXIgTmVhciBkZXB0aCB2YWx1ZS5cbiAgICAgKi9cbiAgICBzZXQgZmFyKGZhcikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfc2V0X2Zhcih0aGlzLl9pZCwgZmFyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBob3Jpem9udGFsIGZpZWxkIG9mIHZpZXcgZm9yIHRoZSB2aWV3LCAqKmluIGRlZ3JlZXMqKi5cbiAgICAgKlxuICAgICAqIElmIGFuIFhSIHNlc3Npb24gaXMgYWN0aXZlLCB0aGlzIHJldHVybnMgdGhlIGZpZWxkIG9mIHZpZXcgcmVwb3J0ZWQgYnlcbiAgICAgKiB0aGUgZGV2aWNlLCByZWdhcmRsZXNzIG9mIHRoZSBmb3YgdGhhdCB3YXMgc2V0LlxuICAgICAqL1xuICAgIGdldCBmb3YoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X2Zvdih0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3IGZvciB0aGUgdmlldywgKippbiBkZWdyZWVzKiouXG4gICAgICpcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhlIGZpZWxkIG9mIHZpZXcgcmVwb3J0ZWQgYnkgdGhlIGRldmljZSBpc1xuICAgICAqIHVzZWQgYW5kIHRoaXMgdmFsdWUgaXMgaWdub3JlZC4gQWZ0ZXIgdGhlIFhSIHNlc3Npb24gZW5kcywgdGhlIG5ldyB2YWx1ZVxuICAgICAqIGlzIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm92IEhvcml6b250YWwgZmllbGQgb2YgdmlldywgKippbiBkZWdyZWVzKiouXG4gICAgICovXG4gICAgc2V0IGZvdihmb3YpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X3NldF9mb3YodGhpcy5faWQsIGZvdik7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgZW51bWVyYWJsZSgpXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJwcm9qZWN0aW9uTWF0cml4XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwibmVhclwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcImZhclwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcImZvdlwiLCBudWxsKTtcbi8qKlxuICogTmF0aXZlIGlucHV0IGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgaW5wdXQgY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5leHBvcnQgY2xhc3MgSW5wdXRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaW5wdXQnO1xuICAgIC8qKiBJbnB1dCBjb21wb25lbnQgdHlwZSAqL1xuICAgIGdldCBpbnB1dFR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfaW5wdXRfY29tcG9uZW50X2dldF90eXBlKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGlucHV0IGNvbXBvbmVudCB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtcyBOZXcgaW5wdXQgY29tcG9uZW50IHR5cGUuXG4gICAgICovXG4gICAgc2V0IGlucHV0VHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pbnB1dF9jb21wb25lbnRfc2V0X3R5cGUodGhpcy5faWQsIHR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXZWJYUiBEZXZpY2UgQVBJIGlucHV0IHNvdXJjZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnB1dCBjb21wb25lbnQsXG4gICAgICogaWYgdHlwZSB7QGxpbmsgSW5wdXRUeXBlLkNvbnRyb2xsZXJMZWZ0fSBvciB7QGxpbmsgSW5wdXRUeXBlLkNvbnRyb2xsZXJSaWdodH0uXG4gICAgICovXG4gICAgZ2V0IHhySW5wdXRTb3VyY2UoKSB7XG4gICAgICAgIGNvbnN0IHhyU2Vzc2lvbiA9IHRoaXMuX2VuZ2luZS54clNlc3Npb247XG4gICAgICAgIGlmICh4clNlc3Npb24pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlucHV0U291cmNlIG9mIHhyU2Vzc2lvbi5pbnB1dFNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0U291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogJ2xlZnQnLCAncmlnaHQnIG9yIGBudWxsYCBkZXBlbmRpbmcgb24gdGhlIHtAbGluayBJbnB1dENvbXBvbmVudCNpbnB1dFR5cGV9LlxuICAgICAqL1xuICAgIGdldCBoYW5kZWRuZXNzKCkge1xuICAgICAgICBjb25zdCBpbnB1dFR5cGUgPSB0aGlzLmlucHV0VHlwZTtcbiAgICAgICAgaWYgKGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuQ29udHJvbGxlclJpZ2h0IHx8XG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLlJheVJpZ2h0IHx8XG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkV5ZVJpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgICAgIGlmIChpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkNvbnRyb2xsZXJMZWZ0IHx8XG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLlJheUxlZnQgfHxcbiAgICAgICAgICAgIGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuRXllTGVmdClcbiAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIElucHV0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJpbnB1dFR5cGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBlbnVtZXJhYmxlKClcbl0sIElucHV0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ4cklucHV0U291cmNlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgZW51bWVyYWJsZSgpXG5dLCBJbnB1dENvbXBvbmVudC5wcm90b3R5cGUsIFwiaGFuZGVkbmVzc1wiLCBudWxsKTtcbi8qKlxuICogTmF0aXZlIGxpZ2h0IGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbGlnaHQgY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5leHBvcnQgY2xhc3MgTGlnaHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbGlnaHQnO1xuICAgIGdldENvbG9yKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2NvbG9yKHRoaXMuX2lkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsaWdodCBjb2xvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjIE5ldyBjb2xvciBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXRDb2xvcihjKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jb2xvcih0aGlzLl9pZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0cl0gPSBjWzBdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMV0gPSBjWzFdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSBjWzJdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSBsaWdodCBjb2xvci5cbiAgICAgKlxuICAgICAqIEBub3RlIFByZWZlciB0byB1c2Uge0BsaW5rIGdldENvbG9yfSBpbiBwZXJmb3JtYW5jZS1jcml0aWNhbCBjb2RlLlxuICAgICAqL1xuICAgIGdldCBjb2xvcigpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2NvbG9yKHRoaXMuX2lkKSwgMyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsaWdodCBjb2xvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjIENvbG9yIG9mIHRoZSBsaWdodCBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAbm90ZSBQcmVmZXIgdG8gdXNlIHtAbGluayBzZXRDb2xvcn0gaW4gcGVyZm9ybWFuY2UtY3JpdGljYWwgY29kZS5cbiAgICAgKi9cbiAgICBzZXQgY29sb3IoYykge1xuICAgICAgICB0aGlzLmNvbG9yLnNldChjKTtcbiAgICB9XG4gICAgLyoqIExpZ2h0IHR5cGUuICovXG4gICAgZ2V0IGxpZ2h0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3R5cGUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbGlnaHQgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaWdodFR5cGUgVHlwZSBvZiB0aGUgbGlnaHQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldCBsaWdodFR5cGUodCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF90eXBlKHRoaXMuX2lkLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlnaHQgaW50ZW5zaXR5LlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBpbnRlbnNpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9pbnRlbnNpdHkodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbGlnaHQgaW50ZW5zaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGludGVuc2l0eSBJbnRlbnNpdHkgb2YgdGhlIGxpZ2h0IGNvbXBvbmVudC5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgaW50ZW5zaXR5KGludGVuc2l0eSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9pbnRlbnNpdHkodGhpcy5faWQsIGludGVuc2l0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE91dGVyIGFuZ2xlIGZvciBzcG90IGxpZ2h0cywgaW4gZGVncmVlcy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJBbmdsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X291dGVyQW5nbGUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgb3V0ZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuZ2xlIE91dGVyIGFuZ2xlLCBpbiBkZWdyZWVzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIHNldCBvdXRlckFuZ2xlKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X291dGVyQW5nbGUodGhpcy5faWQsIGFuZ2xlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5uZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLCBpbiBkZWdyZWVzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBpbm5lckFuZ2xlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfaW5uZXJBbmdsZSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBpbm5lciBhbmdsZSBmb3Igc3BvdCBsaWdodHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYW5nbGUgSW5uZXIgYW5nbGUsIGluIGRlZ3JlZXMuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgc2V0IGlubmVyQW5nbGUoYW5nbGUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfaW5uZXJBbmdsZSh0aGlzLl9pZCwgYW5nbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBsaWdodCBjYXN0cyBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBzaGFkb3dzKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dzKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhlIGxpZ2h0IGNhc3RzIHNoYWRvd3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSBsaWdodCBjYXN0cyBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIHNldCBzaGFkb3dzKGIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93cyh0aGlzLl9pZCwgYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJhbmdlIGZvciBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBzaGFkb3dSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd1JhbmdlKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHJhbmdlIGZvciBzaGFkb3dzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJhbmdlIFJhbmdlIGZvciBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIHNldCBzaGFkb3dSYW5nZShyYW5nZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dSYW5nZSh0aGlzLl9pZCwgcmFuZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBzaGFkb3dCaWFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93Qmlhcyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBiaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJpYXMgQmlhcyBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgc2hhZG93QmlhcyhiaWFzKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd0JpYXModGhpcy5faWQsIGJpYXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3JtYWwgYmlhcyB2YWx1ZSBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgc2hhZG93Tm9ybWFsQmlhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd05vcm1hbEJpYXModGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbm9ybWFsIGJpYXMgdmFsdWUgZm9yIHNoYWRvd3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmlhcyBOb3JtYWwgYmlhcyBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgc2hhZG93Tm9ybWFsQmlhcyhiaWFzKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd05vcm1hbEJpYXModGhpcy5faWQsIGJpYXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXhlbCBzaXplIGZvciBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBzaGFkb3dUZXhlbFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dUZXhlbFNpemUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4ZWwgc2l6ZSBmb3Igc2hhZG93cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaXplIFRleGVsIHNpemUgZm9yIHNoYWRvd3MuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgc2V0IHNoYWRvd1RleGVsU2l6ZShzaXplKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd1RleGVsU2l6ZSh0aGlzLl9pZCwgc2l6ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhc2NhZGUgY291bnQgZm9yIHtAbGluayBMaWdodFR5cGUuU3VufSBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBjYXNjYWRlQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jYXNjYWRlQ291bnQodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY2FzY2FkZSBjb3VudCBmb3Ige0BsaW5rIExpZ2h0VHlwZS5TdW59IHNoYWRvd3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgQ2FzY2FkZSBjb3VudC5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgY2FzY2FkZUNvdW50KGNvdW50KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X2Nhc2NhZGVDb3VudCh0aGlzLl9pZCwgY291bnQpO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvclwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsaWdodFR5cGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW50ZW5zaXR5XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcIm91dGVyQW5nbGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5uZXJBbmdsZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd1JhbmdlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd0JpYXNcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93Tm9ybWFsQmlhc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dUZXhlbFNpemVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiY2FzY2FkZUNvdW50XCIsIG51bGwpO1xuLyoqXG4gKiBOYXRpdmUgYW5pbWF0aW9uIGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgYW5pbWF0aW9uIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdhbmltYXRpb24nO1xuICAgIC8qKlxuICAgICAqIFNldCBhbmltYXRpb24gdG8gcGxheS5cbiAgICAgKlxuICAgICAqIE1ha2Ugc3VyZSB0byB7QGxpbmsgQW5pbWF0aW9uI3JldGFyZ2V0fSB0aGUgYW5pbWF0aW9uIHRvIGFmZmVjdCB0aGVcbiAgICAgKiByaWdodCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuaW0gQW5pbWF0aW9uIHRvIHBsYXkuXG4gICAgICovXG4gICAgc2V0IGFuaW1hdGlvbihhbmltKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9hbmltYXRpb24odGhpcy5faWQsIGFuaW0gPyBhbmltLl9pbmRleCA6IDApO1xuICAgIH1cbiAgICAvKiogQW5pbWF0aW9uIHNldCBmb3IgdGhpcyBjb21wb25lbnQgKi9cbiAgICBnZXQgYW5pbWF0aW9uKCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9hbmltYXRpb24odGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBwbGF5IGNvdW50LiBTZXQgdG8gYDBgIHRvIGxvb3AgaW5kZWZpbml0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBsYXlDb3VudCBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBhbmltYXRpb24uXG4gICAgICovXG4gICAgc2V0IHBsYXlDb3VudChwbGF5Q291bnQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc2V0X3BsYXlDb3VudCh0aGlzLl9pZCwgcGxheUNvdW50KTtcbiAgICB9XG4gICAgLyoqIE51bWJlciBvZiB0aW1lcyB0aGUgYW5pbWF0aW9uIGlzIHBsYXllZC4gKi9cbiAgICBnZXQgcGxheUNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfZ2V0X3BsYXlDb3VudCh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBzcGVlZC4gU2V0IHRvIG5lZ2F0aXZlIHZhbHVlcyB0byBydW4gdGhlIGFuaW1hdGlvbiBiYWNrd2FyZHMuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHNwZWVkIGhhcyBhbiBpbW1lZGlhdGUgZWZmZWN0IGZvciB0aGUgY3VycmVudCBmcmFtZSdzIHVwZGF0ZVxuICAgICAqIGFuZCB3aWxsIGNvbnRpbnVlIHdpdGggdGhlIHNwZWVkIGZyb20gdGhlIGN1cnJlbnQgcG9pbnQgaW4gdGhlIGFuaW1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzcGVlZCBOZXcgc3BlZWQgYXQgd2hpY2ggdG8gcGxheSB0aGUgYW5pbWF0aW9uLlxuICAgICAqIEBzaW5jZSAwLjguMTBcbiAgICAgKi9cbiAgICBzZXQgc3BlZWQoc3BlZWQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc2V0X3NwZWVkKHRoaXMuX2lkLCBzcGVlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNwZWVkIGZhY3RvciBhdCB3aGljaCB0aGUgYW5pbWF0aW9uIGlzIHBsYXllZC5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguMTBcbiAgICAgKi9cbiAgICBnZXQgc3BlZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9nZXRfc3BlZWQodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKiogQ3VycmVudCBwbGF5aW5nIHN0YXRlIG9mIHRoZSBhbmltYXRpb24gKi9cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zdGF0ZSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBsYXkgYW5pbWF0aW9uLlxuICAgICAqXG4gICAgICogSWYgdGhlIGFuaW1hdGlvbiBpcyBjdXJyZW50bHkgcGF1c2VkLCByZXN1bWVzIGZyb20gdGhhdCBwb3NpdGlvbi4gSWYgdGhlXG4gICAgICogYW5pbWF0aW9uIGlzIGFscmVhZHkgcGxheWluZywgZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogVG8gcmVzdGFydCB0aGUgYW5pbWF0aW9uLCB7QGxpbmsgQW5pbWF0aW9uQ29tcG9uZW50I3N0b3B9IGl0IGZpcnN0LlxuICAgICAqL1xuICAgIHBsYXkoKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3BsYXkodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKiogU3RvcCBhbmltYXRpb24uICovXG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc3RvcCh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKiBQYXVzZSBhbmltYXRpb24uICovXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3BhdXNlKHRoaXMuX2lkKTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvblwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwicGxheUNvdW50XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzcGVlZFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGVudW1lcmFibGUoKVxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGF0ZVwiLCBudWxsKTtcbi8qKlxuICogTmF0aXZlIG1lc2ggY29tcG9uZW50LlxuICpcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBtZXNoIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1lc2hDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbWVzaCc7XG4gICAgLyoqXG4gICAgICogU2V0IG1hdGVyaWFsIHRvIHJlbmRlciB0aGUgbWVzaCB3aXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1hdGVyaWFsIE1hdGVyaWFsIHRvIHJlbmRlciB0aGUgbWVzaCB3aXRoLlxuICAgICAqL1xuICAgIHNldCBtYXRlcmlhbChtYXRlcmlhbCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X21hdGVyaWFsKHRoaXMuX2lkLCBtYXRlcmlhbCA/IG1hdGVyaWFsLl9pbmRleCA6IDApO1xuICAgIH1cbiAgICAvKiogTWF0ZXJpYWwgdXNlZCB0byByZW5kZXIgdGhlIG1lc2guICovXG4gICAgZ2V0IG1hdGVyaWFsKCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9nZXRfbWF0ZXJpYWwodGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IE1hdGVyaWFsKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqIE1lc2ggcmVuZGVyZWQgYnkgdGhpcyBjb21wb25lbnQuICovXG4gICAgZ2V0IG1lc2goKSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X2dldF9tZXNoKHRoaXMuX2lkKTtcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNZXNoKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG1lc2ggdG8gcmVuZGVyZWQgd2l0aCB0aGlzIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXNoIE1lc2ggcmVuZGVyZWQgYnkgdGhpcyBjb21wb25lbnQuXG4gICAgICovXG4gICAgc2V0IG1lc2gobWVzaCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X21lc2godGhpcy5faWQsIG1lc2ggPyBtZXNoLl9pbmRleCA6IDApO1xuICAgIH1cbiAgICAvKiogU2tpbiBmb3IgdGhpcyBtZXNoIGNvbXBvbmVudC4gKi9cbiAgICBnZXQgc2tpbigpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfZ2V0X3NraW4odGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IFNraW4odGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgc2tpbiB0byB0cmFuc2Zvcm0gdGhpcyBtZXNoIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBza2luIFNraW4gdG8gdXNlIGZvciByZW5kZXJpbmcgc2tpbm5lZCBtZXNoZXMuXG4gICAgICovXG4gICAgc2V0IHNraW4oc2tpbikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X3NraW4odGhpcy5faWQsIHNraW4gPyBza2luLl9pbmRleCA6IDApO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIE1lc2hDb21wb25lbnQucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTWVzaENvbXBvbmVudC5wcm90b3R5cGUsIFwibWVzaFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIE1lc2hDb21wb25lbnQucHJvdG90eXBlLCBcInNraW5cIiwgbnVsbCk7XG4vKipcbiAqIEVudW0gZm9yIFBoeXNpY3MgYXhlcyBsb2NraW5nXG4gKlxuICogU2VlIHtAbGluayBQaHlzWENvbXBvbmVudC5hbmd1bGFyTG9ja0F4aXN9IGFuZCB7QGxpbmsgUGh5c1hDb21wb25lbnQubGluZWFyTG9ja0F4aXN9LlxuICovXG5leHBvcnQgdmFyIExvY2tBeGlzO1xuKGZ1bmN0aW9uIChMb2NrQXhpcykge1xuICAgIC8qKlxuICAgICAqIE5vIGF4aXMgc2VsZWN0ZWQuXG4gICAgICovXG4gICAgTG9ja0F4aXNbTG9ja0F4aXNbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiAqKlggYXhpcyoqOlxuICAgICAqL1xuICAgIExvY2tBeGlzW0xvY2tBeGlzW1wiWFwiXSA9IDFdID0gXCJYXCI7XG4gICAgLyoqXG4gICAgICogKipZIGF4aXMqKjpcbiAgICAgKi9cbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIllcIl0gPSAyXSA9IFwiWVwiO1xuICAgIC8qKlxuICAgICAqICoqWiBheGlzKio6XG4gICAgICovXG4gICAgTG9ja0F4aXNbTG9ja0F4aXNbXCJaXCJdID0gNF0gPSBcIlpcIjtcbn0pKExvY2tBeGlzIHx8IChMb2NrQXhpcyA9IHt9KSk7XG4vKipcbiAqIE5hdGl2ZSBwaHlzeCByaWdpZCBib2R5IGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbWVzaCBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBPbmx5IGF2YWlsYWJsZSB3aGVuIHVzaW5nIHBoeXN4IGVuYWJsZWQgcnVudGltZSwgc2VlIFwiUHJvamVjdCBTZXR0aW5ncyA+IFJ1bnRpbWVcIi5cbiAqL1xuZXhwb3J0IGNsYXNzIFBoeXNYQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3BoeXN4JztcbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMgc3RhdGljLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGlzIHByb3BlcnR5IG9ubHkgdGFrZXMgZWZmZWN0IG9uY2UgdGhlIGNvbXBvbmVudFxuICAgICAqIHN3aXRjaGVzIGZyb20gaW5hY3RpdmUgdG8gYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSBzaG91bGQgYmUgc3RhdGljLlxuICAgICAqL1xuICAgIHNldCBzdGF0aWMoYikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zdGF0aWModGhpcy5faWQsIGIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBpcyBzdGF0aWMuXG4gICAgICpcbiAgICAgKiBUaGlzIHByb3BlcnR5IHJldHVybnMgd2hldGhlciB0aGUgcmlnaWQgYm9keSBpcyAqZWZmZWN0aXZlbHkqXG4gICAgICogc3RhdGljLiBJZiBzdGF0aWMgcHJvcGVydHkgd2FzIHNldCB3aGlsZSB0aGUgcmlnaWQgYm9keSB3YXNcbiAgICAgKiBhY3RpdmUsIGl0IHdpbGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZSByaWdpZCBib2R5IGlzIHNldFxuICAgICAqIGluYWN0aXZlIGFuZCBhY3RpdmUgYWdhaW4uIFVudGlsIHRoZSBjb21wb25lbnQgaXMgc2V0IGluYWN0aXZlLFxuICAgICAqIHRoaXMgZ2V0dGVyIHdpbGwgcmV0dXJuIHdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgaXMgYWN0dWFsbHlcbiAgICAgKiBzdGF0aWMuXG4gICAgICovXG4gICAgZ2V0IHN0YXRpYygpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc3RhdGljKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5IGlzIGtpbmVtYXRpYy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgc2hvdWxkIGJlIGtpbmVtYXRpYy5cbiAgICAgKi9cbiAgICBzZXQga2luZW1hdGljKGIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfa2luZW1hdGljKHRoaXMuX2lkLCBiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMga2luZW1hdGljLlxuICAgICAqL1xuICAgIGdldCBraW5lbWF0aWMoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2tpbmVtYXRpYyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSdzIGdyYXZpdHkgaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkncyBncmF2aXR5IHNob3VsZCBiZSBlbmFibGVkLlxuICAgICAqL1xuICAgIHNldCBncmF2aXR5KGIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZ3Jhdml0eSh0aGlzLl9pZCwgYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5J3MgZ3Jhdml0eSBmbGFnIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgZ2V0IGdyYXZpdHkoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2dyYXZpdHkodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBzaW11bGF0ZSBmbGFnIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSByaWdpZCBib2R5J3Mgc2ltdWxhdGUgZmxhZyBzaG91bGQgYmUgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBzZXQgc2ltdWxhdGUoYikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zaW11bGF0ZSh0aGlzLl9pZCwgYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5J3Mgc2ltdWxhdGUgZmxhZyBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGdldCBzaW11bGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2ltdWxhdGUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0byBhbGxvdyBzaW11bGF0aW9uIG9mIHRoaXMgcmlnaWQgYm9keS5cbiAgICAgKlxuICAgICAqIHtAbGluayBhbGxvd1NpbXVsYXRpb259IGFuZCB7QGxpbmsgdHJpZ2dlcn0gY2FuIG5vdCBiZSBlbmFibGVkIGF0IHRoZVxuICAgICAqIHNhbWUgdGltZS4gRW5hYmxpbmcge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gd2hpbGUge0BsaW5rIHRyaWdnZXJ9IGlzIGVuYWJsZWRcbiAgICAgKiB3aWxsIGRpc2FibGUge0BsaW5rIHRyaWdnZXJ9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0byBhbGxvdyBzaW11bGF0aW9uIG9mIHRoaXMgcmlnaWQgYm9keS5cbiAgICAgKi9cbiAgICBzZXQgYWxsb3dTaW11bGF0aW9uKGIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYWxsb3dTaW11bGF0aW9uKHRoaXMuX2lkLCBiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBhbGxvdyBzaW11bGF0aW9uIG9mIHRoaXMgcmlnaWQgYm9keS5cbiAgICAgKi9cbiAgICBnZXQgYWxsb3dTaW11bGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbGxvd1NpbXVsYXRpb24odGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgbWF5IGJlIHF1ZXJpZWQgaW4gcmF5IGNhc3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgbWF5IGJlIHF1ZXJpZWQgaW4gcmF5IGNhc3RzLlxuICAgICAqL1xuICAgIHNldCBhbGxvd1F1ZXJ5KGIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYWxsb3dRdWVyeSh0aGlzLl9pZCwgYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5IG1heSBiZSBxdWVyaWVkIGluIHJheSBjYXN0cy5cbiAgICAgKi9cbiAgICBnZXQgYWxsb3dRdWVyeSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYWxsb3dRdWVyeSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcGh5c2ljcyBib2R5IGlzIGEgdHJpZ2dlci5cbiAgICAgKlxuICAgICAqIHtAbGluayBhbGxvd1NpbXVsYXRpb259IGFuZCB7QGxpbmsgdHJpZ2dlcn0gY2FuIG5vdCBiZSBlbmFibGVkIGF0IHRoZVxuICAgICAqIHNhbWUgdGltZS4gRW5hYmxpbmcgdHJpZ2dlciB3aGlsZSB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufSBpcyBlbmFibGVkLFxuICAgICAqIHdpbGwgZGlzYWJsZSB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhpcyBwaHlzaWNzIGJvZHkgaXMgYSB0cmlnZ2VyLlxuICAgICAqL1xuICAgIHNldCB0cmlnZ2VyKGIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfdHJpZ2dlcih0aGlzLl9pZCwgYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBwaHlzaWNzIGJvZHkgaXMgYSB0cmlnZ2VyLlxuICAgICAqL1xuICAgIGdldCB0cmlnZ2VyKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF90cmlnZ2VyKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzaGFwZSBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzIE5ldyBzaGFwZS5cbiAgICAgKiBAc2luY2UgMC44LjVcbiAgICAgKi9cbiAgICBzZXQgc2hhcGUocykge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zaGFwZSh0aGlzLl9pZCwgcyk7XG4gICAgfVxuICAgIC8qKiBUaGUgc2hhcGUgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uICovXG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2hhcGUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYWRkaXRpb25hbCBkYXRhIGZvciB0aGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBSZXRyaWV2ZWQgb25seSBmcm9tIHtAbGluayBQaHlzWENvbXBvbmVudCNzaGFwZURhdGF9LlxuICAgICAqIEBzaW5jZSAwLjguMTBcbiAgICAgKi9cbiAgICBzZXQgc2hhcGVEYXRhKGQpIHtcbiAgICAgICAgaWYgKGQgPT0gbnVsbCB8fCAhaXNNZXNoU2hhcGUodGhpcy5zaGFwZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3NoYXBlX2RhdGEodGhpcy5faWQsIGQuaW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRpdGlvbmFsIGRhdGEgZm9yIHRoZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIGBudWxsYCBmb3Ige0BsaW5rIFNoYXBlfSB2YWx1ZXM6IGBOb25lYCwgYFNwaGVyZWAsIGBDYXBzdWxlYCwgYEJveGAsIGBQbGFuZWAuXG4gICAgICogYHtpbmRleDogbn1gIGZvciBgVHJpYW5nbGVNZXNoYCBhbmQgYENvbnZleEh1bGxgLlxuICAgICAqXG4gICAgICogVGhpcyBkYXRhIGlzIGN1cnJlbnRseSBvbmx5IGZvciBwYXNzaW5nIG9udG8gb3IgY3JlYXRpbmcgb3RoZXIge0BsaW5rIFBoeXNYQ29tcG9uZW50fS5cbiAgICAgKiBAc2luY2UgMC44LjEwXG4gICAgICovXG4gICAgZ2V0IHNoYXBlRGF0YSgpIHtcbiAgICAgICAgaWYgKCFpc01lc2hTaGFwZSh0aGlzLnNoYXBlKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5kZXg6IHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NoYXBlX2RhdGEodGhpcy5faWQpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNoYXBlIGV4dGVudHMgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZSBOZXcgZXh0ZW50cyBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEBzaW5jZSAwLjguNVxuICAgICAqL1xuICAgIHNldCBleHRlbnRzKGUpIHtcbiAgICAgICAgdGhpcy5leHRlbnRzLnNldChlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIGV4dGVudHMgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IGV4dGVudHMoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9leHRlbnRzKHRoaXMuX2lkKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgcHRyLCAzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHN0YXRpY0ZyaWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBzdGF0aWNGcmljdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3N0YXRpY0ZyaWN0aW9uKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHN0YXRpY0ZyaWN0aW9uLlxuICAgICAqIEBwYXJhbSB2IE5ldyBzdGF0aWNGcmljdGlvbi5cbiAgICAgKi9cbiAgICBzZXQgc3RhdGljRnJpY3Rpb24odikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zdGF0aWNGcmljdGlvbih0aGlzLl9pZCwgdik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBkeW5hbWljRnJpY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IGR5bmFtaWNGcmljdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2R5bmFtaWNGcmljdGlvbih0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBkeW5hbWljRnJpY3Rpb25cbiAgICAgKiBAcGFyYW0gdiBOZXcgZHluYW1pY0RhbXBpbmcuXG4gICAgICovXG4gICAgc2V0IGR5bmFtaWNGcmljdGlvbih2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2R5bmFtaWNGcmljdGlvbih0aGlzLl9pZCwgdik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBib3VuY2luZXNzLlxuICAgICAqIEBzaW5jZSAwLjkuMFxuICAgICAqL1xuICAgIGdldCBib3VuY2luZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYm91bmNpbmVzcyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBib3VuY2luZXNzLlxuICAgICAqIEBwYXJhbSB2IE5ldyBib3VuY2luZXNzLlxuICAgICAqIEBzaW5jZSAwLjkuMFxuICAgICAqL1xuICAgIHNldCBib3VuY2luZXNzKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYm91bmNpbmVzcyh0aGlzLl9pZCwgdik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBsaW5lYXJEYW1waW5nL1xuICAgICAqL1xuICAgIGdldCBsaW5lYXJEYW1waW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyRGFtcGluZyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsaW5lYXJEYW1waW5nLlxuICAgICAqIEBwYXJhbSB2IE5ldyBsaW5lYXJEYW1waW5nLlxuICAgICAqL1xuICAgIHNldCBsaW5lYXJEYW1waW5nKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbGluZWFyRGFtcGluZyh0aGlzLl9pZCwgdik7XG4gICAgfVxuICAgIC8qKiBHZXQgYW5ndWxhckRhbXBpbmcuICovXG4gICAgZ2V0IGFuZ3VsYXJEYW1waW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYW5ndWxhckRhbXBpbmcodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYW5ndWxhckRhbXBpbmcuXG4gICAgICogQHBhcmFtIHYgTmV3IGFuZ3VsYXJEYW1waW5nLlxuICAgICAqL1xuICAgIHNldCBhbmd1bGFyRGFtcGluZyh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJEYW1waW5nKHRoaXMuX2lkLCB2KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGxpbmVhciB2ZWxvY2l0eS5cbiAgICAgKlxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIlZlbG9jaXR5XCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjdmVsb2NpdHkpXG4gICAgICpcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgbGluZWFyIHZlbG9jaXR5LlxuICAgICAqL1xuICAgIHNldCBsaW5lYXJWZWxvY2l0eSh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2xpbmVhclZlbG9jaXR5KHRoaXMuX2lkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICB9XG4gICAgLyoqIExpbmVhciB2ZWxvY2l0eSBvciBgWzAsIDAsIDBdYCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuICovXG4gICAgZ2V0IGxpbmVhclZlbG9jaXR5KCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyVmVsb2NpdHkodGhpcy5faWQsIHdhc20uX3RlbXBNZW0pO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCAzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGFuZ3VsYXIgdmVsb2NpdHlcbiAgICAgKlxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIlZlbG9jaXR5XCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjdmVsb2NpdHkpXG4gICAgICpcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgYW5ndWxhciB2ZWxvY2l0eVxuICAgICAqL1xuICAgIHNldCBhbmd1bGFyVmVsb2NpdHkodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbmd1bGFyVmVsb2NpdHkodGhpcy5faWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgIH1cbiAgICAvKiogQW5ndWxhciB2ZWxvY2l0eSBvciBgWzAsIDAsIDBdYCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuICovXG4gICAgZ2V0IGFuZ3VsYXJWZWxvY2l0eSgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FuZ3VsYXJWZWxvY2l0eSh0aGlzLl9pZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbXBvbmVudHMgZ3JvdXBzIG1hc2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmxhZ3MgTmV3IGZsYWdzIHRoYXQgbmVlZCB0byBiZSBzZXQuXG4gICAgICovXG4gICAgc2V0IGdyb3Vwc01hc2soZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZ3JvdXBzTWFzayh0aGlzLl9pZCwgZmxhZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbXBvbmVudHMgZ3JvdXBzIG1hc2sgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBFYWNoIGJpdCByZXByZXNlbnRzIG1lbWJlcnNoaXAgdG8gZ3JvdXAsIHNlZSBleGFtcGxlLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBBc3NpZ24gYyB0byBncm91cCAyXG4gICAgICogYy5ncm91cHNNYXNrID0gKDEgPDwgMik7XG4gICAgICpcbiAgICAgKiAvLyBBc3NpZ24gYyB0byBncm91cCAwXG4gICAgICogYy5ncm91cHNNYXNrICA9ICgxIDw8IDApO1xuICAgICAqXG4gICAgICogLy8gQXNzaWduIGMgdG8gZ3JvdXAgMCBhbmQgMlxuICAgICAqIGMuZ3JvdXBzTWFzayA9ICgxIDw8IDApIHwgKDEgPDwgMik7XG4gICAgICpcbiAgICAgKiAoYy5ncm91cHNNYXNrICYgKDEgPDwgMikpICE9IDA7IC8vIHRydWVcbiAgICAgKiAoYy5ncm91cHNNYXNrICYgKDEgPDwgNykpICE9IDA7IC8vIGZhbHNlXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0IGdyb3Vwc01hc2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ncm91cHNNYXNrKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb21wb25lbnRzIGJsb2NrcyBtYXNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZsYWdzIE5ldyBmbGFncyB0aGF0IG5lZWQgdG8gYmUgc2V0LlxuICAgICAqL1xuICAgIHNldCBibG9ja3NNYXNrKGZsYWdzKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2Jsb2Nrc01hc2sodGhpcy5faWQsIGZsYWdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb21wb25lbnRzIGJsb2NrcyBtYXNrIGZsYWdzLlxuICAgICAqXG4gICAgICogRWFjaCBiaXQgcmVwcmVzZW50cyBtZW1iZXJzaGlwIHRvIHRoZSBibG9jaywgc2VlIGV4YW1wbGUuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIEJsb2NrIG92ZXJsYXAgd2l0aCBhbnkgb2JqZWN0cyBpbiBncm91cCAyXG4gICAgICogYy5ibG9ja3NNYXNrID0gKDEgPDwgMik7XG4gICAgICpcbiAgICAgKiAvLyBCbG9jayBvdmVybGFwIHdpdGggYW55IG9iamVjdHMgaW4gZ3JvdXAgMFxuICAgICAqIGMuYmxvY2tzTWFzayAgPSAoMSA8PCAwKVxuICAgICAqXG4gICAgICogLy8gQmxvY2sgb3ZlcmxhcCB3aXRoIGFueSBvYmplY3RzIGluIGdyb3VwIDAgYW5kIDJcbiAgICAgKiBjLmJsb2Nrc01hc2sgPSAoMSA8PCAwKSB8ICgxIDw8IDIpO1xuICAgICAqXG4gICAgICogKGMuYmxvY2tzTWFzayAmICgxIDw8IDIpKSAhPSAwOyAvLyB0cnVlXG4gICAgICogKGMuYmxvY2tzTWFzayAmICgxIDw8IDcpKSAhPSAwOyAvLyBmYWxzZVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGdldCBibG9ja3NNYXNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYmxvY2tzTWFzayh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBheGVzIHRvIGxvY2sgZm9yIGxpbmVhciB2ZWxvY2l0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsb2NrIFRoZSBBeGlzIHRoYXQgbmVlZHMgdG8gYmUgc2V0LlxuICAgICAqXG4gICAgICogQ29tYmluZSBmbGFncyB3aXRoIEJpdHdpc2UgT1IuXG4gICAgICogYGBganNcbiAgICAgKiBib2R5LmxpbmVhckxvY2tBeGlzID0gTG9ja0F4aXMuWCB8IExvY2tBeGlzLlk7IC8vIHggYW5kIHkgc2V0XG4gICAgICogYm9keS5saW5lYXJMb2NrQXhpcyA9IExvY2tBeGlzLlg7IC8vIHkgdW5zZXRcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgaGFzIG5vIGVmZmVjdCBpZiB0aGUgY29tcG9uZW50IGlzIHN0YXRpYy5cbiAgICAgKi9cbiAgICBzZXQgbGluZWFyTG9ja0F4aXMobG9jaykge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9saW5lYXJMb2NrQXhpcyh0aGlzLl9pZCwgbG9jayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGluZWFyIGxvY2sgYXhlcyBmbGFncy5cbiAgICAgKlxuICAgICAqIFRvIGdldCB0aGUgc3RhdGUgb2YgYSBzcGVjaWZpYyBmbGFnLCBCaXR3aXNlIEFORCB3aXRoIHRoZSBMb2NrQXhpcyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGlmKGJvZHkubGluZWFyTG9ja0F4aXMgJiBMb2NrQXhpcy5ZKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKFwiVGhlIFkgZmxhZyB3YXMgc2V0IVwiKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGF4ZXMgdGhhdCBhcmUgY3VycmVudGx5IGxvY2tlZCBmb3IgbGluZWFyIG1vdmVtZW50LlxuICAgICAqL1xuICAgIGdldCBsaW5lYXJMb2NrQXhpcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2xpbmVhckxvY2tBeGlzKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGF4ZXMgdG8gbG9jayBmb3IgYW5ndWxhciB2ZWxvY2l0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsb2NrIFRoZSBBeGlzIHRoYXQgbmVlZHMgdG8gYmUgc2V0LlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBib2R5LmFuZ3VsYXJMb2NrQXhpcyA9IExvY2tBeGlzLlggfCBMb2NrQXhpcy5ZOyAvLyB4IGFuZCB5IHNldFxuICAgICAqIGJvZHkuYW5ndWxhckxvY2tBeGlzID0gTG9ja0F4aXMuWDsgLy8geSB1bnNldFxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBoYXMgbm8gZWZmZWN0IGlmIHRoZSBjb21wb25lbnQgaXMgc3RhdGljLlxuICAgICAqL1xuICAgIHNldCBhbmd1bGFyTG9ja0F4aXMobG9jaykge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbmd1bGFyTG9ja0F4aXModGhpcy5faWQsIGxvY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuZ3VsYXIgbG9jayBheGVzIGZsYWdzLlxuICAgICAqXG4gICAgICogVG8gZ2V0IHRoZSBzdGF0ZSBvZiBhIHNwZWNpZmljIGZsYWcsIEJpdHdpc2UgQU5EIHdpdGggdGhlIExvY2tBeGlzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaWYoYm9keS5hbmd1bGFyTG9ja0F4aXMgJiBMb2NrQXhpcy5ZKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKFwiVGhlIFkgZmxhZyB3YXMgc2V0IVwiKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGF4ZXMgdGhhdCBhcmUgY3VycmVudGx5IGxvY2tlZCBmb3IgYW5ndWxhciBtb3ZlbWVudC5cbiAgICAgKi9cbiAgICBnZXQgYW5ndWxhckxvY2tBeGlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYW5ndWxhckxvY2tBeGlzKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG1hc3MuXG4gICAgICpcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJNYXNzIFByb3BlcnRpZXNcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCNtYXNzLXByb3BlcnRpZXMpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbSBOZXcgbWFzcy5cbiAgICAgKi9cbiAgICBzZXQgbWFzcyhtKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X21hc3ModGhpcy5faWQsIG0pO1xuICAgIH1cbiAgICAvKiogTWFzcyAqL1xuICAgIGdldCBtYXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbWFzcyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBtYXNzIHNwYWNlIGludGVyaWEgdGVuc29yLlxuICAgICAqXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiTWFzcyBQcm9wZXJ0aWVzXCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjbWFzcy1wcm9wZXJ0aWVzKVxuICAgICAqXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHYgTmV3IG1hc3Mgc3BhY2UgaW50ZXJhdGlhIHRlbnNvci5cbiAgICAgKi9cbiAgICBzZXQgbWFzc1NwYWNlSW50ZXJpYVRlbnNvcih2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X21hc3NTcGFjZUluZXJ0aWFUZW5zb3IodGhpcy5faWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSBhIGZvcmNlLlxuICAgICAqXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiQXBwbHlpbmcgRm9yY2VzIGFuZCBUb3JxdWVzXCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjYXBwbHlpbmctZm9yY2VzLWFuZC10b3JxdWVzKVxuICAgICAqXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGYgRm9yY2UgdmVjdG9yLlxuICAgICAqIEBwYXJhbSBtIEZvcmNlIG1vZGUsIHNlZSB7QGxpbmsgRm9yY2VNb2RlfSwgZGVmYXVsdCBgRm9yY2VgLlxuICAgICAqIEBwYXJhbSBsb2NhbEZvcmNlIFdoZXRoZXIgdGhlIGZvcmNlIHZlY3RvciBpcyBpbiBsb2NhbCBzcGFjZSwgZGVmYXVsdCBgZmFsc2VgLlxuICAgICAqIEBwYXJhbSBwIFBvc2l0aW9uIHRvIGFwcGx5IGZvcmNlIGF0LCBkZWZhdWx0IGlzIGNlbnRlciBvZiBtYXNzLlxuICAgICAqIEBwYXJhbSBsb2NhbCBXaGV0aGVyIHBvc2l0aW9uIGlzIGluIGxvY2FsIHNwYWNlLCBkZWZhdWx0IGBmYWxzZWAuXG4gICAgICovXG4gICAgYWRkRm9yY2UoZiwgbSA9IEZvcmNlTW9kZS5Gb3JjZSwgbG9jYWxGb3JjZSA9IGZhbHNlLCBwLCBsb2NhbCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgaWYgKCFwKSB7XG4gICAgICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfYWRkRm9yY2UodGhpcy5faWQsIGZbMF0sIGZbMV0sIGZbMl0sIG0sIGxvY2FsRm9yY2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRGb3JjZUF0KHRoaXMuX2lkLCBmWzBdLCBmWzFdLCBmWzJdLCBtLCBsb2NhbEZvcmNlLCBwWzBdLCBwWzFdLCBwWzJdLCBsb2NhbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRvcnF1ZS5cbiAgICAgKlxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIkFwcGx5aW5nIEZvcmNlcyBhbmQgVG9ycXVlc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI2FwcGx5aW5nLWZvcmNlcy1hbmQtdG9ycXVlcylcbiAgICAgKlxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmIEZvcmNlIHZlY3Rvci5cbiAgICAgKiBAcGFyYW0gbSBGb3JjZSBtb2RlLCBzZWUge0BsaW5rIEZvcmNlTW9kZX0sIGRlZmF1bHQgYEZvcmNlYC5cbiAgICAgKi9cbiAgICBhZGRUb3JxdWUoZiwgbSA9IEZvcmNlTW9kZS5Gb3JjZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2FkZFRvcnF1ZSh0aGlzLl9pZCwgZlswXSwgZlsxXSwgZlsyXSwgbSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBvbiBjb2xsaXNpb24gY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgcmlnaWQgYm9keSAodW4pY29sbGlkZXMgd2l0aCBhbnkgb3RoZXIuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICBsZXQgcmlnaWRCb2R5ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdwaHlzeCcpO1xuICAgICAqICByaWdpZEJvZHkub25Db2xsaXNpb24oZnVuY3Rpb24odHlwZSwgb3RoZXIpIHtcbiAgICAgKiAgICAgIC8vIElnbm9yZSB1bmNvbGxpZGVzXG4gICAgICogICAgICBpZih0eXBlID09IENvbGxpc2lvbkV2ZW50VHlwZS5Ub3VjaExvc3QpIHJldHVybjtcbiAgICAgKlxuICAgICAqICAgICAgLy8gVGFrZSBkYW1hZ2Ugb24gY29sbGlzaW9uIHdpdGggZW5lbWllc1xuICAgICAqICAgICAgaWYob3RoZXIub2JqZWN0Lm5hbWUuc3RhcnRzV2l0aChcImVuZW15LVwiKSkge1xuICAgICAqICAgICAgICAgIHRoaXMuYXBwbHlEYW1hZ2UoMTApO1xuICAgICAqICAgICAgfVxuICAgICAqICB9LmJpbmQodGhpcykpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybnMgSWQgb2YgdGhlIG5ldyBjYWxsYmFjayBmb3IgdXNlIHdpdGgge0BsaW5rIFBoeXNYQ29tcG9uZW50I3JlbW92ZUNvbGxpc2lvbkNhbGxiYWNrfS5cbiAgICAgKi9cbiAgICBvbkNvbGxpc2lvbihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbkNvbGxpc2lvbldpdGgodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgZmlsdGVyZWQgb24gY29sbGlzaW9uIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIG90aGVyQ29tcCBDb21wb25lbnQgZm9yIHdoaWNoIGNhbGxiYWNrcyB3aWxsXG4gICAgICogICAgICAgIGJlIHRyaWdnZXJlZC4gSWYgeW91IHBhc3MgdGhpcyBjb21wb25lbnQsIHRoZSBtZXRob2QgaXMgZXF1aXZhbGVudCB0by5cbiAgICAgKiAgICAgICAge0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9ufS5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgcmlnaWQgYm9keVxuICAgICAqICAgICAgICAodW4pY29sbGlkZXMgd2l0aCBgb3RoZXJDb21wYC5cbiAgICAgKiBAcmV0dXJucyBJZCBvZiB0aGUgbmV3IGNhbGxiYWNrIGZvciB1c2Ugd2l0aCB7QGxpbmsgUGh5c1hDb21wb25lbnQjcmVtb3ZlQ29sbGlzaW9uQ2FsbGJhY2t9LlxuICAgICAqL1xuICAgIG9uQ29sbGlzaW9uV2l0aChvdGhlckNvbXAsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHBoeXNpY3MgPSB0aGlzLl9lbmdpbmUucGh5c2ljcztcbiAgICAgICAgcGh5c2ljcy5fY2FsbGJhY2tzW3RoaXMuX2lkXSA9IHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0gfHwgW107XG4gICAgICAgIHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2FkZENhbGxiYWNrKHRoaXMuX2lkLCBvdGhlckNvbXAuX2lkIHx8IHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgY29sbGlzaW9uIGNhbGxiYWNrIGFkZGVkIHdpdGgge0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9ufSBvciB7QGxpbmsgUGh5c1hDb21wb25lbnQjb25Db2xsaXNpb25XaXRofS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsYmFja0lkIENhbGxiYWNrIGlkIGFzIHJldHVybmVkIGJ5IHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0gb3Ige0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9uV2l0aH0uXG4gICAgICogQHRocm93cyBXaGVuIHRoZSBjYWxsYmFjayBkb2VzIG5vdCBiZWxvbmcgdG8gdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAdGhyb3dzIFdoZW4gdGhlIGNhbGxiYWNrIGRvZXMgbm90IGV4aXN0LlxuICAgICAqL1xuICAgIHJlbW92ZUNvbGxpc2lvbkNhbGxiYWNrKGNhbGxiYWNrSWQpIHtcbiAgICAgICAgY29uc3QgcGh5c2ljcyA9IHRoaXMuX2VuZ2luZS5waHlzaWNzO1xuICAgICAgICBjb25zdCByID0gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9yZW1vdmVDYWxsYmFjayh0aGlzLl9pZCwgY2FsbGJhY2tJZCk7XG4gICAgICAgIC8qIHIgaXMgdGhlIGFtb3VudCBvZiBvYmplY3QgdG8gcmVtb3ZlIGZyb20gdGhlIGVuZCBvZiB0aGVcbiAgICAgICAgICogY2FsbGJhY2tzIGFycmF5IGZvciB0aGlzIG9iamVjdCAqL1xuICAgICAgICBpZiAocilcbiAgICAgICAgICAgIHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0uc3BsaWNlKC1yKTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGljXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImtpbmVtYXRpY1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmF2aXR5XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInNpbXVsYXRlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFsbG93U2ltdWxhdGlvblwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbGxvd1F1ZXJ5XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInRyaWdnZXJcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhcGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhcGVEYXRhXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImV4dGVudHNcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGljRnJpY3Rpb25cIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZHluYW1pY0ZyaWN0aW9uXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImJvdW5jaW5lc3NcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZWFyRGFtcGluZ1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmd1bGFyRGFtcGluZ1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsaW5lYXJWZWxvY2l0eVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmd1bGFyVmVsb2NpdHlcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JvdXBzTWFza1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJibG9ja3NNYXNrXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVhckxvY2tBeGlzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFuZ3VsYXJMb2NrQXhpc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXNzXCIsIG51bGwpO1xuLyoqXG4gKiBBY2Nlc3MgdG8gdGhlIHBoeXNpY3Mgc2NlbmVcbiAqL1xuZXhwb3J0IGNsYXNzIFBoeXNpY3Mge1xuICAgIC8qKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiBUaGlzIGlzIHB1YmxpYyB0byBlbXVsYXRlIGEgYGZyaWVuZGAgYWNjZXNzb3IuXG4gICAgICovXG4gICAgX2NhbGxiYWNrcztcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UgKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKiBSYXkgSGl0ICovXG4gICAgX3JheUhpdDtcbiAgICAvKiogSGl0LiAqL1xuICAgIF9oaXQ7XG4gICAgY29uc3RydWN0b3IoZW5naW5lKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgdGhpcy5fcmF5SGl0ID0gZW5naW5lLndhc20uX21hbGxvYyg0ICogKDMgKiA0ICsgMyAqIDQgKyA0ICsgMikgKyA0KTtcbiAgICAgICAgdGhpcy5faGl0ID0gbmV3IFJheUhpdCh0aGlzLl9lbmdpbmUsIHRoaXMuX3JheUhpdCk7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYXN0IGEgcmF5IHRocm91Z2ggdGhlIHBoeXNpY3Mgc2NlbmUgYW5kIGZpbmQgaW50ZXJzZWN0aW5nIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzdWx0aW5nIHJheSBoaXQgd2lsbCBjb250YWluICoqdXAgdG8gNCoqIGNsb3Nlc3QgcmF5IGhpdHMsXG4gICAgICogc29ydGVkIGJ5IGluY3JlYXNpbmcgZGlzdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbyBSYXkgb3JpZ2luLlxuICAgICAqIEBwYXJhbSBkIFJheSBkaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIGdyb3VwIENvbGxpc2lvbiBncm91cCB0byBmaWx0ZXIgYnk6IG9ubHkgb2JqZWN0cyB0aGF0IGFyZVxuICAgICAqICAgICAgICBwYXJ0IG9mIGdpdmVuIGdyb3VwIGFyZSBjb25zaWRlcmVkIGZvciByYXljYXN0LlxuICAgICAqIEBwYXJhbSBtYXhEaXN0YW5jZSBNYXhpbXVtIHJheSBkaXN0YW5jZSwgZGVmYXVsdCBgMTAwLjBgLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIFJheUhpdCBpbnN0YW5jZSwgYmVsb25naW5nIHRvIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGUgcmV0dXJuZWQge0BsaW5rIFJheUhpdH0gb2JqZWN0IGlzIG93bmVkIGJ5IHRoZSBQaHlzaWNzIGluc3RhbmNlIGFuZFxuICAgICAqICAgICAgIHdpbGwgYmUgcmV1c2VkIHdpdGggdGhlIG5leHQge0BsaW5rIFBoeXNpY3MjcmF5Q2FzdH0gY2FsbC5cbiAgICAgKi9cbiAgICByYXlDYXN0KG8sIGQsIGdyb3VwLCBtYXhEaXN0YW5jZSA9IDEwMC4wKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9yYXlfY2FzdChvWzBdLCBvWzFdLCBvWzJdLCBkWzBdLCBkWzFdLCBkWzJdLCBncm91cCwgbWF4RGlzdGFuY2UsIHRoaXMuX3JheUhpdCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9oaXQ7XG4gICAgfVxufVxuLyoqXG4gKiBNZXNoIGluZGV4IHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgTWVzaEluZGV4VHlwZTtcbihmdW5jdGlvbiAoTWVzaEluZGV4VHlwZSkge1xuICAgIC8qKiBTaW5nbGUgYnl0ZSBtZXNoIGluZGV4LCByYW5nZSAwLTI1NSAqL1xuICAgIE1lc2hJbmRleFR5cGVbTWVzaEluZGV4VHlwZVtcIlVuc2lnbmVkQnl0ZVwiXSA9IDFdID0gXCJVbnNpZ25lZEJ5dGVcIjtcbiAgICAvKiogVHdvIGJ5dGUgbWVzaCBpbmRleCwgcmFuZ2UgMC02NTUzNSAqL1xuICAgIE1lc2hJbmRleFR5cGVbTWVzaEluZGV4VHlwZVtcIlVuc2lnbmVkU2hvcnRcIl0gPSAyXSA9IFwiVW5zaWduZWRTaG9ydFwiO1xuICAgIC8qKiBGb3VyIGJ5dGUgbWVzaCBpbmRleCwgcmFuZ2UgMC00Mjk0OTY3Mjk1ICovXG4gICAgTWVzaEluZGV4VHlwZVtNZXNoSW5kZXhUeXBlW1wiVW5zaWduZWRJbnRcIl0gPSA0XSA9IFwiVW5zaWduZWRJbnRcIjtcbn0pKE1lc2hJbmRleFR5cGUgfHwgKE1lc2hJbmRleFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBNZXNoIHNraW5uaW5nIHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgTWVzaFNraW5uaW5nVHlwZTtcbihmdW5jdGlvbiAoTWVzaFNraW5uaW5nVHlwZSkge1xuICAgIC8qKiBOb3Qgc2tpbm5lZCAqL1xuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICAgIC8qKiBTa2lubmVkLCA0IGpvaW50cy93ZWlnaHQgcGVyIHZlcnRleCAqL1xuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIkZvdXJKb2ludHNcIl0gPSAxXSA9IFwiRm91ckpvaW50c1wiO1xuICAgIC8qKiBTa2lubmVkLCA4IGpvaW50cy93ZWlnaHQgcGVyIHZlcnRleCAqL1xuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIkVpZ2h0Sm9pbnRzXCJdID0gMl0gPSBcIkVpZ2h0Sm9pbnRzXCI7XG59KShNZXNoU2tpbm5pbmdUeXBlIHx8IChNZXNoU2tpbm5pbmdUeXBlID0ge30pKTtcbi8qKlxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgbWVzaCBkYXRhLlxuICpcbiAqIFRvIG1vZGlmeSBhIG1lc2gsIHlvdSBnZXQgYWNjZXNzIHRvIGEge0BsaW5rIE1lc2hBdHRyaWJ1dGVBY2Nlc3Nvcn0gdGhhdCBhbGxvd3MgeW91IHRvIG1vZGlmeVxuICogdGhlIGNvbnRlbnQgb2YgdGhlIGJ1ZmZlcnM6XG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBganNcbiAqIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChlbmdpbmUsIHt2ZXJ0ZXhDb3VudDogMywgaW5kZXhEYXRhOiBbMCwgMSwgMl0gfSk7XG4gKiBjb25zdCBwb3NpdGlvbnMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcbiAqIC4uLlxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXNoIHtcbiAgICAvKipcbiAgICAgKiBJbmRleCBvZiB0aGUgbWVzaCBpbiB0aGUgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfaW5kZXggPSAtMTtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXMgRWl0aGVyIGEgbWVzaCBpbmRleCB0byB3cmFwIG9yIHNldCBvZiBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIG5ldyBtZXNoLlxuICAgICAqICAgIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgaGF2ZSBhIGxvb2sgYXQgdGhlIHtAbGluayBNZXNoUGFyYW1ldGVyc30gaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgcGFyYW1zKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZSA/PyBXTDtcbiAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgaWYgKGlzTnVtYmVyKHBhcmFtcykpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gcGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyYW1zLnZlcnRleENvdW50KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBwYXJhbWV0ZXIgJ3ZlcnRleENvdW50J1wiKTtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBsZXQgaW5kZXhEYXRhID0gMDtcbiAgICAgICAgbGV0IGluZGV4VHlwZSA9IDA7XG4gICAgICAgIGxldCBpbmRleERhdGFTaXplID0gMDtcbiAgICAgICAgaWYgKHBhcmFtcy5pbmRleERhdGEpIHtcbiAgICAgICAgICAgIGluZGV4VHlwZSA9IHBhcmFtcy5pbmRleFR5cGUgfHwgTWVzaEluZGV4VHlwZS5VbnNpZ25lZFNob3J0O1xuICAgICAgICAgICAgaW5kZXhEYXRhU2l6ZSA9IHBhcmFtcy5pbmRleERhdGEubGVuZ3RoICogaW5kZXhUeXBlO1xuICAgICAgICAgICAgaW5kZXhEYXRhID0gd2FzbS5fbWFsbG9jKGluZGV4RGF0YVNpemUpO1xuICAgICAgICAgICAgLyogQ29weSB0aGUgaW5kZXggZGF0YSBpbnRvIHdhc20gbWVtb3J5ICovXG4gICAgICAgICAgICBzd2l0Y2ggKGluZGV4VHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEJ5dGU6XG4gICAgICAgICAgICAgICAgICAgIHdhc20uSEVBUFU4LnNldChwYXJhbXMuaW5kZXhEYXRhLCBpbmRleERhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRTaG9ydDpcbiAgICAgICAgICAgICAgICAgICAgd2FzbS5IRUFQVTE2LnNldChwYXJhbXMuaW5kZXhEYXRhLCBpbmRleERhdGEgPj4gMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEludDpcbiAgICAgICAgICAgICAgICAgICAgd2FzbS5IRUFQVTMyLnNldChwYXJhbXMuaW5kZXhEYXRhLCBpbmRleERhdGEgPj4gMik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc2tpbm5pbmdUeXBlID0gTWVzaFNraW5uaW5nVHlwZS5Ob25lIH0gPSBwYXJhbXM7XG4gICAgICAgIHRoaXMuX2luZGV4ID0gd2FzbS5fd2xfbWVzaF9jcmVhdGUoaW5kZXhEYXRhLCBpbmRleERhdGFTaXplLCBpbmRleFR5cGUsIHBhcmFtcy52ZXJ0ZXhDb3VudCwgc2tpbm5pbmdUeXBlKTtcbiAgICB9XG4gICAgLyoqIE51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGlzIG1lc2guICovXG4gICAgZ2V0IHZlcnRleENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZ2V0X3ZlcnRleENvdW50KHRoaXMuX2luZGV4KTtcbiAgICB9XG4gICAgLyoqIEluZGV4IGRhdGEgKHJlYWQtb25seSkgb3IgYG51bGxgIGlmIHRoZSBtZXNoIGlzIG5vdCBpbmRleGVkLiAqL1xuICAgIGdldCBpbmRleERhdGEoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgdGVtcE1lbSA9IHdhc20uX3RlbXBNZW07XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX21lc2hfZ2V0X2luZGV4RGF0YSh0aGlzLl9pbmRleCwgdGVtcE1lbSwgdGVtcE1lbSArIDQpO1xuICAgICAgICBpZiAocHRyID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGluZGV4Q291bnQgPSB3YXNtLkhFQVBVMzJbdGVtcE1lbSAvIDRdO1xuICAgICAgICBjb25zdCBpbmRleFNpemUgPSB3YXNtLkhFQVBVMzJbdGVtcE1lbSAvIDQgKyAxXTtcbiAgICAgICAgc3dpdGNoIChpbmRleFNpemUpIHtcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEJ5dGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc20uSEVBUFU4LmJ1ZmZlciwgcHRyLCBpbmRleENvdW50KTtcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZFNob3J0OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkod2FzbS5IRUFQVTE2LmJ1ZmZlciwgcHRyLCBpbmRleENvdW50KTtcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEludDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KHdhc20uSEVBUFUzMi5idWZmZXIsIHB0ciwgaW5kZXhDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cbiAgICBnZXQgZW5naW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSBjaGFuZ2VzIHRvIHtAbGluayBhdHRyaWJ1dGUgfCB2ZXJ0ZXggYXR0cmlidXRlc30uXG4gICAgICpcbiAgICAgKiBVcGxvYWRzIHRoZSB1cGRhdGVkIHZlcnRleCBhdHRyaWJ1dGVzIHRvIHRoZSBHUFUgYW5kIHVwZGF0ZXMgdGhlIGJvdW5kaW5nXG4gICAgICogc3BoZXJlIHRvIG1hdGNoIHRoZSBuZXcgdmVydGV4IHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIFNpbmNlIHRoaXMgaXMgYW4gZXhwZW5zaXZlIG9wZXJhdGlvbiwgY2FsbCBpdCBvbmx5IG9uY2UgeW91IGhhdmUgcGVyZm9ybWVkXG4gICAgICogYWxsIG1vZGlmaWNhdGlvbnMgb24gYSBtZXNoIGFuZCBhdm9pZCBjYWxsaW5nIGlmIHlvdSBkaWQgbm90IHBlcmZvcm0gYW55XG4gICAgICogbW9kaWZpY2F0aW9ucyBhdCBhbGwuXG4gICAgICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF91cGRhdGUodGhpcy5faW5kZXgpO1xuICAgIH1cbiAgICBnZXRCb3VuZGluZ1NwaGVyZShvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XG4gICAgICAgIGNvbnN0IHRlbXBNZW1GbG9hdCA9IHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtRmxvYXQ7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF9ib3VuZGluZ1NwaGVyZSh0aGlzLl9pbmRleCwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB0ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHRlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICBvdXRbM10gPSB0ZW1wTWVtRmxvYXRbM107XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIGF0dHJpYnV0ZShhdHRyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXR0ciAhPSAnbnVtYmVyJylcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIG51bWJlciwgYnV0IGdvdCAnICsgdHlwZW9mIGF0dHIpO1xuICAgICAgICBjb25zdCB0ZW1wTWVtVWludDMyID0gdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1VaW50MzI7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF9hdHRyaWJ1dGUodGhpcy5faW5kZXgsIGF0dHIsIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgaWYgKHRlbXBNZW1VaW50MzJbMF0gPT0gMjU1KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGFycmF5U2l6ZSA9IHRlbXBNZW1VaW50MzJbNV07XG4gICAgICAgIHJldHVybiBuZXcgTWVzaEF0dHJpYnV0ZUFjY2Vzc29yKHRoaXMuX2VuZ2luZSwge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0ZW1wTWVtVWludDMyWzBdLFxuICAgICAgICAgICAgb2Zmc2V0OiB0ZW1wTWVtVWludDMyWzFdLFxuICAgICAgICAgICAgc3RyaWRlOiB0ZW1wTWVtVWludDMyWzJdLFxuICAgICAgICAgICAgZm9ybWF0U2l6ZTogdGVtcE1lbVVpbnQzMlszXSxcbiAgICAgICAgICAgIGNvbXBvbmVudENvdW50OiB0ZW1wTWVtVWludDMyWzRdLFxuICAgICAgICAgICAgLyogVGhlIFdBU00gQVBJIHJldHVybnMgYDBgIGZvciBhIHNjYWxhciB2YWx1ZS4gV2UgY2xhbXAgaXQgdG8gMSBhcyB3ZSBzdHJpY3RseSB1c2UgaXQgYXMgYSBtdWx0aXBsaWVyIGZvciBnZXQvc2V0IG9wZXJhdGlvbnMgKi9cbiAgICAgICAgICAgIGFycmF5U2l6ZTogYXJyYXlTaXplID8gYXJyYXlTaXplIDogMSxcbiAgICAgICAgICAgIGxlbmd0aDogdGhpcy52ZXJ0ZXhDb3VudCxcbiAgICAgICAgICAgIGJ1ZmZlclR5cGU6IChhdHRyICE9PSBNZXNoQXR0cmlidXRlLkpvaW50SWRcbiAgICAgICAgICAgICAgICA/IEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgICAgIDogVWludDE2QXJyYXkpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZnJlZSB0aGUgbWVzaGVzIG1lbW9yeS5cbiAgICAgKlxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSBtZXNoIHZhcmlhYmxlIHRvIGBudWxsYCBhZnRlciBjYWxsaW5nXG4gICAgICogZGVzdHJveSB0byBwcmV2ZW50IGFjY2lkZW50YWwgdXNlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIG1lc2guZGVzdHJveSgpO1xuICAgICAqICAgbWVzaCA9IG51bGw7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBBY2Nlc3NpbmcgdGhlIG1lc2ggYWZ0ZXIgZGVzdHJ1Y3Rpb24gYmVoYXZlcyBsaWtlIGFjY2Vzc2luZyBhbiBlbXB0eVxuICAgICAqIG1lc2guXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC45LjBcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9kZXN0cm95KHRoaXMuX2luZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBtZXNoIGlkcyBhcmVcbiAgICAgKiBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlck1lc2ggTWVzaCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBtZXNoIGVxdWFscyB0aGUgZ2l2ZW4gbWVzaC5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlck1lc2gpIHtcbiAgICAgICAgaWYgKCFvdGhlck1lc2gpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJNZXNoLl9pbmRleDtcbiAgICB9XG59XG4vKipcbiAqIEFuIGl0ZXJhdG9yIG92ZXIgYSBtZXNoIHZlcnRleCBhdHRyaWJ1dGUuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBganNcbiAqIGNvbnN0IG1lc2ggPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ21lc2gnKS5tZXNoO1xuICogY29uc3QgcG9zaXRpb25zID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Qb3NpdGlvbik7XG4gKlxuICogLy8gRXF1aXZhbGVudCB0byBgbmV3IEZsb2F0MzJBcnJheSgzKWAuXG4gKiBjb25zdCB0ZW1wID0gcG9zaXRpb25zLmNyZWF0ZUFycmF5KCk7XG4gKlxuICogZm9yKGxldCBpID0gMDsgaSA8IHBvc2l0aW9ucy5sZW5ndGg7ICsraSkge1xuICogICAgIC8vIGBwb3NgIHdpbGwgcmVmZXJlbmNlIGB0ZW1wYCBhbmQgdGhlcmVieSBub3QgYWxsb2NhdGUgYWRkaXRpb25hbFxuICogICAgIC8vIG1lbW9yeSwgd2hpY2ggd291bGQgY2F1c2UgYSBwZXJmIHNwaWtlIHdoZW4gY29sbGVjdGVkLlxuICogICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9ucy5nZXQoaSwgdGVtcCk7XG4gKiAgICAgLy8gU2NhbGUgcG9zaXRpb24gYnkgMiBvbiB4LWF4aXMgb25seS5cbiAqICAgICBwb3NbMF0gKj0gMi4wO1xuICogICAgIHBvc2l0aW9ucy5zZXQoaSwgcG9zKTtcbiAqIH1cbiAqIC8vIFdlJ3JlIGRvbmUgbW9kaWZ5aW5nLCB0ZWxsIHRoZSBlbmdpbmUgdG8gbW92ZSB2ZXJ0ZXggZGF0YSB0byB0aGUgR1BVLlxuICogbWVzaC51cGRhdGUoKTtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgTWVzaEF0dHJpYnV0ZUFjY2Vzc29yIHtcbiAgICAvKiogTWF4IG51bWJlciBvZiBlbGVtZW50cy4gKi9cbiAgICBsZW5ndGggPSAwO1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgLyoqIEF0dHJpYnV0ZSBpbmRleC4gQGhpZGRlbiAqL1xuICAgIF9hdHRyaWJ1dGUgPSAtMTtcbiAgICAvKiogQXR0cmlidXRlIG9mZnNldC4gQGhpZGRlbiAqL1xuICAgIF9vZmZzZXQgPSAwO1xuICAgIC8qKiBBdHRyaWJ1dGUgc3RyaWRlLiBAaGlkZGVuICovXG4gICAgX3N0cmlkZSA9IDA7XG4gICAgLyoqIEZvcm1hdCBzaXplIG5hdGl2ZSBlbnVtLiBAaGlkZGVuICovXG4gICAgX2Zvcm1hdFNpemUgPSAwO1xuICAgIC8qKiBOdW1iZXIgb2YgY29tcG9uZW50cyBwZXIgdmVydGV4LiBAaGlkZGVuICovXG4gICAgX2NvbXBvbmVudENvdW50ID0gMDtcbiAgICAvKiogTnVtYmVyIG9mIHZhbHVlcyBwZXIgdmVydGV4LiBAaGlkZGVuICovXG4gICAgX2FycmF5U2l6ZSA9IDE7XG4gICAgLyoqXG4gICAgICogQ2xhc3MgdG8gaW5zdGFudGlhdGUgYW4gQXJyYXlCdWZmZXIgdG8gZ2V0L3NldCB2YWx1ZXMuXG4gICAgICovXG4gICAgX2J1ZmZlclR5cGU7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gYWxsb2NhdGUgdGVtcG9yYXJ5IFdBU00gbWVtb3J5LiBJdCBpcyBjYWNoZWQgaW4gdGhlIGFjY2Vzc29yIHRvIGF2b2lkXG4gICAgICogY29uZGl0aW9uYWxzIGR1cmluZyBnZXQvc2V0LlxuICAgICAqL1xuICAgIF90ZW1wQnVmZmVyR2V0dGVyO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFBsZWFzZSB1c2Uge0BsaW5rIE1lc2guYXR0cmlidXRlfSB0byBjcmVhdGUgYSBuZXcgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBDb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCBob3cgdG8gcmVhZCB0aGUgZGF0YS5cbiAgICAgKiBAbm90ZSBEbyBub3QgdXNlIHRoaXMgY29uc3RydWN0b3IuIEluc3RlYWQsIHBsZWFzZSB1c2UgdGhlIHtAbGluayBNZXNoLmF0dHJpYnV0ZX0gbWV0aG9kLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IG9wdGlvbnMub2Zmc2V0O1xuICAgICAgICB0aGlzLl9zdHJpZGUgPSBvcHRpb25zLnN0cmlkZTtcbiAgICAgICAgdGhpcy5fZm9ybWF0U2l6ZSA9IG9wdGlvbnMuZm9ybWF0U2l6ZTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50Q291bnQgPSBvcHRpb25zLmNvbXBvbmVudENvdW50O1xuICAgICAgICB0aGlzLl9hcnJheVNpemUgPSBvcHRpb25zLmFycmF5U2l6ZTtcbiAgICAgICAgdGhpcy5fYnVmZmVyVHlwZSA9IG9wdGlvbnMuYnVmZmVyVHlwZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBvcHRpb25zLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fdGVtcEJ1ZmZlckdldHRlciA9ICh0aGlzLl9idWZmZXJUeXBlID09PSBGbG9hdDMyQXJyYXlcbiAgICAgICAgICAgID8gd2FzbS5nZXRUZW1wQnVmZmVyRjMyLmJpbmQod2FzbSlcbiAgICAgICAgICAgIDogd2FzbS5nZXRUZW1wQnVmZmVyVTE2LmJpbmQod2FzbSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVHlwZWRBcnJheSB0byBob2xkIHRoaXMgYXR0cmlidXRlJ3MgdmFsdWVzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZnVsIHRvIGNyZWF0ZSBhIHZpZXcgdG8gaG9sZCB0aGUgZGF0YSB0b1xuICAgICAqIHBhc3MgdG8ge0BsaW5rIGdldH0gYW5kIHtAbGluayBzZXR9XG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBjb25zdCB2ZXJ0ZXhDb3VudCA9IDQ7XG4gICAgICogY29uc3QgcG9zaXRpb25BdHRyaWJ1dGUgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcbiAgICAgKlxuICAgICAqIC8vIEEgcG9zaXRpb24gaGFzIDMgZmxvYXRzIHBlciB2ZXJ0ZXguIFRodXMsIHBvc2l0aW9ucyBoYXMgbGVuZ3RoIDMgKiA0LlxuICAgICAqIGNvbnN0IHBvc2l0aW9ucyA9IHBvc2l0aW9uQXR0cmlidXRlLmNyZWF0ZUFycmF5KHZlcnRleENvdW50KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqdmVydGljZXMqKiBleHBlY3RlZC5cbiAgICAgKiBAcmV0dXJucyBBIFR5cGVkQXJyYXkgd2l0aCB0aGUgYXBwcm9wcmlhdGUgZm9ybWF0IHRvIGFjY2VzcyB0aGUgZGF0YVxuICAgICAqL1xuICAgIGNyZWF0ZUFycmF5KGNvdW50ID0gMSkge1xuICAgICAgICBjb3VudCA9IGNvdW50ID4gdGhpcy5sZW5ndGggPyB0aGlzLmxlbmd0aCA6IGNvdW50O1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMuX2J1ZmZlclR5cGUoY291bnQgKiB0aGlzLl9jb21wb25lbnRDb3VudCAqIHRoaXMuX2FycmF5U2l6ZSk7XG4gICAgfVxuICAgIGdldChpbmRleCwgb3V0ID0gdGhpcy5jcmVhdGVBcnJheSgpKSB7XG4gICAgICAgIGlmIChvdXQubGVuZ3RoICUgdGhpcy5fY29tcG9uZW50Q291bnQgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgb3V0Lmxlbmd0aCwgJHtvdXQubGVuZ3RofSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgYXR0cmlidXRlIHZlY3RvciBjb21wb25lbnRzLCAke3RoaXMuX2NvbXBvbmVudENvdW50fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlc3QgPSB0aGlzLl90ZW1wQnVmZmVyR2V0dGVyKG91dC5sZW5ndGgpO1xuICAgICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuX2J1ZmZlclR5cGUuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIGNvbnN0IGRlc3RTaXplID0gZWxlbWVudFNpemUgKiBvdXQubGVuZ3RoO1xuICAgICAgICBjb25zdCBzcmNGb3JtYXRTaXplID0gdGhpcy5fZm9ybWF0U2l6ZSAqIHRoaXMuX2FycmF5U2l6ZTtcbiAgICAgICAgY29uc3QgZGVzdEZvcm1hdFNpemUgPSB0aGlzLl9jb21wb25lbnRDb3VudCAqIGVsZW1lbnRTaXplICogdGhpcy5fYXJyYXlTaXplO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9nZXRfYXR0cmlidXRlX3ZhbHVlcyh0aGlzLl9hdHRyaWJ1dGUsIHNyY0Zvcm1hdFNpemUsIHRoaXMuX29mZnNldCArIGluZGV4ICogdGhpcy5fc3RyaWRlLCB0aGlzLl9zdHJpZGUsIGRlc3RGb3JtYXRTaXplLCBkZXN0LmJ5dGVPZmZzZXQsIGRlc3RTaXplKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXQubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBvdXRbaV0gPSBkZXN0W2ldO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYXR0cmlidXRlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaSBJbmRleFxuICAgICAqIEBwYXJhbSB2IFZhbHVlIHRvIHNldCB0aGUgZWxlbWVudCB0b1xuICAgICAqXG4gICAgICogYHYubGVuZ3RoYCBuZWVkcyB0byBiZSBhIG11bHRpcGxlIG9mIHRoZSBhdHRyaWJ1dGVzIGNvbXBvbmVudCBjb3VudCwgc2VlXG4gICAgICoge0BsaW5rIE1lc2hBdHRyaWJ1dGV9LiBJZiBgdi5sZW5ndGhgIGlzIG1vcmUgdGhhbiBvbmUgbXVsdGlwbGUsIGl0IHdpbGwgYmVcbiAgICAgKiBmaWxsZWQgd2l0aCB0aGUgbmV4dCBuIGF0dHJpYnV0ZSBlbGVtZW50cywgd2hpY2ggY2FuIHJlZHVjZSBvdmVyaGVhZFxuICAgICAqIG9mIHRoaXMgY2FsbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxuICAgICAqL1xuICAgIHNldChpLCB2KSB7XG4gICAgICAgIGlmICh2Lmxlbmd0aCAlIHRoaXMuX2NvbXBvbmVudENvdW50ICE9PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXQubGVuZ3RoLCAke3YubGVuZ3RofSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgYXR0cmlidXRlIHZlY3RvciBjb21wb25lbnRzLCAke3RoaXMuX2NvbXBvbmVudENvdW50fWApO1xuICAgICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuX2J1ZmZlclR5cGUuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIGNvbnN0IHNyY1NpemUgPSBlbGVtZW50U2l6ZSAqIHYubGVuZ3RoO1xuICAgICAgICBjb25zdCBzcmNGb3JtYXRTaXplID0gdGhpcy5fY29tcG9uZW50Q291bnQgKiBlbGVtZW50U2l6ZSAqIHRoaXMuX2FycmF5U2l6ZTtcbiAgICAgICAgY29uc3QgZGVzdEZvcm1hdFNpemUgPSB0aGlzLl9mb3JtYXRTaXplICogdGhpcy5fYXJyYXlTaXplO1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIC8qIFVubGVzcyB3ZSBhcmUgYWxyZWFkeSB3b3JraW5nIHdpdGggZGF0YSBmcm9tIFdBU00gaGVhcCwgd2VcbiAgICAgICAgICogbmVlZCB0byBjb3B5IGludG8gdGVtcG9yYXJ5IG1lbW9yeS4gKi9cbiAgICAgICAgaWYgKHYuYnVmZmVyICE9IHdhc20uSEVBUFU4LmJ1ZmZlcikge1xuICAgICAgICAgICAgY29uc3QgZGVzdCA9IHRoaXMuX3RlbXBCdWZmZXJHZXR0ZXIodi5sZW5ndGgpO1xuICAgICAgICAgICAgZGVzdC5zZXQodik7XG4gICAgICAgICAgICB2ID0gZGVzdDtcbiAgICAgICAgfVxuICAgICAgICB3YXNtLl93bF9tZXNoX3NldF9hdHRyaWJ1dGVfdmFsdWVzKHRoaXMuX2F0dHJpYnV0ZSwgc3JjRm9ybWF0U2l6ZSwgdi5ieXRlT2Zmc2V0LCBzcmNTaXplLCBkZXN0Rm9ybWF0U2l6ZSwgdGhpcy5fb2Zmc2V0ICsgaSAqIHRoaXMuX3N0cmlkZSwgdGhpcy5fc3RyaWRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBtYXRlcmlhbC5cbiAqXG4gKiBFYWNoIG1hdGVyaWFsIGluc3RhbmNlIHdpbGwgaGF2ZSBwcm9wZXJ0aWVzIGFzc29jaWF0ZWQgdG8gdGhlIHBpcGVsaW5lIGl0IHVzZXMuXG4gKiBUaGUgbWF0ZXJpYWwgcHJvcGVydGllcyBhcmUgYXV0b21hdGljYWxseSBhZGRlZCB0byBlYWNoIG1hdGVyaWFsIGluc3RhbmNlLCBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7IC8vIE1hdGVyaWFsIHdpdGggYSBgUGhvbmcgT3BhcXVlIFRleHR1cmVkYCBwaXBlbGluZVxuICogLy8gWW91IGNhbiBhY2Nlc3MgYWxsIHRoZSBtYXRlcmlhbCBwcm9wZXJ0aWVzIGZyb20gdGhlIGVkaXRvciB1c2luZzpcbiAqIG1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gbnVsbDtcbiAqIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IFsxLjAsIDAuMCwgMC4wLCAxLjBdO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXRlcmlhbCB7XG4gICAgLyoqXG4gICAgICogSW5kZXggb2YgdGhpcyBtYXRlcmlhbCBpbiB0aGUgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfaW5kZXg7XG4gICAgLyoqXG4gICAgICogTWF0ZXJpYWwgZGVmaW5pdGlvbiBpbmRleCBpbiB0aGUgc2NlbmUuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX2RlZmluaXRpb247XG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXG4gICAgX2VuZ2luZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTWF0ZXJpYWwuXG4gICAgICpcbiAgICAgKiBAbm90ZSBDcmVhdGluZyBtYXRlcmlhbCBpcyBleHBlbnNpdmUuIFBsZWFzZSB1c2Uge0BsaW5rIE1hdGVyaWFsI2Nsb25lfSB0byBjbG9uZSBhIG1hdGVyaWFsLlxuICAgICAqIEBub3RlIERvIG5vdCB1c2UgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseSB3aXRoIGFuIGluZGV4LCB0aGlzIGlzIHJlc2VydmVkIGZvciBpbnRlcm5hbCBwdXJwb3Nlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHBhcmFtcykge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKCFwYXJhbXM/LnBpcGVsaW5lKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcGFyYW1ldGVyICdwaXBlbGluZSdcIik7XG4gICAgICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgICAgICBjb25zdCBwaXBlbGluZSA9IHBhcmFtcy5waXBlbGluZTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gd2FzbS5fd2xfbWF0ZXJpYWxfY3JlYXRlKHdhc20udGVtcFVURjgocGlwZWxpbmUpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbmRleCA8IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIHBpcGVsaW5lICcke3BpcGVsaW5lfSdgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gcGFyYW1zO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RlZmluaXRpb24gPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X2RlZmluaXRpb24odGhpcy5faW5kZXgpO1xuICAgICAgICBpZiAoIXRoaXMuX2VuZ2luZS53YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RoaXMuX2RlZmluaXRpb25dKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYXRlcmlhbCBEZWZpbml0aW9uICR7dGhpcy5fZGVmaW5pdGlvbn0gbm90IGZvdW5kIGZvciBtYXRlcmlhbCB3aXRoIGluZGV4ICR7dGhpcy5faW5kZXh9YCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodGhpcywge1xuICAgICAgICAgICAgZ2V0KHRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gd2FzbS5fbWF0ZXJpYWxEZWZpbml0aW9uc1t0YXJnZXQuX2RlZmluaXRpb25dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gZGVmaW5pdGlvbi5nZXQocHJvcCk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJhbSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAod2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X3BhcmFtX3ZhbHVlKHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB3YXNtLl90ZW1wTWVtKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gcGFyYW0udHlwZTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuVW5zaWduZWRJbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuY29tcG9uZW50Q291bnQgPT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdhc20uX3RlbXBNZW1VaW50MzJbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgVWludDMyQXJyYXkod2FzbS5IRUFQVTMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgdHlwZS5jb21wb25lbnRDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkludDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZS5jb21wb25lbnRDb3VudCA9PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gd2FzbS5fdGVtcE1lbUludFswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBJbnQzMkFycmF5KHdhc20uSEVBUDMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgdHlwZS5jb21wb25lbnRDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkZsb2F0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlLmNvbXBvbmVudENvdW50ID09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3YXNtLl90ZW1wTWVtRmxvYXRbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIHR5cGUuY29tcG9uZW50Q291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5TYW1wbGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbmdpbmUudGV4dHVyZXMud3JhcCh3YXNtLl90ZW1wTWVtSW50WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGUgJHt0eXBlLnR5cGV9IG9uIHBhcmFtZXRlciAke3BhcmFtLmluZGV4fSBmb3IgbWF0ZXJpYWwgJHt0YXJnZXQuX2luZGV4fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSB3YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RhcmdldC5fZGVmaW5pdGlvbl07XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBkZWZpbml0aW9uLmdldChwcm9wKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHBhcmFtLnR5cGU7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5VbnNpZ25lZEludDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5JbnQ6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuU2FtcGxlcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB2YWx1ZS5pZCA/PyB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3dsX21hdGVyaWFsX3NldF9wYXJhbV92YWx1ZV91aW50KHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkZsb2F0OlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFtpXSA9IHZhbHVlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fd2xfbWF0ZXJpYWxfc2V0X3BhcmFtX3ZhbHVlX2Zsb2F0KHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB3YXNtLl90ZW1wTWVtLCBjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5Gb250OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXR0aW5nIGZvbnQgcHJvcGVydGllcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rICNwaXBlbGluZX0gaW5zdGVhZC4gKi9cbiAgICBnZXQgc2hhZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5waXBlbGluZTtcbiAgICB9XG4gICAgLyoqIE5hbWUgb2YgdGhlIHBpcGVsaW5lIHVzZWQgYnkgdGhpcyBtYXRlcmlhbC4gKi9cbiAgICBnZXQgcGlwZWxpbmUoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHdhc20uX3dsX21hdGVyaWFsX2dldF9waXBlbGluZSh0aGlzLl9pbmRleCkpO1xuICAgIH1cbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXG4gICAgZ2V0IGVuZ2luZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY29weSBvZiB0aGUgdW5kZXJseWluZyBuYXRpdmUgbWF0ZXJpYWwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBNYXRlcmlhbCBjbG9uZS5cbiAgICAgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWF0ZXJpYWxfY2xvbmUodGhpcy5faW5kZXgpO1xuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IE1hdGVyaWFsKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBtYXRlcmlhbCBpZHMgYXJlXG4gICAgICogZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXJNYXRlcmlhbCBNYXRlcmlhbCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBtYXRlcmlhbCBlcXVhbHMgdGhlIGdpdmVuIG1hdGVyaWFsLlxuICAgICAqXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyTWF0ZXJpYWwpIHtcbiAgICAgICAgaWYgKCFvdGhlck1hdGVyaWFsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyTWF0ZXJpYWwuX2luZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcmFwIGEgbmF0aXZlIG1hdGVyaWFsIGluZGV4LlxuICAgICAqXG4gICAgICogQHBhcmFtIGVuZ2luZSBFbmdpbmUgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIGluZGV4IFRoZSBpbmRleC5cbiAgICAgKiBAcmV0dXJucyBNYXRlcmlhbCBpbnN0YW5jZSBvciBgbnVsbGAgaWYgaW5kZXggPD0gMC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgYG5ldyBNYXRlcmlhbCgpYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHN0YXRpYyB3cmFwKGVuZ2luZSwgaW5kZXgpIHtcbiAgICAgICAgLyoqIEB0b2RvOiB0aGlzIHByb3BhZ2F0ZSBudWxsYWJsZSBpbiB0aGUgZW50aXJlIGNvZGViYXNlLiBSZW1vdmUuICovXG4gICAgICAgIHJldHVybiBpbmRleCA+IDAgPyBuZXcgTWF0ZXJpYWwoZW5naW5lLCBpbmRleCkgOiBudWxsO1xuICAgIH1cbn1cbi8qKiBUZW1wb3JhcnkgY2FudmFzICovXG5sZXQgdGVtcDJkID0gbnVsbDtcbi8qKlxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgdGV4dHVyZSBkYXRhLlxuICovXG5leHBvcnQgY2xhc3MgVGV4dHVyZSB7XG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXG4gICAgX2VuZ2luZTtcbiAgICAvKiogSW5kZXggaW4gdGhlIG1hbmFnZXIuIEBoaWRkZW4gKi9cbiAgICBfaWQgPSAwO1xuICAgIC8qKiBIVE1MIGltYWdlIGluZGV4LiBAaGlkZGVuICovXG4gICAgX2ltYWdlSW5kZXggPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBlbmdpbmUgVGhlIGVuZ2luZSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBwYXJhbSBIVE1MIG1lZGlhIGVsZW1lbnQgdG8gY3JlYXRlIHRleHR1cmUgZnJvbSBvciB0ZXh0dXJlIGlkIHRvIHdyYXAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBwYXJhbSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmUgPz8gV0w7XG4gICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcbiAgICAgICAgaWYgKHBhcmFtIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCB8fFxuICAgICAgICAgICAgcGFyYW0gaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50IHx8XG4gICAgICAgICAgICBwYXJhbSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHdhc20uX2ltYWdlcy5sZW5ndGg7XG4gICAgICAgICAgICB3YXNtLl9pbWFnZXMucHVzaChwYXJhbSk7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZUluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9yZW5kZXJlcl9hZGRJbWFnZShpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IHBhcmFtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VuZ2luZS50ZXh0dXJlcy5fc2V0KHRoaXMpO1xuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIHRleHR1cmUgaXMgdmFsaWQuICovXG4gICAgZ2V0IHZhbGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQgPj0gMDtcbiAgICB9XG4gICAgLyoqIEluZGV4IGluIHRoaXMgbWFuYWdlci4gKi9cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG4gICAgLyoqIFVwZGF0ZSB0aGUgdGV4dHVyZSB0byBtYXRjaCB0aGUgSFRNTCBlbGVtZW50IChlLmcuIHJlZmxlY3QgdGhlIGN1cnJlbnQgZnJhbWUgb2YgYSB2aWRlbykuICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQgfHwgdGhpcy5faW1hZ2VJbmRleCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3JlbmRlcmVyX3VwZGF0ZUltYWdlKHRoaXMuX2lkLCB0aGlzLl9pbWFnZUluZGV4KTtcbiAgICB9XG4gICAgLyoqIFdpZHRoIG9mIHRoZSB0ZXh0dXJlLiAqL1xuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0dXJlX3dpZHRoKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqIEhlaWdodCBvZiB0aGUgdGV4dHVyZS4gKi9cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHR1cmVfaGVpZ2h0KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xuICAgIGdldCBlbmdpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHN1YnJhbmdlIG9uIHRoZSB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBIVE1MIGVsZW1lbnQgKGUuZy4gcmVmbGVjdCB0aGUgY3VycmVudCBmcmFtZSBvZiBhIHZpZGVvKS5cbiAgICAgKlxuICAgICAqIFVzYWdlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBDb3BpZXMgcmVjdGFuZ2xlIG9mIHBpeGVsIHN0YXJ0aW5nIGZyb20gKDEwLCAyMClcbiAgICAgKiB0ZXh0dXJlLnVwZGF0ZVN1YkltYWdlKDEwLCAyMCwgNjAwLCA0MDApO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHggeCBvZmZzZXRcbiAgICAgKiBAcGFyYW0geSB5IG9mZnNldFxuICAgICAqIEBwYXJhbSB3IHdpZHRoXG4gICAgICogQHBhcmFtIGggaGVpZ2h0XG4gICAgICovXG4gICAgdXBkYXRlU3ViSW1hZ2UoeCwgeSwgdywgaCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQgfHwgdGhpcy5faW1hZ2VJbmRleCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLyogTGF6eSBpbml0aWFsaXplIHRlbXAgY2FudmFzICovXG4gICAgICAgIGlmICghdGVtcDJkKSB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUudXBkYXRlU3ViSW1hZ2UoKTogRmFpbGVkIHRvIG9idGFpbiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wMmQgPSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLFxuICAgICAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBpbWcgPSB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF07XG4gICAgICAgIGlmICghaW1nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0ZW1wMmQuY2FudmFzLndpZHRoID0gdztcbiAgICAgICAgdGVtcDJkLmNhbnZhcy5oZWlnaHQgPSBoO1xuICAgICAgICB0ZW1wMmQuY3R4LmRyYXdJbWFnZShpbWcsIHgsIHksIHcsIGgsIDAsIDAsIHcsIGgpO1xuICAgICAgICBjb25zdCB5T2Zmc2V0ID0gKGltZy52aWRlb0hlaWdodCA/PyBpbWcuaGVpZ2h0KSAtIHkgLSBoO1xuICAgICAgICB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF0gPSB0ZW1wMmQuY2FudmFzO1xuICAgICAgICB3YXNtLl93bF9yZW5kZXJlcl91cGRhdGVJbWFnZSh0aGlzLl9pZCwgdGhpcy5faW1hZ2VJbmRleCwgeCwgeU9mZnNldCk7XG4gICAgICAgIHdhc20uX2ltYWdlc1t0aGlzLl9pbWFnZUluZGV4XSA9IGltZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZnJlZSB0aGUgdGV4dHVyZSdzIHRleHR1cmUgYWx0YXMgc3BhY2UgYW5kIG1lbW9yeS5cbiAgICAgKlxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSB0ZXh0dXJlIHZhcmlhYmxlIHRvIGBudWxsYCBhZnRlciBjYWxsaW5nXG4gICAgICogZGVzdHJveSB0byBwcmV2ZW50IGFjY2lkZW50YWwgdXNlIG9mIHRoZSBpbnZhbGlkIHRleHR1cmU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgdGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICogICB0ZXh0dXJlID0gbnVsbDtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjkuMFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLnRleHR1cmVzLl9kZXN0cm95KHRoaXMpO1xuICAgICAgICB0aGlzLl9pZCA9IC0xO1xuICAgICAgICB0aGlzLl9pbWFnZUluZGV4ID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSB0ZXh0dXJlIGlkcyBhcmVcbiAgICAgKiBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlclRleHR1cmUgVGV4dHVyZSB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyB0ZXh0dXJlIGVxdWFscyB0aGUgZ2l2ZW4gdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlclRleHR1cmUpIHtcbiAgICAgICAgaWYgKCFvdGhlclRleHR1cmUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PT0gb3RoZXJUZXh0dXJlLl9pZDtcbiAgICB9XG59XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIGFuaW1hdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbiB7XG4gICAgLyoqIEluZGV4IG9mIHRoZSBtZXNoIGluIHRoZSBtYW5hZ2VyLiBAaGlkZGVuICovXG4gICAgX2luZGV4O1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IGluIHRoZSBtYW5hZ2VyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lID0gV0wsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcbiAgICB9XG4gICAgLyoqIER1cmF0aW9uIG9mIHRoaXMgYW5pbWF0aW9uLiAqL1xuICAgIGdldCBkdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fZ2V0X2R1cmF0aW9uKHRoaXMuX2luZGV4KTtcbiAgICB9XG4gICAgLyoqIE51bWJlciBvZiB0cmFja3MgaW4gdGhpcyBhbmltYXRpb24uICovXG4gICAgZ2V0IHRyYWNrQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2dldF90cmFja0NvdW50KHRoaXMuX2luZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhpcyBhbmltYXRpb24gcmV0YXJnZXRlZCB0byBhIG5ldyBzZXQgb2Ygb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIFRoZSBjbG9uZSBzaGFyZXMgbW9zdCBvZiB0aGUgZGF0YSB3aXRoIHRoZSBvcmlnaW5hbCBhbmQgaXMgdGhlcmVmb3JlXG4gICAgICogbGlnaHQtd2VpZ2h0LlxuICAgICAqXG4gICAgICogKipFeHBlcmltZW50YWw6KiogVGhpcyBBUEkgbWlnaHQgY2hhbmdlIGluIHVwY29taW5nIHZlcnNpb25zLlxuICAgICAqXG4gICAgICogSWYgcmV0YXJnZXRpbmcgdG8ge0BsaW5rIFNraW59LCB0aGUgam9pbiBuYW1lcyB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGEgbWFwcGluZ1xuICAgICAqIGZyb20gdGhlIHByZXZpb3VzIHNraW4gdG8gdGhlIG5ldyBza2luLiBUaGUgc291cmNlIHNraW4gd2lsbCBiZSByZXRyaWV2ZWQgZnJvbVxuICAgICAqIHRoZSBmaXJzdCB0cmFjayBpbiB0aGUgYW5pbWF0aW9uIHRoYXQgdGFyZ2V0cyBhIGpvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIG5ld1RhcmdldHMgTmV3IHRhcmdldHMgcGVyIHRyYWNrLiBFeHBlY3RlZCB0byBoYXZlXG4gICAgICogICAgICB7QGxpbmsgQW5pbWF0aW9uI3RyYWNrQ291bnR9IGVsZW1lbnRzIG9yIHRvIGJlIGEge0BsaW5rIFNraW59LlxuICAgICAqIEByZXR1cm5zIFRoZSByZXRhcmdldGVkIGNsb25lIG9mIHRoaXMgYW5pbWF0aW9uLlxuICAgICAqL1xuICAgIHJldGFyZ2V0KG5ld1RhcmdldHMpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBpZiAobmV3VGFyZ2V0cyBpbnN0YW5jZW9mIFNraW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1JZCA9IHdhc20uX3dsX2FuaW1hdGlvbl9yZXRhcmdldFRvU2tpbih0aGlzLl9pbmRleCwgbmV3VGFyZ2V0cy5faW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBhbmltSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdUYXJnZXRzLmxlbmd0aCAhPSB0aGlzLnRyYWNrQ291bnQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdFeHBlY3RlZCAnICtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrQ291bnQudG9TdHJpbmcoKSArXG4gICAgICAgICAgICAgICAgJyB0YXJnZXRzLCBidXQgZ290ICcgK1xuICAgICAgICAgICAgICAgIG5ld1RhcmdldHMubGVuZ3RoLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX21hbGxvYygyICogbmV3VGFyZ2V0cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RhcmdldHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHdhc20uSEVBUFUxNltwdHIgPj4gKDEgKyBpKV0gPSBuZXdUYXJnZXRzW2ldLm9iamVjdElkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuaW1JZCA9IHdhc20uX3dsX2FuaW1hdGlvbl9yZXRhcmdldCh0aGlzLl9pbmRleCwgcHRyKTtcbiAgICAgICAgd2FzbS5fZnJlZShwdHIpO1xuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIGFuaW1JZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgYW5pbWF0aW9uIGlkc1xuICAgICAqIGFyZSBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlckFuaW1hdGlvbiBBbmltYXRpb24gdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgYW5pbWF0aW9uIGVxdWFscyB0aGUgZ2l2ZW4gYW5pbWF0aW9uLlxuICAgICAqXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyQW5pbWF0aW9uKSB7XG4gICAgICAgIGlmICghb3RoZXJBbmltYXRpb24pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJBbmltYXRpb24uX2luZGV4O1xuICAgIH1cbn1cbi8qKlxuICogU2NlbmUgZ3JhcGggb2JqZWN0LlxuICpcbiAqIE5vZGUgaW4gdGhlIHNjZW5lIGdyYXBoIG9yIFwiZW50aXR5XCIuIENvbnNpc3RzIG9mIHRyYW5zZm9ybWF0aW9uIGFuZCBhIHJlZmVyZW5jZVxuICogdG8gaXRzIHBhcmVudCBvYmplY3QuIFVzdWFsbHkgaG9sZHMgY29tcG9uZW50cyBhbmQgaXMgYWNjZXNzaWJsZSBieSBjb21wb25lbnRzXG4gKiB0aHJvdWdoIHtAbGluayBDb21wb25lbnQjb2JqZWN0fS5cbiAqXG4gKiBPYmplY3RzIGFyZSBzdG9yZWQgaW4gYSBkYXRhIG9yaWVudGVkIG1hbm5lciBpbnNpZGUgV2ViQXNzZW1ibHkgbWVtb3J5LiBUaGlzIGNsYXNzXG4gKiBpcyBhIEphdmFTY3JpcHQgQVBJIHdyYXBwZXIgYXJvdW5kIHRoaXMgbWVtb3J5IGZvciBtb3JlIGNvbnZlbmllbnQgdXNlIGluXG4gKiBjb21wb25lbnRzLlxuICpcbiAqIE9iamVjdHMgY2FuIGJlIGNyZWF0ZWQgYW5kIGFkZGVkIHRvIGEgc2NlbmUgdGhyb3VnaFxuICoge0BsaW5rIFNjZW5lI2FkZE9iamVjdH0gb24gdGhlIHtAbGluayBXb25kZXJsYW5kRW5naW5lLnNjZW5lfS5cbiAqL1xuZXhwb3J0IGNsYXNzIE9iamVjdDNEIHtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKlxuICAgICAqIE9iamVjdCBpbmRleCBpbiB0aGUgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfb2JqZWN0SWQgPSAtMTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbyBPYmplY3QgaWQgdG8gd3JhcFxuICAgICAqXG4gICAgICogRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHBsZWFzZSB1c2Uge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUud3JhcE9iamVjdH1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIG8pIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0SWQgPSBvO1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIFVzZWZ1bCBmb3IgaWRlbnRpZnlpbmcgb2JqZWN0cyBkdXJpbmcgZGVidWdnaW5nLlxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyh3YXNtLl93bF9vYmplY3RfbmFtZSh0aGlzLm9iamVjdElkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb2JqZWN0J3MgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdOYW1lIFRoZSBuZXcgbmFtZSB0byBzZXQuXG4gICAgICovXG4gICAgc2V0IG5hbWUobmV3TmFtZSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3dsX29iamVjdF9zZXRfbmFtZSh0aGlzLm9iamVjdElkLCB3YXNtLnRlbXBVVEY4KG5ld05hbWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyZW50IG9mIHRoaXMgb2JqZWN0IG9yIGBudWxsYCBpZiBwYXJlbnRlZCB0byByb290LlxuICAgICAqL1xuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3BhcmVudCh0aGlzLm9iamVjdElkKTtcbiAgICAgICAgcmV0dXJuIHAgPT09IDAgPyBudWxsIDogdGhpcy5fZW5naW5lLndyYXBPYmplY3QocCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoaWxkcmVuIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG5vdGUgQ2hpbGQgb3JkZXIgaXMgKip1bmRlZmluZWQqKi4gTm8gYXNzdW1wdGlvbnMgc2hvdWxkIGJlIG1hZGVcbiAgICAgKiBhYm91dCB0aGUgaW5kZXggb2YgYSBzcGVjaWZpYyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgYSBzcGVjaWZpYyBjaGlsZCBvZiB0aGlzIG9iamVjdCwgeW91IGNhblxuICAgICAqIHVzZSB7QGxpbmsgT2JqZWN0M0QuZmluZEJ5TmFtZX0uXG4gICAgICpcbiAgICAgKiBXaGVuIHRoZSBvYmplY3QgZXhpc3RzIGluIHRoZSBzY2VuZSBhdCBlZGl0b3IgdGltZSwgcHJlZmVyIHBhc3NpbmcgaXQgYXNcbiAgICAgKiBhIGNvbXBvbmVudCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQ291bnQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2dldF9jaGlsZHJlbl9jb3VudCh0aGlzLm9iamVjdElkKTtcbiAgICAgICAgaWYgKGNoaWxkcmVuQ291bnQgPT09IDApXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5yZXF1aXJlVGVtcE1lbShjaGlsZHJlbkNvdW50ICogMik7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfZ2V0X2NoaWxkcmVuKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0sIHdhc20uX3RlbXBNZW1TaXplID4+IDEpO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG5ldyBBcnJheShjaGlsZHJlbkNvdW50KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3Qod2FzbS5fdGVtcE1lbVVpbnQxNltpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXBhcmVudCBvYmplY3QgdG8gZ2l2ZW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQG5vdGUgUmVwYXJlbnRpbmcgaXMgbm90IHRyaXZpYWwgYW5kIG1pZ2h0IGhhdmUgYSBub3RpY2VhYmxlIHBlcmZvcm1hbmNlIGltcGFjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdQYXJlbnQgTmV3IHBhcmVudCBvciBgbnVsbGAgdG8gcGFyZW50IHRvIHJvb3RcbiAgICAgKi9cbiAgICBzZXQgcGFyZW50KG5ld1BhcmVudCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9wYXJlbnQodGhpcy5vYmplY3RJZCwgbmV3UGFyZW50ID09IG51bGwgPyAwIDogbmV3UGFyZW50Lm9iamVjdElkKTtcbiAgICB9XG4gICAgLyoqIE9iamVjdCBpbmRleCBpbiB0aGUgbWFuYWdlci4gKi9cbiAgICBnZXQgb2JqZWN0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RJZDtcbiAgICB9XG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xuICAgIGdldCBlbmdpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IGxvY2FsIHRyYW5zZm9ybWF0aW9uICh0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxpbmcpIHRvIGlkZW50aXR5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJlc2V0VHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uX3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3NjYWxpbmcodGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCBsb2NhbCBwb3NpdGlvbiBhbmQgcm90YXRpb24gdG8gaWRlbnRpdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcmVzZXRQb3NpdGlvblJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uX3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJlc2V0UG9zaXRpb25Sb3RhdGlvbn0gaW5zdGVhZC4gKi9cbiAgICByZXNldFRyYW5zbGF0aW9uUm90YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCBsb2NhbCByb3RhdGlvbiwga2VlcCB0cmFuc2xhdGlvbi5cbiAgICAgKlxuICAgICAqIEBub3RlIFRvIHJlc2V0IGJvdGggcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uLCBwcmVmZXJcbiAgICAgKiAgICAgICB7QGxpbmsgcmVzZXRUcmFuc2xhdGlvblJvdGF0aW9ufS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByZXNldFJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgbG9jYWwgdHJhbnNsYXRpb24sIGtlZXAgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAbm90ZSBUbyByZXNldCBib3RoIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiwgcHJlZmVyXG4gICAgICogICAgICAge0BsaW5rIHJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbn0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcmVzZXRQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF90cmFuc2xhdGlvbih0aGlzLm9iamVjdElkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yZXNldFBvc2l0aW9ufSBpbnN0ZWFkLiAqL1xuICAgIHJlc2V0VHJhbnNsYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc2V0UG9zaXRpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgbG9jYWwgc2NhbGluZyB0byBpZGVudGl0eSAoYGBbMS4wLCAxLjAsIDEuMF1gYCkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcmVzZXRTY2FsaW5nKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3NjYWxpbmcodGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QudHJhbnNsYXRlTG9jYWx9IGluc3RlYWQuICovXG4gICAgdHJhbnNsYXRlKHYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlTG9jYWwodik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZSBvYmplY3QgYnkgYSB2ZWN0b3IgaW4gdGhlIHBhcmVudCdzIHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zbGF0ZSBieS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICB0cmFuc2xhdGVMb2NhbCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNsYXRlKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlIG9iamVjdCBieSBhIHZlY3RvciBpbiBvYmplY3Qgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNsYXRlIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHRyYW5zbGF0ZU9iamVjdCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNsYXRlX29iaih0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZSBvYmplY3QgYnkgYSB2ZWN0b3IgaW4gd29ybGQgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNsYXRlIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHRyYW5zbGF0ZVdvcmxkKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc2xhdGVfd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Qucm90YXRlQXhpc0FuZ2xlRGVnTG9jYWx9IGluc3RlYWQuICovXG4gICAgcm90YXRlQXhpc0FuZ2xlRGVnKGEsIGQpIHtcbiAgICAgICAgdGhpcy5yb3RhdGVBeGlzQW5nbGVEZWdMb2NhbChhLCBkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAoZGVncmVlcykgaW4gbG9jYWwgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYSBWZWN0b3IgcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbiBheGlzLlxuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIGRlZ3JlZXMuXG4gICAgICpcbiAgICAgKiBAbm90ZSBJZiB0aGUgb2JqZWN0IGlzIHRyYW5zbGF0ZWQgdGhlIHJvdGF0aW9uIHdpbGwgYmUgYXJvdW5kXG4gICAgICogICAgIHRoZSBwYXJlbnQuIFRvIHJvdGF0ZSBhcm91bmQgdGhlIG9iamVjdCBvcmlnaW4sIHVzZVxuICAgICAqICAgICB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0fVxuICAgICAqXG4gICAgICogQHNlZSB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlUmFkfVxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJvdGF0ZUF4aXNBbmdsZURlZ0xvY2FsKGEsIGQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZSh0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yb3RhdGVBeGlzQW5nbGVSYWRMb2NhbH0gaW5zdGVhZC4gKi9cbiAgICByb3RhdGVBeGlzQW5nbGVSYWQoYSwgZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGVBeGlzQW5nbGVSYWRMb2NhbChhLCBkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChyYWRpYW5zKSBpbiBsb2NhbCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXMuXG4gICAgICogQHBhcmFtIGQgQW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKlxuICAgICAqIEBub3RlIElmIHRoZSBvYmplY3QgaXMgdHJhbnNsYXRlZCB0aGUgcm90YXRpb24gd2lsbCBiZSBhcm91bmRcbiAgICAgKiAgICAgdGhlIHBhcmVudC4gVG8gcm90YXRlIGFyb3VuZCB0aGUgb2JqZWN0IG9yaWdpbiwgdXNlXG4gICAgICogICAgIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3R9XG4gICAgICpcbiAgICAgKiBAc2VlIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWd9XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcm90YXRlQXhpc0FuZ2xlUmFkTG9jYWwoYSwgZCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX3JhZCh0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAoZGVncmVlcykgaW4gb2JqZWN0IHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpcy5cbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiBkZWdyZWVzLlxuICAgICAqXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdH1cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3QoYSwgZCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX29iaih0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAocmFkaWFucykgaW4gb2JqZWN0IHNwYWNlXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXNcbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiBkZWdyZWVzXG4gICAgICpcbiAgICAgKiBAc2VlIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3R9XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGEsIGQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZV9yYWRfb2JqKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJvdGF0ZUxvY2FsfSBpbnN0ZWFkLiAqL1xuICAgIHJvdGF0ZShxKSB7XG4gICAgICAgIHRoaXMucm90YXRlTG9jYWwocSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgYnkgYSBxdWF0ZXJuaW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHEgdGhlIFF1YXRlcm5pb24gdG8gcm90YXRlIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJvdGF0ZUxvY2FsKHEpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfcXVhdCh0aGlzLm9iamVjdElkLCBxWzBdLCBxWzFdLCBxWzJdLCBxWzNdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBieSBhIHF1YXRlcm5pb24gaW4gb2JqZWN0IHNwYWNlLlxuICAgICAqXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBxIHRoZSBRdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByb3RhdGVPYmplY3QocSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9xdWF0X29iaih0aGlzLm9iamVjdElkLCBxWzBdLCBxWzFdLCBxWzJdLCBxWzNdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zY2FsZUxvY2FsfSBpbnN0ZWFkLiAqL1xuICAgIHNjYWxlKHYpIHtcbiAgICAgICAgdGhpcy5zY2FsZUxvY2FsKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NhbGUgb2JqZWN0IGJ5IGEgdmVjdG9yIGluIG9iamVjdCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byBzY2FsZSBieS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBzY2FsZUxvY2FsKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zY2FsZSh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldFBvc2l0aW9uTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIC8qIFRyYW5zbGF0aW9uIGlzIGRpZmZlcmVudCB0aGFuIHJvdGF0aW9uICYgc2NhbGluZy5cbiAgICAgICAgICogV2UgY2FuJ3Qgc2ltcGx5IHJlYWQgdGhlIG1lbW9yeS4gKi9cbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X2dldF90cmFuc2xhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgZ2V0VHJhbnNsYXRpb25Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvc2l0aW9uTG9jYWwob3V0KTtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb25Xb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgLyogVHJhbnNsYXRpb24gaXMgZGlmZmVyZW50IHRoYW4gcm90YXRpb24gJiBzY2FsaW5nLlxuICAgICAgICAgKiBXZSBjYW4ndCBzaW1wbHkgcmVhZCB0aGUgbWVtb3J5LiAqL1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X3RyYW5zbGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBnZXRUcmFuc2xhdGlvbldvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25Xb3JsZChvdXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgLyBvYmplY3Qgc3BhY2UgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBDb25jYXRlbmF0ZXMgYSBuZXcgdHJhbnNsYXRpb24gZHVhbCBxdWF0ZXJuaW9uIG9udG8gdGhlIGV4aXN0aW5nIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHYgTmV3IGxvY2FsIHBvc2l0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHNldFBvc2l0aW9uTG9jYWwodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF90cmFuc2xhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRQb3NpdGlvbkxvY2FsfSBpbnN0ZWFkLiAqL1xuICAgIHNldFRyYW5zbGF0aW9uTG9jYWwodikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQb3NpdGlvbkxvY2FsKHYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd29ybGQgc3BhY2UgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBBcHBsaWVzIHRoZSBpbnZlcnNlIHBhcmVudCB0cmFuc2Zvcm0gd2l0aCBhIG5ldyB0cmFuc2xhdGlvbiBkdWFsIHF1YXRlcm5pb25cbiAgICAgKiB3aGljaCBpcyBjb25jYXRlbmF0ZWQgb250byB0aGUgZXhpc3Rpbmcgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgcG9zaXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0UG9zaXRpb25Xb3JsZCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3RyYW5zbGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFBvc2l0aW9uV29ybGR9IGluc3RlYWQuICovXG4gICAgc2V0VHJhbnNsYXRpb25Xb3JsZCh2KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFBvc2l0aW9uV29ybGQodik7XG4gICAgfVxuICAgIGdldFNjYWxpbmdMb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgLyBvYmplY3Qgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyBsb2NhbCBzY2FsaW5nIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHNldFNjYWxpbmdMb2NhbCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRTY2FsaW5nV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF9zY2FsaW5nX3dvcmxkKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IFdvcmxkIHNwYWNlIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgc2NhbGluZyBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBzZXRTY2FsaW5nV29ybGQodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9zY2FsaW5nX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0Um90YXRpb25Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIC8qIFRoZSBmaXJzdCA0IGZsb2F0cyByZXByZXNlbnQgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24uICovXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgcm90YXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0Um90YXRpb25Mb2NhbCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3JvdGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0Um90YXRpb25Xb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIC8qIFRoZSBmaXJzdCA0IGZsb2F0cyByZXByZXNlbnQgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24uICovXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgcm90YXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0Um90YXRpb25Xb3JsZCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3JvdGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0VHJhbnNmb3JtTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSg4KSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcbiAgICAgICAgb3V0WzRdID0gd2FzbS5IRUFQRjMyW3B0ciArIDRdO1xuICAgICAgICBvdXRbNV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNV07XG4gICAgICAgIG91dFs2XSA9IHdhc20uSEVBUEYzMltwdHIgKyA2XTtcbiAgICAgICAgb3V0WzddID0gd2FzbS5IRUFQRjMyW3B0ciArIDddO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgbG9jYWwgdHJhbnNmb3JtIGFycmF5LCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDggZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0VHJhbnNmb3JtTG9jYWwodikge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyXSA9IHZbMF07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAxXSA9IHZbMV07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAyXSA9IHZbMl07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAzXSA9IHZbM107XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA0XSA9IHZbNF07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA1XSA9IHZbNV07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA2XSA9IHZbNl07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA3XSA9IHZbN107XG4gICAgICAgIHRoaXMuc2V0RGlydHkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldFRyYW5zZm9ybVdvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoOCkpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xuICAgICAgICBvdXRbM10gPSB3YXNtLkhFQVBGMzJbcHRyICsgM107XG4gICAgICAgIG91dFs0XSA9IHdhc20uSEVBUEYzMltwdHIgKyA0XTtcbiAgICAgICAgb3V0WzVdID0gd2FzbS5IRUFQRjMyW3B0ciArIDVdO1xuICAgICAgICBvdXRbNl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNl07XG4gICAgICAgIG91dFs3XSA9IHdhc20uSEVBUEYzMltwdHIgKyA3XTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHRyYW5zZm9ybSBhcnJheSwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA4IGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHNldFRyYW5zZm9ybVdvcmxkKHYpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0cl0gPSB2WzBdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMV0gPSB2WzFdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSB2WzJdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgM10gPSB2WzNdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNF0gPSB2WzRdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNV0gPSB2WzVdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNl0gPSB2WzZdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgN10gPSB2WzddO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkX3RvX2xvY2FsKHRoaXMub2JqZWN0SWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9jYWwgc3BhY2UgdHJhbnNmb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Mb2NhbH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybUxvY2FsfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCB0cmFuc2Zvcm1Mb2NhbCgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9vYmplY3RfdHJhbnNfbG9jYWwodGhpcy5vYmplY3RJZCksIDgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHQgTG9jYWwgc3BhY2UgdHJhbnNmb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjVcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFRyYW5zZm9ybUxvY2FsfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtTG9jYWx9IGluc3RlYWQuXG4gICAgICovXG4gICAgc2V0IHRyYW5zZm9ybUxvY2FsKHQpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1Mb2NhbC5zZXQodCk7XG4gICAgICAgIHRoaXMuc2V0RGlydHkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2xvYmFsIC8gd29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBNYXkgcmVjb21wdXRlIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgaGllcmFyY2h5IG9mIHRoaXMgb2JqZWN0LFxuICAgICAqIGlmIHRoZXkgd2VyZSBjaGFuZ2VkIGJ5IEphdmFTY3JpcHQgY29tcG9uZW50cyB0aGlzIGZyYW1lLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0VHJhbnNmb3JtV29ybGR9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRUcmFuc2Zvcm1Xb3JsZH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgdHJhbnNmb3JtV29ybGQoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkKHRoaXMub2JqZWN0SWQpLCA4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdvcmxkIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0IEdsb2JhbCAvIHdvcmxkIHNwYWNlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC41XG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Xb3JsZH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybVdvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHNldCB0cmFuc2Zvcm1Xb3JsZCh0KSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtV29ybGQuc2V0KHQpO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkX3RvX2xvY2FsKHRoaXMub2JqZWN0SWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2NhbCAvIG9iamVjdCBzcGFjZSBzY2FsaW5nLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ0xvY2FsfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ0xvY2FsfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCBzY2FsaW5nTG9jYWwoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCksIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzIExvY2FsIHNwYWNlIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFNjYWxpbmdMb2NhbH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdMb2NhbH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBzZXQgc2NhbGluZ0xvY2FsKHMpIHtcbiAgICAgICAgdGhpcy5zY2FsaW5nTG9jYWwuc2V0KHMpO1xuICAgICAgICB0aGlzLnNldERpcnR5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBNYXkgcmVjb21wdXRlIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgaGllcmFyY2h5IG9mIHRoaXMgb2JqZWN0LFxuICAgICAqIGlmIHRoZXkgd2VyZSBjaGFuZ2VkIGJ5IEphdmFTY3JpcHQgY29tcG9uZW50cyB0aGlzIGZyYW1lLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ1dvcmxkfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ1dvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCBzY2FsaW5nV29ybGQoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfd29ybGQodGhpcy5vYmplY3RJZCksIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd29ybGQgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0IFdvcmxkIHNwYWNlIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFNjYWxpbmdXb3JsZH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdXb3JsZH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBzZXQgc2NhbGluZ1dvcmxkKHMpIHtcbiAgICAgICAgdGhpcy5zY2FsaW5nV29ybGQuc2V0KHMpO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfd29ybGRfdG9fbG9jYWwodGhpcy5vYmplY3RJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2FsIHNwYWNlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSb3RhdGlvbkxvY2FsfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0Quc2V0Um90YXRpb25Mb2NhbH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgcm90YXRpb25Mb2NhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtTG9jYWwuc3ViYXJyYXkoMCwgNCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHJvdGF0aW9uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uV29ybGR9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5zZXRSb3RhdGlvbldvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCByb3RhdGlvbldvcmxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Xb3JsZC5zdWJhcnJheSgwLCA0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGxvY2FsIHNwYWNlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHIgTG9jYWwgc3BhY2Ugcm90YXRpb25cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Mb2NhbH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uTG9jYWx9IGluc3RlYWQuXG4gICAgICovXG4gICAgc2V0IHJvdGF0aW9uTG9jYWwocikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9yb3RhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCByWzBdLCByWzFdLCByWzJdLCByWzNdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHIgR2xvYmFsIC8gd29ybGQgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uV29ybGR9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5zZXRSb3RhdGlvbldvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHNldCByb3RhdGlvbldvcmxkKHIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgclswXSwgclsxXSwgclsyXSwgclszXSk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRGb3J3YXJkV29ybGR9IGluc3RlYWQuICovXG4gICAgZ2V0Rm9yd2FyZChvdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9yd2FyZFdvcmxkKG91dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIGZvcndhcmQgZmFjaW5nIHdvcmxkIHNwYWNlIHZlY3Rvci5cbiAgICAgKlxuICAgICAqIFRoZSBmb3J3YXJkIHZlY3RvciBpbiBvYmplY3Qgc3BhY2UgaXMgYWxvbmcgdGhlIG5lZ2F0aXZlIHotYXhpcywgaS5lLixcbiAgICAgKiBgWzAsIDAsIC0xXWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBnZXRGb3J3YXJkV29ybGQob3V0KSB7XG4gICAgICAgIG91dFswXSA9IDA7XG4gICAgICAgIG91dFsxXSA9IDA7XG4gICAgICAgIG91dFsyXSA9IC0xO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRVcFdvcmxkfSBpbnN0ZWFkLiAqL1xuICAgIGdldFVwKG91dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVcFdvcmxkKG91dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIHVwIGZhY2luZyB3b3JsZCBzcGFjZSB2ZWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBnZXRVcFdvcmxkKG91dCkge1xuICAgICAgICBvdXRbMF0gPSAwO1xuICAgICAgICBvdXRbMV0gPSAxO1xuICAgICAgICBvdXRbMl0gPSAwO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSaWdodFdvcmxkfSBpbnN0ZWFkLiAqL1xuICAgIGdldFJpZ2h0KG91dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSaWdodFdvcmxkKG91dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIHJpZ2h0IGZhY2luZyB3b3JsZCBzcGFjZSB2ZWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBnZXRSaWdodFdvcmxkKG91dCkge1xuICAgICAgICBvdXRbMF0gPSAxO1xuICAgICAgICBvdXRbMV0gPSAwO1xuICAgICAgICBvdXRbMl0gPSAwO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIHdvcmxkIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3RvclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGBcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1WZWN0b3JXb3JsZChvdXQsIHYgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9yV29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3RvclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGBcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1WZWN0b3JMb2NhbChvdXQsIHYgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9yTG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3Mgd29ybGQgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVBvaW50V29ybGQob3V0LCBwID0gb3V0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gcFswXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gcFsxXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gcFsyXTtcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50V29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3MgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVBvaW50TG9jYWwob3V0LCBwID0gb3V0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gcFswXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gcFsxXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gcFsyXTtcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50TG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGludmVyc2Ugd29ybGQgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yLlxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICovXG4gICAgdHJhbnNmb3JtVmVjdG9ySW52ZXJzZVdvcmxkKG91dCwgdiA9IG91dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JJbnZlcnNlV29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGludmVyc2UgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YFxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVZlY3RvckludmVyc2VMb2NhbChvdXQsIHYgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9ySW52ZXJzZUxvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gYSBwb2ludCBieSB0aGlzIG9iamVjdCdzIGludmVyc2Ugd29ybGQgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKG91dCwgcCA9IG91dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHBbMF07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHBbMV07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHBbMl07XG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyBpbnZlcnNlIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHBvaW50LlxuICAgICAqIEBwYXJhbSBwIFBvaW50IHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1Qb2ludEludmVyc2VMb2NhbChvdXQsIHAgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHApO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRJbnZlcnNlTG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhbiBvYmplY3Qgc3BhY2UgZHVhbCBxdWF0ZXJuaW9uIGludG8gd29ybGQgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKiBAcGFyYW0gcSBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbiwgZGVmYXVsdCBgb3V0YC5cbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0b1dvcmxkU3BhY2VUcmFuc2Zvcm0ob3V0LCBxID0gb3V0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnNldChxKTtcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RvV29ybGRTcGFjZVRyYW5zZm9ybSh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzNdO1xuICAgICAgICBvdXRbNF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNF07XG4gICAgICAgIG91dFs1XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs1XTtcbiAgICAgICAgb3V0WzZdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzZdO1xuICAgICAgICBvdXRbN10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbN107XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHdvcmxkIHNwYWNlIGR1YWwgcXVhdGVybmlvbiBpbnRvIGxvY2FsIHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgdHJhbnNmb3JtYXRpb25cbiAgICAgKiBAcGFyYW0gcSBXb3JsZCBzcGFjZSB0cmFuc2Zvcm1hdGlvbiwgZGVmYXVsdCBgb3V0YFxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRvTG9jYWxTcGFjZVRyYW5zZm9ybShvdXQsIHEgPSBvdXQpIHtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMucGFyZW50O1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgcC50b09iamVjdFNwYWNlVHJhbnNmb3JtKG91dCwgcSk7XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXQgIT09IHEpIHtcbiAgICAgICAgICAgIG91dFswXSA9IHFbMF07XG4gICAgICAgICAgICBvdXRbMV0gPSBxWzFdO1xuICAgICAgICAgICAgb3V0WzJdID0gcVsyXTtcbiAgICAgICAgICAgIG91dFszXSA9IHFbM107XG4gICAgICAgICAgICBvdXRbNF0gPSBxWzRdO1xuICAgICAgICAgICAgb3V0WzVdID0gcVs1XTtcbiAgICAgICAgICAgIG91dFs2XSA9IHFbNl07XG4gICAgICAgICAgICBvdXRbN10gPSBxWzddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHdvcmxkIHNwYWNlIGR1YWwgcXVhdGVybmlvbiBpbnRvIG9iamVjdCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIEBwYXJhbSBxIFdvcmxkIHNwYWNlIHRyYW5zZm9ybWF0aW9uLCBkZWZhdWx0IGBvdXRgXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICovXG4gICAgdG9PYmplY3RTcGFjZVRyYW5zZm9ybShvdXQsIHEgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHEpO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdG9PYmplY3RTcGFjZVRyYW5zZm9ybSh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzNdO1xuICAgICAgICBvdXRbNF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNF07XG4gICAgICAgIG91dFs1XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs1XTtcbiAgICAgICAgb3V0WzZdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzZdO1xuICAgICAgICBvdXRbN10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbN107XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR1cm4gdG93YXJkcyAvIGxvb2sgYXQgdGFyZ2V0LlxuICAgICAqXG4gICAgICogUm90YXRlcyB0aGUgb2JqZWN0IHNvIHRoYXQgaXRzIGZvcndhcmQgdmVjdG9yIGZhY2VzIHRvd2FyZHMgdGhlIHRhcmdldFxuICAgICAqIHBvc2l0aW9uLiBUaGUgYHVwYCB2ZWN0b3IgYWN0cyBhcyBhIGhpbnQgdG8gdW5pcXVlbHkgb3JpZW50IHRoZSBvYmplY3Qnc1xuICAgICAqIHVwIGRpcmVjdGlvbi4gV2hlbiBvcmllbnRpbmcgYSB2aWV3IGNvbXBvbmVudCwgdGhlIHByb2plY3RlZCBgdXBgIHZlY3RvclxuICAgICAqIGZhY2VzIHVwd2FyZHMgb24gdGhlIHZpZXdpbmcgcGxhbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcCBUYXJnZXQgcG9zaXRpb24gdG8gdHVybiB0b3dhcmRzLCBpbiB3b3JsZCBzcGFjZS5cbiAgICAgKiBAcGFyYW0gdXAgVXAgdmVjdG9yIHRvIGFsaWduIG9iamVjdCB3aXRoLCBpbiB3b3JsZCBzcGFjZS4gRGVmYXVsdCBpcyBgWzAsIDEsIDBdYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBsb29rQXQocCwgdXAgPSBVUF9WRUNUT1IpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9sb29rQXQodGhpcy5vYmplY3RJZCwgcFswXSwgcFsxXSwgcFsyXSwgdXBbMF0sIHVwWzFdLCB1cFsyXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogRGVzdHJveSB0aGUgb2JqZWN0IHdpdGggYWxsIG9mIGl0cyBjb21wb25lbnRzIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgc2NlbmUgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fb2JqZWN0SWQgPCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKiBSZW1vdmUgZnJvbSB0aGUgY2FjaGUgdG8gYXZvaWQgc2lkZS1lZmZlY3RzIHdoZW5cbiAgICAgICAgICogcmUtY3JlYXRpbmcgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgaWQuICovXG4gICAgICAgIHRoaXMuX2VuZ2luZS5fb2JqZWN0Q2FjaGVbdGhpcy5fb2JqZWN0SWRdID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3NjZW5lX3JlbW92ZV9vYmplY3QodGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHRoaXMuX29iamVjdElkID0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmsgdHJhbnNmb3JtYXRpb24gZGlydHkuXG4gICAgICpcbiAgICAgKiBDYXVzZXMgYW4gZXZlbnR1YWwgcmVjYWxjdWxhdGlvbiBvZiB7QGxpbmsgdHJhbnNmb3JtV29ybGR9LCBlaXRoZXJcbiAgICAgKiBvbiBuZXh0IHtAbGluayBnZXRUcmFuc2xhdGlvbldvcmxkfSwge0BsaW5rIHRyYW5zZm9ybVdvcmxkfSBvclxuICAgICAqIHtAbGluayBzY2FsaW5nV29ybGR9IG9yIHRoZSBiZWdpbm5pbmcgb2YgbmV4dCBmcmFtZSwgd2hpY2hldmVyXG4gICAgICogaGFwcGVucyBmaXJzdC5cbiAgICAgKi9cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfZGlydHkodGhpcy5vYmplY3RJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2FibGUvZW5hYmxlIGFsbCBjb21wb25lbnRzIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgTmV3IHN0YXRlIGZvciB0aGUgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguNVxuICAgICAqL1xuICAgIHNldCBhY3RpdmUoYikge1xuICAgICAgICBjb25zdCBjb21wcyA9IHRoaXMuZ2V0Q29tcG9uZW50cygpO1xuICAgICAgICBmb3IgKGxldCBjIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICBjLmFjdGl2ZSA9IGI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29tcG9uZW50KHR5cGVPckNsYXNzLCBpbmRleCA9IDApIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGlzU3RyaW5nKHR5cGVPckNsYXNzKSA/IHR5cGVPckNsYXNzIDogdHlwZU9yQ2xhc3MuVHlwZU5hbWU7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50VHlwZSA9IHdhc20uX3dsX2dldF9jb21wb25lbnRfbWFuYWdlcl9pbmRleCh3YXNtLnRlbXBVVEY4KHR5cGUpKTtcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPCAwKSB7XG4gICAgICAgICAgICAvKiBOb3QgYSBuYXRpdmUgY29tcG9uZW50LCB0cnkganM6ICovXG4gICAgICAgICAgICBjb25zdCB0eXBlSW5kZXggPSB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlXTtcbiAgICAgICAgICAgIGlmICh0eXBlSW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGpzSW5kZXggPSB3YXNtLl93bF9nZXRfanNfY29tcG9uZW50X2luZGV4KHRoaXMub2JqZWN0SWQsIHR5cGVJbmRleCwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGpzSW5kZXggPCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5fZW5naW5lLndhc20uX2NvbXBvbmVudHNbanNJbmRleF07XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LmNvbnN0cnVjdG9yICE9PSBCcm9rZW5Db21wb25lbnQgPyBjb21wb25lbnQgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2dldF9jb21wb25lbnRfaWQodGhpcy5vYmplY3RJZCwgY29tcG9uZW50VHlwZSwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLl93cmFwQ29tcG9uZW50KHR5cGUsIGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudElkKTtcbiAgICB9XG4gICAgZ2V0Q29tcG9uZW50cyh0eXBlT3JDbGFzcykge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGxldCBjb21wb25lbnRUeXBlID0gbnVsbDtcbiAgICAgICAgbGV0IHR5cGUgPSBudWxsO1xuICAgICAgICBpZiAodHlwZU9yQ2xhc3MpIHtcbiAgICAgICAgICAgIHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZSA9IHdhc20uX3R5cGVJbmRleEZvcih0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gW107XG4gICAgICAgIGNvbnN0IG1heENvbXBzID0gTWF0aC5mbG9vcigod2FzbS5fdGVtcE1lbVNpemUgLyAzKSAqIDIpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRzQ291bnQgPSB3YXNtLl93bF9vYmplY3RfZ2V0X2NvbXBvbmVudHModGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSwgbWF4Q29tcHMpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAyICogY29tcG9uZW50c0NvdW50O1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X2NvbXBvbmVudF90eXBlcyh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtICsgb2Zmc2V0LCBtYXhDb21wcyk7XG4gICAgICAgIGNvbnN0IGpzTWFuYWdlckluZGV4ID0gd2FzbS5fanNNYW5hZ2VySW5kZXg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50c0NvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB3YXNtLl90ZW1wTWVtVWludDhbaSArIG9mZnNldF07XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHdhc20uX3RlbXBNZW1VaW50MTZbaV07XG4gICAgICAgICAgICAvKiBIYW5kbGUgSlMgdHlwZXMgc2VwYXJhdGVseSAqL1xuICAgICAgICAgICAgaWYgKHQgPT0ganNNYW5hZ2VySW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlSW5kZXggPSB3YXNtLl93bF9nZXRfanNfY29tcG9uZW50X2luZGV4X2Zvcl9pZChjb21wb25lbnRJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcCA9IHdhc20uX2NvbXBvbmVudHNbdHlwZUluZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gY29tcG9uZW50VHlwZSA9PT0gbnVsbCB8fCBjb21wLnR5cGUgPT0gdHlwZTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcC5jb25zdHJ1Y3RvciAhPT0gQnJva2VuQ29tcG9uZW50ICYmIG1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKGNvbXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wb25lbnRUeXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFuYWdlck5hbWUgPSB3YXNtLl90eXBlTmFtZUZvcih0KTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLnB1c2godGhpcy5fZW5naW5lLl93cmFwQ29tcG9uZW50KG1hbmFnZXJOYW1lLCB0LCBjb21wb25lbnRJZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodCA9PSBjb21wb25lbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgLyogT3B0aW1pemVkIG1hbmFnZXIgbmFtZSByZXRyaWV2YWwsIGFscmVhZHkgaGF2ZSB0eXBlICovXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnRzO1xuICAgIH1cbiAgICBhZGRDb21wb25lbnQodHlwZU9yQ2xhc3MsIHBhcmFtcykge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xuICAgICAgICBjb25zdCBjb21wb25lbnRUeXBlID0gd2FzbS5fdHlwZUluZGV4Rm9yKHR5cGUpO1xuICAgICAgICBsZXQgY29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgbGV0IGNvbXBvbmVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPCAwKSB7XG4gICAgICAgICAgICAvKiBKYXZhU2NyaXB0IGNvbXBvbmVudCAqL1xuICAgICAgICAgICAgaWYgKCEodHlwZSBpbiB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBjb21wb25lbnQgdHlwZSAnXCIgKyB0eXBlICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl93bF9vYmplY3RfYWRkX2pzX2NvbXBvbmVudCh0aGlzLm9iamVjdElkLCB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlXSk7XG4gICAgICAgICAgICBjb21wb25lbnRJbmRleCA9IHdhc20uX3dsX2dldF9qc19jb21wb25lbnRfaW5kZXhfZm9yX2lkKGNvbXBvbmVudElkKTtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IHdhc20uX2NvbXBvbmVudHNbY29tcG9uZW50SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogbmF0aXZlIGNvbXBvbmVudCAqL1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl93bF9vYmplY3RfYWRkX2NvbXBvbmVudCh0aGlzLm9iamVjdElkLCBjb21wb25lbnRUeXBlKTtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdG9yID0gY29tcG9uZW50LmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIGN0b3IuUHJvcGVydGllcykpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFtrZXldID0gcGFyYW1zW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogRXhwbGljaXRseSBpbml0aWFsaXplIG5hdGl2ZSBjb21wb25lbnRzICovXG4gICAgICAgIGlmIChjb21wb25lbnRUeXBlIDwgMCkge1xuICAgICAgICAgICAgLyogQHRvZG86IGBjb21wb25lbnRJbmRleGAgY2FuIGJlIG51bGwgaGVyZSwgdGhhdCdzIGFuIGVycm9yICovXG4gICAgICAgICAgICB3YXNtLl93bGpzX2NvbXBvbmVudF9pbml0KGNvbXBvbmVudEluZGV4KTtcbiAgICAgICAgICAgIC8qIHN0YXJ0KCkgaXMgY2FsbGVkIHRocm91Z2ggb25BY3RpdmF0ZSgpICovXG4gICAgICAgIH1cbiAgICAgICAgLyogSWYgaXQgd2FzIG5vdCBleHBsaWNpdGx5IHJlcXVlc3RlZCBieSB0aGUgdXNlciB0byBsZWF2ZSB0aGUgY29tcG9uZW50IGluYWN0aXZlLFxuICAgICAgICAgKiB3ZSBhY3RpdmF0ZSBpdCBhcyBhIGZpbmFsIHN0ZXAuIFRoaXMgaW52YWxpZGF0ZXMgY29tcG9uZW50SW5kZXghICovXG4gICAgICAgIGlmICghcGFyYW1zIHx8ICEoJ2FjdGl2ZScgaW4gcGFyYW1zICYmICFwYXJhbXMuYWN0aXZlKSkge1xuICAgICAgICAgICAgY29tcG9uZW50LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VhcmNoIGZvciBkZXNjZW5kYW50cyBtYXRjaGluZyB0aGUgbmFtZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGEgd3JhcHBlciBhcm91bmQge0BsaW5rIE9iamVjdDNELmZpbmRCeU5hbWVEaXJlY3R9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5maW5kQnlOYW1lUmVjdXJzaXZlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHJlY3Vyc2l2ZSBJZiBgdHJ1ZWAsIHRoZSBtZXRob2Qgd2lsbCBsb29rIGF0IGFsbCB0aGUgZGVzY2VuZGFudHMgb2YgdGhpcyBvYmplY3QuXG4gICAgICogICAgIElmIGBmYWxzZWAsIHRoaXMgbWV0aG9kIHdpbGwgb25seSBwZXJmb3JtIHRoZSBzZWFyY2ggaW4gZGlyZWN0IGNoaWxkcmVuLlxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHtAbGluayBPYmplY3QzRH0gbWF0Y2hpbmcgdGhlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKi9cbiAgICBmaW5kQnlOYW1lKG5hbWUsIHJlY3Vyc2l2ZSA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiByZWN1cnNpdmUgPyB0aGlzLmZpbmRCeU5hbWVSZWN1cnNpdmUobmFtZSkgOiB0aGlzLmZpbmRCeU5hbWVEaXJlY3QobmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBmb3IgYWxsICoqZGlyZWN0KiogY2hpbGRyZW4gbWF0Y2hpbmcgdGhlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAbm90ZSBFdmVuIHRob3VnaCB0aGlzIG1ldGhvZCBpcyBoZWF2aWx5IG9wdGltaXplZCwgaXQgZG9lcyBwZXJmb3JtXG4gICAgICogYSBsaW5lYXIgc2VhcmNoIHRvIGZpbmQgdGhlIG9iamVjdHMuIERvIG5vdCB1c2UgaW4gYSBob3QgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2Yge0BsaW5rIE9iamVjdDNEfSBtYXRjaGluZyB0aGUgbmFtZS5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqL1xuICAgIGZpbmRCeU5hbWVEaXJlY3QobmFtZSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fb2JqZWN0SWQ7XG4gICAgICAgIC8qIERpdmlkZSBieSA0IHRvIGdldCBoYWxmIGFzIG1hbnkgdXNob3J0IGFzIHBvc3NpYmxlICovXG4gICAgICAgIGNvbnN0IHRlbXBTaXplVTE2ID0gd2FzbS5fdGVtcE1lbVNpemUgPj4gMjtcbiAgICAgICAgY29uc3QgbWF4Q291bnQgPSB0ZW1wU2l6ZVUxNiAtIDI7IC8qIFJlc2VydmUgdHdvIHVzaG9ydCAqL1xuICAgICAgICBjb25zdCBidWZmZXIgPSB3YXNtLl90ZW1wTWVtVWludDE2O1xuICAgICAgICBidWZmZXJbbWF4Q291bnRdID0gMDsgLyogSW5kZXggb2Zmc2V0ICovXG4gICAgICAgIGJ1ZmZlclttYXhDb3VudCArIDFdID0gMDsgLyogY2hpbGQgY291bnQgKi9cbiAgICAgICAgY29uc3QgYnVmZmVyUHRyID0gd2FzbS5fdGVtcE1lbTtcbiAgICAgICAgY29uc3QgaW5kZXhQdHIgPSBidWZmZXJQdHIgKyBtYXhDb3VudCAqIDI7XG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnRQdHIgPSBidWZmZXJQdHIgKyBtYXhDb3VudCAqIDIgKyAyO1xuICAgICAgICBjb25zdCBuYW1lUHRyID0gd2FzbS50ZW1wVVRGOChuYW1lLCAobWF4Q291bnQgKyAyKSAqIDIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IHJlYWQgPSAwO1xuICAgICAgICB3aGlsZSAoKHJlYWQgPSB3YXNtLl93bF9vYmplY3RfZmluZEJ5TmFtZShpZCwgbmFtZVB0ciwgaW5kZXhQdHIsIGNoaWxkQ291bnRQdHIsIGJ1ZmZlclB0ciwgbWF4Q291bnQpKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWFkOyArK2kpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5lbmdpbmUud3JhcE9iamVjdChidWZmZXJbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggZm9yICoqYWxsIGRlc2NlbmRhbnRzKiogbWF0Y2hpbmcgdGhlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAbm90ZSBFdmVuIHRob3VnaCB0aGlzIG1ldGhvZCBpcyBoZWF2aWx5IG9wdGltaXplZCwgaXQgZG9lcyBwZXJmb3JtXG4gICAgICogYSBsaW5lYXIgc2VhcmNoIHRvIGZpbmQgdGhlIG9iamVjdHMuIERvIG5vdCB1c2UgaW4gYSBob3QgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2Yge0BsaW5rIE9iamVjdDNEfSBtYXRjaGluZyB0aGUgbmFtZS5cbiAgICAgKi9cbiAgICBmaW5kQnlOYW1lUmVjdXJzaXZlKG5hbWUpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX29iamVjdElkO1xuICAgICAgICAvKiBEaXZpZGUgYnkgNCB0byBnZXQgaGFsZiBhcyBtYW55IHVzaG9ydCBhcyBwb3NzaWJsZSAqL1xuICAgICAgICBjb25zdCB0ZW1wU2l6ZVUxNiA9IHdhc20uX3RlbXBNZW1TaXplID4+IDI7XG4gICAgICAgIGNvbnN0IG1heENvdW50ID0gdGVtcFNpemVVMTYgLSAxOyAvKiBSZXNlcnZlIG9uZSB1c2hvcnQgKi9cbiAgICAgICAgY29uc3QgYnVmZmVyID0gd2FzbS5fdGVtcE1lbVVpbnQxNjtcbiAgICAgICAgYnVmZmVyW21heENvdW50XSA9IDA7IC8qIEluZGV4IG9mZnNldCAqL1xuICAgICAgICBjb25zdCBidWZmZXJQdHIgPSB3YXNtLl90ZW1wTWVtO1xuICAgICAgICBjb25zdCBpbmRleFB0ciA9IGJ1ZmZlclB0ciArIG1heENvdW50ICogMjtcbiAgICAgICAgY29uc3QgbmFtZVB0ciA9IHdhc20udGVtcFVURjgobmFtZSwgKG1heENvdW50ICsgMSkgKiAyKTtcbiAgICAgICAgbGV0IHJlYWQgPSAwO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgd2hpbGUgKChyZWFkID0gd2FzbS5fd2xfb2JqZWN0X2ZpbmRCeU5hbWVSZWN1cnNpdmUoaWQsIG5hbWVQdHIsIGluZGV4UHRyLCBidWZmZXJQdHIsIG1heENvdW50KSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVhZDsgKytpKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZW5naW5lLndyYXBPYmplY3QoYnVmZmVyW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciBnaXZlbiBvYmplY3QncyB0cmFuc2Zvcm1hdGlvbiBoYXMgY2hhbmdlZC5cbiAgICAgKi9cbiAgICBnZXQgY2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9pc19jaGFuZ2VkKHRoaXMub2JqZWN0SWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIG9iamVjdCBpZHMgYXJlXG4gICAgICogZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXJPYmplY3QgT2JqZWN0IHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIG9iamVjdCBlcXVhbHMgdGhlIGdpdmVuIG9iamVjdC5cbiAgICAgKi9cbiAgICBlcXVhbHMob3RoZXJPYmplY3QpIHtcbiAgICAgICAgaWYgKCFvdGhlck9iamVjdClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0SWQgPT0gb3RoZXJPYmplY3Qub2JqZWN0SWQ7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBza2luIGRhdGEuXG4gKi9cbmV4cG9ydCBjbGFzcyBTa2luIHtcbiAgICAvKipcbiAgICAgKiBJbmRleCBvZiB0aGUgc2tpbiBpbiB0aGUgbWFuYWdlci5cbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX2luZGV4O1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBpbmRleCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XG4gICAgfVxuICAgIC8qKiBBbW91bnQgb2Ygam9pbnRzIGluIHRoaXMgc2tpbi4gKi9cbiAgICBnZXQgam9pbnRDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9za2luX2dldF9qb2ludF9jb3VudCh0aGlzLl9pbmRleCk7XG4gICAgfVxuICAgIC8qKiBKb2ludHMgb2JqZWN0IGlkcyBmb3IgdGhpcyBza2luICovXG4gICAgZ2V0IGpvaW50SWRzKCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkod2FzbS5IRUFQVTE2LmJ1ZmZlciwgd2FzbS5fd2xfc2tpbl9qb2ludF9pZHModGhpcy5faW5kZXgpLCB0aGlzLmpvaW50Q291bnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEdWFsIHF1YXRlcm5pb25zIGluIGEgZmxhdCBhcnJheSBvZiBzaXplIDggdGltZXMge0BsaW5rIGpvaW50Q291bnR9LlxuICAgICAqXG4gICAgICogSW52ZXJzZSBiaW5kIHRyYW5zZm9ybXMgb2YgdGhlIHNraW4uXG4gICAgICovXG4gICAgZ2V0IGludmVyc2VCaW5kVHJhbnNmb3JtcygpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9za2luX2ludmVyc2VfYmluZF90cmFuc2Zvcm1zKHRoaXMuX2luZGV4KSwgOCAqIHRoaXMuam9pbnRDb3VudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZlY3RvcnMgaW4gYSBmbGF0IGFycmF5IG9mIHNpemUgMyB0aW1lcyB7QGxpbmsgam9pbnRDb3VudH0uXG4gICAgICpcbiAgICAgKiBJbnZlcnNlIGJpbmQgc2NhbGluZ3Mgb2YgdGhlIHNraW4uXG4gICAgICovXG4gICAgZ2V0IGludmVyc2VCaW5kU2NhbGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfc2tpbl9pbnZlcnNlX2JpbmRfc2NhbGluZ3ModGhpcy5faW5kZXgpLCAzICogdGhpcy5qb2ludENvdW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBza2luIGlkcyBhcmVcbiAgICAgKiBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlclNraW4gU2tpbiB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBza2luIGVxdWFscyB0aGUgZ2l2ZW4gc2tpbi5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlclNraW4pIHtcbiAgICAgICAgaWYgKCFvdGhlclNraW4pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJTa2luLl9pbmRleDtcbiAgICB9XG59XG4vKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIDwgMS4wLjAuICovXG5leHBvcnQgeyBPYmplY3QzRCBhcyBPYmplY3QgfTtcbi8qKlxuICogUmF5IGhpdC5cbiAqXG4gKiBSZXN1bHQgb2YgYSB7QGxpbmsgU2NlbmUucmF5Q2FzdH0uXG4gKlxuICogQG5vdGUgdGhpcyBjbGFzcyB3cmFwcyBpbnRlcm5hbCBlbmdpbmUgZGF0YSBhbmQgc2hvdWxkIG9ubHkgYmUgY3JlYXRlZCBpbnRlcm5hbGx5LlxuICovXG5leHBvcnQgY2xhc3MgUmF5SGl0IHtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKiBQb2ludGVyIHRvIHRoZSBtZW1vcnkgaGVhcC4gKi9cbiAgICBfcHRyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwdHIgUG9pbnRlciB0byB0aGUgcmF5IGhpdHMgbWVtb3J5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgcHRyKSB7XG4gICAgICAgIGlmICgocHRyICYgMykgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzYWxpZ25lZCBwb2ludGVyOiBwbGVhc2UgcmVwb3J0IGEgYnVnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgICAgICB0aGlzLl9wdHIgPSBwdHI7XG4gICAgfVxuICAgIC8qKiBBcnJheSBvZiByYXkgaGl0IGxvY2F0aW9ucy4gKi9cbiAgICBnZXQgbG9jYXRpb25zKCkge1xuICAgICAgICBsZXQgcCA9IHRoaXMuX3B0cjtcbiAgICAgICAgbGV0IGwgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmhpdENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGwucHVzaChuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2VuZ2luZS53YXNtLkhFQVBGMzIuYnVmZmVyLCBwICsgMTIgKiBpLCAzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIC8qKiBBcnJheSBvZiByYXkgaGl0IG5vcm1hbHMgKG9ubHkgd2hlbiB1c2luZyB7QGxpbmsgUGh5c2ljcyNyYXlDYXN0fS4gKi9cbiAgICBnZXQgbm9ybWFscygpIHtcbiAgICAgICAgbGV0IHAgPSB0aGlzLl9wdHIgKyA0ODtcbiAgICAgICAgbGV0IGwgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmhpdENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGwucHVzaChuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2VuZ2luZS53YXNtLkhFQVBGMzIuYnVmZmVyLCBwICsgMTIgKiBpLCAzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZWZlciB0aGVzZSB0byByZWNhbGN1bGF0aW5nIHRoZSBkaXN0YW5jZSBmcm9tIGxvY2F0aW9ucy5cbiAgICAgKlxuICAgICAqIERpc3RhbmNlcyBvZiBhcnJheSBoaXRzIHRvIHJheSBvcmlnaW4uXG4gICAgICovXG4gICAgZ2V0IGRpc3RhbmNlcygpIHtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX3B0ciArIDQ4ICogMjtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fZW5naW5lLndhc20uSEVBUEYzMi5idWZmZXIsIHAsIHRoaXMuaGl0Q291bnQpO1xuICAgIH1cbiAgICAvKiogSGl0IG9iamVjdHMgKi9cbiAgICBnZXQgb2JqZWN0cygpIHtcbiAgICAgICAgY29uc3QgSEVBUFUxNiA9IHRoaXMuX2VuZ2luZS53YXNtLkhFQVBVMTY7XG4gICAgICAgIGNvbnN0IG9iamVjdHMgPSBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF07XG4gICAgICAgIGxldCBwID0gKHRoaXMuX3B0ciArICg0OCAqIDIgKyAxNikpID4+IDE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oaXRDb3VudDsgKytpKSB7XG4gICAgICAgICAgICBvYmplY3RzW2ldID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3QoSEVBUFUxNltwICsgaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3RzO1xuICAgIH1cbiAgICAvKiogTnVtYmVyIG9mIGhpdHMgKG1heCA0KSAqL1xuICAgIGdldCBoaXRDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuX2VuZ2luZS53YXNtLkhFQVBVMzJbdGhpcy5fcHRyIC8gNCArIDMwXSwgNCk7XG4gICAgfVxufVxuY2xhc3MgbWF0aCB7XG4gICAgLyoqIChFeHBlcmltZW50YWwhKSBDdWJpYyBIZXJtaXRlIHNwbGluZSBpbnRlcnBvbGF0aW9uIGZvciB2ZWN0b3IzIGFuZCBxdWF0ZXJuaW9ucy5cbiAgICAgKlxuICAgICAqIFdpdGggYGYgPT0gMGAsIGBvdXRgIHdpbGwgYmUgYGJgLCBpZiBgZiA9PSAxYCwgYG91dGAgd2lsbCBiZSBjLlxuICAgICAqXG4gICAgICogV2hldGhlciBhIHF1YXRlcm5pb24gb3IgdmVjdG9yMyBpbnRlcnBvbGF0aW9uIGlzIGludGVuZGVkIGlzIGRldGVybWluZWQgYnlcbiAgICAgKiBsZW5ndGggb2YgYGFgLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBBcnJheSB0byB3cml0ZSByZXN1bHQgdG8uXG4gICAgICogQHBhcmFtIGEgRmlyc3QgdGFuZ2VudC9oYW5kbGUuXG4gICAgICogQHBhcmFtIGIgRmlyc3QgcG9pbnQgb3IgcXVhdGVybmlvbi5cbiAgICAgKiBAcGFyYW0gYyBTZWNvbmQgcG9pbnQgb3IgcXVhdGVybmlvbi5cbiAgICAgKiBAcGFyYW0gZCBTZWNvbmQgaGFuZGxlLlxuICAgICAqIEBwYXJhbSBmIEludGVycG9sYXRpb24gZmFjdG9yIGluIFswOyAxXS5cbiAgICAgKiBAcmV0dXJucyBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC42XG4gICAgICovXG4gICAgc3RhdGljIGN1YmljSGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIGYsIGVuZ2luZSA9IFdMKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDApLnNldChhKTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDQpLnNldChiKTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDgpLnNldChjKTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDEyKS5zZXQoZCk7XG4gICAgICAgIGNvbnN0IGlzUXVhdCA9IGEubGVuZ3RoID09IDQ7XG4gICAgICAgIHdhc20uX3dsX21hdGhfY3ViaWNIZXJtaXRlKHdhc20uX3RlbXBNZW0gKyA0ICogMTYsIHdhc20uX3RlbXBNZW0gKyA0ICogMCwgd2FzbS5fdGVtcE1lbSArIDQgKiA0LCB3YXNtLl90ZW1wTWVtICsgNCAqIDgsIHdhc20uX3RlbXBNZW0gKyA0ICogMTIsIGYsIGlzUXVhdCk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxNl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxN107XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxOF07XG4gICAgICAgIGlmIChpc1F1YXQpXG4gICAgICAgICAgICBvdXRbM10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMTldO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbn1cbmV4cG9ydCB7IG1hdGggfTtcbi8qKlxuICogQ2xhc3MgZm9yIGFjY2Vzc2luZyBpbnRlcm5hdGlvbmFsaXphdGlvbiAoaTE4bikgZmVhdHVyZXMuXG4gKlxuICogQWxsb3dzIHtAbGluayBJMThOLm9uTGFuZ3VhZ2VDaGFuZ2VkIFwiZGV0ZWN0aW5nIGxhbmd1YWdlIGNoYW5nZVwifSxcbiAqIHtAbGluayBJMThOLmxhbmd1YWdlIFwic2V0dGluZyB0aGUgY3VycmVudCBsYW5ndWFnZVwifSBvciB0cmFuc2xhdGluZ1xuICoge0BsaW5rIEkxOE4udHJhbnNsYXRlIFwiaW5kaXZpZHVhbCB0ZXJtc1wifS5cbiAqXG4gKiBJbnRlcm5hdGlvbmFsaXphdGlvbiB3b3JrcyB3aXRoIHRlcm1zLFxuICogYSBzdHJpbmcgdHlwZSBrZXl3b3JkIHRoYXQgaXMgbGlua2VkIHRvIGEgZGlmZmVyZW50IHRleHQgZm9yIGVhY2ggbGFuZ3VhZ2UuXG4gKlxuICogSW50ZXJuYWxseSwgc3RyaW5nIHBhcmFtZXRlcnMgZm9yIHRleHQgYW5kIGpzIGNvbXBvbmVudHMgYXJlXG4gKiBhdXRvbWF0aWNhbGx5IHN3YXBwZWQgZHVyaW5nIGxhbmd1YWdlIGNoYW5nZSwgZ2l2ZW4gdGhleSBhcmUgbGlua2VkIHRvIGEgdGVybS5cbiAqIElmIG1hbnVhbCB0ZXh0IHN3YXBwaW5nIGlzIGRlc2lyZWQsIHtAbGluayBJMThOLnRyYW5zbGF0ZX1cbiAqIGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBjdXJyZW50IHRyYW5zbGF0aW9uIGZvciBhbnkgdGVybS5cbiAqXG4gKiBZb3UgY2FuIGFsc28gdXNlIHRoZSB7QGxpbmsgSTE4Ti5vbkxhbmd1YWdlQ2hhbmdlZH0gdG8gbWFudWFsbHkgdXBkYXRlIHRleHRcbiAqIHdoZW4gYSBsYW5ndWFnZSBpcyBjaGFuZ2VkIHRvIGZvciBleGFtcGxlIHVwZGF0ZSBhIG51bWJlciBpbiBhIHN0cmluZy5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNsYXNzIEkxOE4ge1xuICAgIC8qKlxuICAgICAqIHtAbGluayBFbWl0dGVyfSBmb3IgbGFuZ3VhZ2UgY2hhbmdlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEZpcnN0IHBhcmFtZXRlciB0byBhIGxpc3RlbmVyIGlzIHRoZSBvbGQgbGFuZ3VhZ2UgaW5kZXgsXG4gICAgICogc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUgbmV3IGxhbmd1YWdlIGluZGV4LlxuICAgICAqXG4gICAgICogVXNhZ2UgZnJvbSBhIHdpdGhpbiBhIGNvbXBvbmVudDpcbiAgICAgKiBgYGBqc1xuICAgICAqIHRoaXMuZW5naW5lLmkxOG4ub25MYW5ndWFnZUNoYW5nZWQuYWRkKChvbGRMYW5ndWFnZUluZGV4LCBuZXdMYW5ndWFnZUluZGV4KSA9PiB7XG4gICAgICogICAgIGNvbnN0IG9sZExhbmd1YWdlID0gdGhpcy5lbmdpbmUuaTE4bi5sYW5ndWFnZU5hbWUob2xkTGFuZ3VhZ2VJbmRleCk7XG4gICAgICogICAgIGNvbnN0IG5ld0xhbmd1YWdlID0gdGhpcy5lbmdpbmUuaTE4bi5sYW5ndWFnZU5hbWUobmV3TGFuZ3VhZ2VJbmRleCk7XG4gICAgICogICAgIGNvbnNvbGUubG9nKFwiU3dpdGNoZWQgZnJvbVwiLCBvbGRMYW5ndWFnZSwgXCJ0b1wiLCBuZXdMYW5ndWFnZSk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgb25MYW5ndWFnZUNoYW5nZWQgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgLyoqIFByZXZpb3VzbHkgc2V0IGxhbmd1YWdlIGluZGV4LiBAaGlkZGVuICovXG4gICAgX3ByZXZMYW5ndWFnZUluZGV4ID0gLTE7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY3VycmVudCBsYW5ndWFnZSBhbmQgYXBwbHkgdHJhbnNsYXRpb25zIHRvIGxpbmtlZCB0ZXh0IHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGlzIGVxdWl2YWxlbnQgdG8ge0BsaW5rIEkxOE4uc2V0TGFuZ3VhZ2V9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGUgTGFuZ3VhZ2UgY29kZSB0byBzd2l0Y2ggdG9cbiAgICAgKi9cbiAgICBzZXQgbGFuZ3VhZ2UoY29kZSkge1xuICAgICAgICB0aGlzLnNldExhbmd1YWdlKGNvZGUpO1xuICAgIH1cbiAgICAvKiogR2V0IGN1cnJlbnQgbGFuZ3VhZ2UgY29kZS4gKi9cbiAgICBnZXQgbGFuZ3VhZ2UoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgY29kZSA9IHdhc20uX3dsX2kxOG5fY3VycmVudExhbmd1YWdlKCk7XG4gICAgICAgIGlmIChjb2RlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhjb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGxhbmd1YWdlIGluZGV4LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbW9yZSBlZmZpY2llbnQgdGhhbiBpdHMgZXF1aXZhbGVudDpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgaW5kZXggPSBpMThuLmxhbmd1YWdlSW5kZXgoaTE4bi5sYW5ndWFnZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnRJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pMThuX2N1cnJlbnRMYW5ndWFnZUluZGV4KCk7XG4gICAgfVxuICAgIC8qKiBQcmV2aW91cyBsYW5ndWFnZSBpbmRleC4gKi9cbiAgICBnZXQgcHJldmlvdXNJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZMYW5ndWFnZUluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY3VycmVudCBsYW5ndWFnZSBhbmQgYXBwbHkgdHJhbnNsYXRpb25zIHRvIGxpbmtlZCB0ZXh0IHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29kZSBUaGUgbGFuZ3VhZ2UgY29kZS5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjdXJyZW50IGluZGV4IGNvZGUgd2hlbiB0aGVcbiAgICAgKiAgICAgbGFuZ3VhZ2UgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIHNldExhbmd1YWdlKGNvZGUpIHtcbiAgICAgICAgaWYgKGNvZGUgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jdXJyZW50SW5kZXgpO1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHRoaXMuX3ByZXZMYW5ndWFnZUluZGV4ID0gdGhpcy5jdXJyZW50SW5kZXg7XG4gICAgICAgIHdhc20uX3dsX2kxOG5fc2V0TGFuZ3VhZ2Uod2FzbS50ZW1wVVRGOChjb2RlKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUuc2NlbmVcbiAgICAgICAgICAgIC5fZmx1c2hBcHBlbmQodGhpcy5fZW5naW5lLnNjZW5lLmJhc2VVUkwpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0cmFuc2xhdGVkIHN0cmluZyBmb3IgYSB0ZXJtIGZvciB0aGUgY3VycmVudGx5IGxvYWRlZCBsYW5ndWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZXJtIFRlcm0gdG8gdHJhbnNsYXRlXG4gICAgICovXG4gICAgdHJhbnNsYXRlKHRlcm0pIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHdhc20uX3dsX2kxOG5fdHJhbnNsYXRlKHdhc20udGVtcFVURjgodGVybSkpO1xuICAgICAgICBpZiAodHJhbnNsYXRpb24gPT09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHRyYW5zbGF0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgbGFuZ3VhZ2VzIGluIHRoZSBwcm9qZWN0LlxuICAgICAqXG4gICAgICovXG4gICAgbGFuZ3VhZ2VDb3VudCgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZUNvdW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGxhbmd1YWdlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGxhbmd1YWdlIHRvIGdldCB0aGUgY29kZSBmcm9tXG4gICAgICovXG4gICAgbGFuZ3VhZ2VJbmRleChjb2RlKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VJbmRleCh3YXNtLnRlbXBVVEY4KGNvZGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgbGFuZ3VhZ2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gZ2V0IHRoZSBjb2RlIGZyb21cbiAgICAgKi9cbiAgICBsYW5ndWFnZUNvZGUoaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBjb2RlID0gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZUNvZGUoaW5kZXgpO1xuICAgICAgICBpZiAoY29kZSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcoY29kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGxhbmd1YWdlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGxhbmd1YWdlIHRvIGdldCB0aGUgbmFtZSBmcm9tXG4gICAgICovXG4gICAgbGFuZ3VhZ2VOYW1lKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgbmFtZSA9IHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VOYW1lKGluZGV4KTtcbiAgICAgICAgaWYgKG5hbWUgPT09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKG5hbWUpO1xuICAgIH1cbn1cbi8qKiBQcm9wZXJ0aWVzIG9mIGEgV2ViWFIgc2Vzc2lvbiAqL1xuZXhwb3J0IGNsYXNzIFhSIHtcbiAgICAvKiogV29uZGVybGFuZCBXQVNNIGJyaWRnZS4gQGhpZGRlbiAqL1xuICAgICN3YXNtO1xuICAgICNtb2RlO1xuICAgIGNvbnN0cnVjdG9yKHdhc20sIG1vZGUpIHtcbiAgICAgICAgdGhpcy4jd2FzbSA9IHdhc207XG4gICAgICAgIHRoaXMuI21vZGUgPSBtb2RlO1xuICAgIH1cbiAgICAvKiogQ3VycmVudCBXZWJYUiBzZXNzaW9uIG1vZGUgKi9cbiAgICBnZXQgc2Vzc2lvbk1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNtb2RlO1xuICAgIH1cbiAgICAvKiogQ3VycmVudCBXZWJYUiBzZXNzaW9uICovXG4gICAgZ2V0IHNlc3Npb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX3Nlc3Npb247XG4gICAgfVxuICAgIC8qKiBDdXJyZW50IFdlYlhSIGZyYW1lICovXG4gICAgZ2V0IGZyYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9mcmFtZTtcbiAgICB9XG4gICAgcmVmZXJlbmNlU3BhY2VGb3JUeXBlKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VzW3R5cGVdID8/IG51bGw7XG4gICAgfVxuICAgIC8qKiBTZXQgY3VycmVudCByZWZlcmVuY2Ugc3BhY2UgdHlwZSB1c2VkIGZvciByZXRyaWV2aW5nIGV5ZSwgaGVhZCwgaGFuZCBhbmQgam9pbnQgcG9zZXMgKi9cbiAgICBzZXQgY3VycmVudFJlZmVyZW5jZVNwYWNlKHJlZlNwYWNlKSB7XG4gICAgICAgIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2UgPSByZWZTcGFjZTtcbiAgICAgICAgdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZVR5cGUgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgT2JqZWN0LmtleXModGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZXMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZXNbdHlwZV0gPT09IHJlZlNwYWNlKSB7XG4gICAgICAgICAgICAgICAgLyogS2VlcCB0cmFjayBvZiByZWZlcmVuY2Ugc3BhY2UgdHlwZSAqL1xuICAgICAgICAgICAgICAgIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VUeXBlID0gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQ3VycmVudCByZWZlcmVuY2Ugc3BhY2UgdHlwZSB1c2VkIGZvciByZXRyaWV2aW5nIGV5ZSwgaGVhZCwgaGFuZCBhbmQgam9pbnQgcG9zZXMgKi9cbiAgICBnZXQgY3VycmVudFJlZmVyZW5jZVNwYWNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZTtcbiAgICB9XG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgcmVmZXJlbmNlIHNwYWNlIHR5cGUgb3IgYG51bGxgIGlmIG5vdCBhIGRlZmF1bHQgcmVmZXJlbmNlIHNwYWNlICovXG4gICAgZ2V0IGN1cnJlbnRSZWZlcmVuY2VTcGFjZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlVHlwZTtcbiAgICB9XG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgYmFzZSBsYXllciAgKi9cbiAgICBnZXQgYmFzZUxheWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9iYXNlTGF5ZXI7XG4gICAgfVxuICAgIC8qKiBDdXJyZW50IFdlYlhSIGZyYW1lYnVmZmVyICovXG4gICAgZ2V0IGZyYW1lYnVmZmVycygpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuI3dhc20ud2VieHJfZmJvKSkge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLiN3YXNtLkdMLmZyYW1lYnVmZmVyc1t0aGlzLiN3YXNtLndlYnhyX2Zib11dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX2Ziby5tYXAoKGlkKSA9PiB0aGlzLiN3YXNtLkdMLmZyYW1lYnVmZmVyc1tpZF0pO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBUeXBlIH0gZnJvbSAnLi9wcm9wZXJ0eS5qcyc7XG5pbXBvcnQgeyBSZXRhaW5FbWl0dGVyIH0gZnJvbSAnLi91dGlscy9ldmVudC5qcyc7XG5pbXBvcnQgeyBpbmhlcml0UHJvcGVydGllcywgQW5pbWF0aW9uLCBDb21wb25lbnQsIE1hdGVyaWFsLCBNZXNoLCBCcm9rZW5Db21wb25lbnQsIFNraW4sIFhSLCB9IGZyb20gJy4vd29uZGVybGFuZC5qcyc7XG4vKipcbiAqIERlZmF1bHQgY29tcG9uZW50IHBhcmFtZXRlciB2YWx1ZSBwZXIgdHlwZS5cbiAqL1xuY29uc3QgX2NvbXBvbmVudERlZmF1bHRzID0gbmV3IE1hcChbXG4gICAgW1R5cGUuQm9vbCwgZmFsc2VdLFxuICAgIFtUeXBlLkludCwgMF0sXG4gICAgW1R5cGUuRmxvYXQsIDAuMF0sXG4gICAgW1R5cGUuU3RyaW5nLCAnJ10sXG4gICAgW1R5cGUuRW51bSwgdW5kZWZpbmVkXSxcbiAgICBbVHlwZS5PYmplY3QsIG51bGxdLFxuICAgIFtUeXBlLk1lc2gsIG51bGxdLFxuICAgIFtUeXBlLlRleHR1cmUsIG51bGxdLFxuICAgIFtUeXBlLk1hdGVyaWFsLCBudWxsXSxcbiAgICBbVHlwZS5BbmltYXRpb24sIG51bGxdLFxuICAgIFtUeXBlLlNraW4sIG51bGxdLFxuICAgIFtUeXBlLkNvbG9yLCBbMC4wLCAwLjAsIDAuMCwgMS4wXV0sXG5dKTtcbi8qKlxuICogU2V0dXAgdGhlIGRlZmF1bHRzIHZhbHVlIG9mIHRoZSBwcm9wZXJ0aWVzIG9uIGEgZ2l2ZW5cbiAqIGNvbXBvbmVudCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0gY3RvciBUaGUgY29tcG9uZW50IGNsYXNzXG4gKi9cbmZ1bmN0aW9uIF9zZXR1cERlZmF1bHRzKGN0b3IpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gY3Rvci5Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IHAgPSBjdG9yLlByb3BlcnRpZXNbbmFtZV07XG4gICAgICAgIGlmIChwLnR5cGUgPT09IFR5cGUuRW51bSkge1xuICAgICAgICAgICAgLyogRW51bSBkZWZhdWx0IGNhbiBiZSBhIHN0cmluZyBvciBhbiBpbmRleC4gQ29udmVydCB0byBhbmQvb3JcbiAgICAgICAgICAgICAqIHNhbml0eS1jaGVjayB0aGUgaW5kZXguICovXG4gICAgICAgICAgICBpZiAocC52YWx1ZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8qIERvbid0IHRyeSB0byBsb29rIHVwIHRoZSBkZWZhdWx0IGlmIHRoZSB1c2VyIHNwZWNpZmllZCBhXG4gICAgICAgICAgICAgICAgICogbnVtYmVyIG9yIHdlIGFscmVhZHkgY29udmVydGVkIHRvIG9uZS4gKi9cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHAuZGVmYXVsdCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogSWYgdW5kZWZpbmVkLCBtaXNzaW5nIGVsZW1lbnQgb3Igd3JvbmcgdHlwZSB0aGlzIHJldHVybnNcbiAgICAgICAgICAgICAgICAgICAgICogLTEgd2hpY2ggYmVjb21lcyAwIGJlbG93LiBUaGlzIG1hdGNoZXMgZWRpdG9yIGJlaGF2aW9yLiAqL1xuICAgICAgICAgICAgICAgICAgICBwLmRlZmF1bHQgPSBwLnZhbHVlcy5pbmRleE9mKHAuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwLmRlZmF1bHQgPCAwIHx8IHAuZGVmYXVsdCA+PSBwLnZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZhdWx0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiBUaGVyZSdzIG5vIGluZGV4IHZhbHVlIHRoYXQgbWFrZXMgc2Vuc2UgKi9cbiAgICAgICAgICAgICAgICBwLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwLmRlZmF1bHQgPSBwLmRlZmF1bHQgPz8gX2NvbXBvbmVudERlZmF1bHRzLmdldChwLnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGN0b3IucHJvdG90eXBlW25hbWVdID0gcC5kZWZhdWx0O1xuICAgIH1cbn1cbi8qKlxuICogTG93LWxldmVsIHdyYXBwZXIgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgV2ViQXNzZW1ibHkgY29kZS5cbiAqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBjbGFzcyBXQVNNIHtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIHdvcmtlciBmaWVsZC5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3b3JrZXIgPSAnJztcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIHdhc20gZmllbGQuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2FzbSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgY2FudmFzID0gbnVsbDtcbiAgICAvKiogQ3VycmVudCBXZWJYUiAgKi9cbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2VieHJfc2Vzc2lvbiA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiByZXF1ZXN0IHNlc3Npb24gY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2VieHJfcmVxdWVzdFNlc3Npb24gPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2VieHJfZnJhbWUgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gY3VycmVudCBXZWJYUiByZWZlcmVuY2Ugc3BhY2UuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2VieHJfcmVmU3BhY2UgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgcmVmZXJlbmNlIHNwYWNlcy5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3ZWJ4cl9yZWZTcGFjZXMgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgY3VycmVudCByZWZlcmVuY2Ugc3BhY2UgdHlwZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3ZWJ4cl9yZWZTcGFjZVR5cGUgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgR0wgcHJvamVjdGlvbiBsYXllci5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3ZWJ4cl9iYXNlTGF5ZXIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgZnJhbWVidWZmZXIgc2NhbGUgZmFjdG9yLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdlYnhyX2ZyYW1lYnVmZmVyU2NhbGVGYWN0b3IgPSAxLjA7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBmcmFtZWJ1ZmZlcihzKS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICAvKiB3ZWJ4cl9mYm8gd2lsbCBub3QgZ2V0IG92ZXJ3cml0dGVuIGlmIHdlIGFyZSByZW5kZXJpbmcgdG8gdGhlXG4gICAgICogZGVmYXVsdCBmcmFtZWJ1ZmZlciwgZS5nLiwgd2hlbiB1c2luZyBXZWJYUiBlbXVsYXRvci4gKi9cbiAgICB3ZWJ4cl9mYm8gPSAwO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBXQVNNIG1lbW9yeSB2aWV3IHRvIGEgSmF2YVNjcmlwdCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHRyIFBvaW50ZXIgc3RhcnRcbiAgICAgKiBAcGFyYW0gcHRyRW5kIFBvaW50ZXIgZW5kXG4gICAgICogQHJldHVybnMgSmF2YVNjcmlwdCBzdHJpbmdcbiAgICAgKi9cbiAgICBVVEY4Vmlld1RvU3RyaW5nO1xuICAgIC8qKiBJZiBgdHJ1ZWAsIGxvZ3Mgd2lsbCBub3Qgc3BhbSB0aGUgY29uc29sZSBvbiBlcnJvci4gKi9cbiAgICBfZGVhY3RpdmF0ZV9jb21wb25lbnRfb25fZXJyb3IgPSBmYWxzZTtcbiAgICAvKiogVGVtcG9yYXJ5IG1lbW9yeSBwb2ludGVyLiAqL1xuICAgIF90ZW1wTWVtID0gbnVsbDtcbiAgICAvKiogVGVtcG9yYXJ5IG1lbW9yeSBzaXplLiAqL1xuICAgIF90ZW1wTWVtU2l6ZSA9IDA7XG4gICAgLyoqIFRlbXBvcmFyeSBmbG9hdCBtZW1vcnkgdmlldy4gKi9cbiAgICBfdGVtcE1lbUZsb2F0ID0gbnVsbDtcbiAgICAvKiogVGVtcG9yYXJ5IGludCBtZW1vcnkgdmlldy4gKi9cbiAgICBfdGVtcE1lbUludCA9IG51bGw7XG4gICAgLyoqIFRlbXBvcmFyeSB1aW50OCBtZW1vcnkgdmlldy4gKi9cbiAgICBfdGVtcE1lbVVpbnQ4ID0gbnVsbDtcbiAgICAvKiogVGVtcG9yYXJ5IHVpbnQzMiBtZW1vcnkgdmlldy4gKi9cbiAgICBfdGVtcE1lbVVpbnQzMiA9IG51bGw7XG4gICAgLyoqIFRlbXBvcmFyeSB1aW50MTYgbWVtb3J5IHZpZXcuICovXG4gICAgX3RlbXBNZW1VaW50MTYgPSBudWxsO1xuICAgIC8qKiBMb2FkaW5nIHNjcmVlbiAuYmluIGZpbGUgZGF0YSAqL1xuICAgIF9sb2FkaW5nU2NyZWVuID0gbnVsbDtcbiAgICAvKiogTGlzdCBvZiBjYWxsYmFja3MgdHJpZ2dlcmVkIHdoZW4gdGhlIHNjZW5lIGlzIGxvYWRlZC4gKi9cbiAgICBfc2NlbmVMb2FkZWRDYWxsYmFjayA9IFtdO1xuICAgIC8qKlxuICAgICAqIE1hdGVyaWFsIGRlZmluaXRpb24gY2FjaGUuIEVhY2ggcGlwZWxpbmUgaGFzIGl0cyBvd25cbiAgICAgKiBhc3NvY2lhdGVkIG1hdGVyaWFsIGRlZmluaXRpb24uXG4gICAgICovXG4gICAgX21hdGVyaWFsRGVmaW5pdGlvbnMgPSBbXTtcbiAgICAvKiogSW1hZ2UgY2FjaGUuICovXG4gICAgX2ltYWdlcyA9IFtdO1xuICAgIC8qKiBDb21wb25lbnQgaW5zdGFuY2VzLiAqL1xuICAgIF9jb21wb25lbnRzID0gW107XG4gICAgLyoqIENvbXBvbmVudCBUeXBlIGluZm8uICovXG4gICAgX2NvbXBvbmVudFR5cGVzID0gW107XG4gICAgLyoqIEluZGV4IHBlciBjb21wb25lbnQgdHlwZSBuYW1lLiAqL1xuICAgIF9jb21wb25lbnRUeXBlSW5kaWNlcyA9IHt9O1xuICAgIC8qKiBXb25kZXJsYW5kIGVuZ2luZSBpbnN0YW5jZS4gKi9cbiAgICBfZW5naW5lID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgdGhpcyBydW50aW1lIGlzIHVzaW5nIHBoeXN4LlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIF93aXRoUGh5c1ggPSBmYWxzZTtcbiAgICAvKiogRGVjb2RlciBmb3IgVVRGOCBgQXJyYXlCdWZmZXJgIHRvIEphdmFTY3JpcHQgc3RyaW5nLiAqL1xuICAgIF91dGY4RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpO1xuICAgIC8qKiBKYXZhU2NyaXB0IG1hbmFnZXIgaW5kZXguICovXG4gICAgX2pzTWFuYWdlckluZGV4Q2FjaGVkID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RyYXRpb24gaW5kZXggb2Yge0BsaW5rIEJyb2tlbkNvbXBvbmVudH0uXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gcmV0dXJuIGR1bW15IGluc3RhbmNlcyB3aGVuIGEgY29tcG9uZW50XG4gICAgICogaXNuJ3QgcmVnaXN0ZXJlZC5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfYnJva2VuQ29tcG9uZW50SW5kZXggPSAwO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgV2ViQXNzZW1ibHkgPD4gQVBJIGJyaWRnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRzIGB0cnVlYCBpZiB0aGUgcnVudGltZSB1c2VkIGhhcyB0aHJlYWRzIHN1cHBvcnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0aHJlYWRzKSB7XG4gICAgICAgIGlmICh0aHJlYWRzKSB7XG4gICAgICAgICAgICB0aGlzLlVURjhWaWV3VG9TdHJpbmcgPSAocywgZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91dGY4RGVjb2Rlci5kZWNvZGUodGhpcy5IRUFQVTguc2xpY2UocywgZSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLlVURjhWaWV3VG9TdHJpbmcgPSAocywgZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzKVxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91dGY4RGVjb2Rlci5kZWNvZGUodGhpcy5IRUFQVTguc3ViYXJyYXkocywgZSkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9icm9rZW5Db21wb25lbnRJbmRleCA9IHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KEJyb2tlbkNvbXBvbmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBjYWNoZSBvZiB0aGUgbGlicmFyeS5cbiAgICAgKlxuICAgICAqIEBub3RlIFNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuIHRlYXJpbmcgZG93biB0aGUgcnVudGltZS5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5hbGxvY2F0ZVRlbXBNZW1vcnkoMTAyNCk7XG4gICAgICAgIHRoaXMuX21hdGVyaWFsRGVmaW5pdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5faW1hZ2VzID0gW107XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZUluZGljZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9icm9rZW5Db21wb25lbnRJbmRleCA9IHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KEJyb2tlbkNvbXBvbmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZCBvciBub3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3RvciAgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb21wb25lbnQgdHlwZW5hbWUgKGUuZy4sIGAnY3Vyc29yLWNvbXBvbmVudCdgKS5cbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBpc1JlZ2lzdGVyZWQodHlwZSkge1xuICAgICAgICByZXR1cm4gdHlwZSBpbiB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBsZWdhY3kgY29tcG9uZW50IGluIHRoaXMgRW1zY3JpcHRlbiBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlTmFtZSBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBwYXJhbSBwYXJhbXMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHBhcmFtZXRlcnMgKHByb3BlcnRpZXMpLlxuICAgICAqIEBwYXJhbSBvYmplY3QgVGhlIG9iamVjdCdzIHByb3RvdHlwZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVnaXN0cmF0aW9uIGluZGV4XG4gICAgICovXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50TGVnYWN5KHR5cGVOYW1lLCBwYXJhbXMsIG9iamVjdCkge1xuICAgICAgICBjb25zdCBjdG9yID0gY2xhc3MgQ3VzdG9tQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgICAgfTtcbiAgICAgICAgY3Rvci5UeXBlTmFtZSA9IHR5cGVOYW1lO1xuICAgICAgICBjdG9yLlByb3BlcnRpZXMgPSBwYXJhbXM7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3Rvci5wcm90b3R5cGUsIG9iamVjdCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RlckNvbXBvbmVudChjdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBjbGFzcyBjb21wb25lbnQgaW4gdGhpcyBFbXNjcmlwdGVuIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGN0b3IgVGhlIGNsYXNzIHRvIHJlZ2lzdGVyLlxuICAgICAqIEByZXR1cm5zIFRoZSByZWdpc3RyYXRpb24gaW5kZXguXG4gICAgICovXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KGN0b3IpIHtcbiAgICAgICAgaWYgKCFjdG9yLlR5cGVOYW1lKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBuYW1lIHByb3ZpZGVkIGZvciBjb21wb25lbnQuJyk7XG4gICAgICAgIGlmICghY3Rvci5wcm90b3R5cGUuX3RyaWdnZXJJbml0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlZ2lzdGVyQ29tcG9uZW50KCk6IENvbXBvbmVudCAke2N0b3IuVHlwZU5hbWV9IG11c3QgZXh0ZW5kIENvbXBvbmVudGApO1xuICAgICAgICB9XG4gICAgICAgIGluaGVyaXRQcm9wZXJ0aWVzKGN0b3IpO1xuICAgICAgICBfc2V0dXBEZWZhdWx0cyhjdG9yKTtcbiAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gY3Rvci5UeXBlTmFtZSBpbiB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1xuICAgICAgICAgICAgPyB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1tjdG9yLlR5cGVOYW1lXVxuICAgICAgICAgICAgOiB0aGlzLl9jb21wb25lbnRUeXBlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVzW3R5cGVJbmRleF0gPSBjdG9yO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1tjdG9yLlR5cGVOYW1lXSA9IHR5cGVJbmRleDtcbiAgICAgICAgaWYgKGN0b3IgPT09IEJyb2tlbkNvbXBvbmVudClcbiAgICAgICAgICAgIHJldHVybiB0eXBlSW5kZXg7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSZWdpc3RlcmVkIGNvbXBvbmVudCcsIGN0b3IuVHlwZU5hbWUsIGAoY2xhc3MgJHtjdG9yLm5hbWV9KWAsICd3aXRoIGluZGV4JywgdHlwZUluZGV4KTtcbiAgICAgICAgaWYgKGN0b3Iub25SZWdpc3RlcilcbiAgICAgICAgICAgIGN0b3Iub25SZWdpc3Rlcih0aGlzLl9lbmdpbmUpO1xuICAgICAgICByZXR1cm4gdHlwZUluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvY2F0ZSB0aGUgcmVxdWVzdGVkIGFtb3VudCBvZiB0ZW1wb3JhcnkgbWVtb3J5XG4gICAgICogaW4gdGhpcyBXQVNNIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNpemUgVGhlIG51bWJlciBvZiBieXRlcyB0byBhbGxvY2F0ZVxuICAgICAqL1xuICAgIGFsbG9jYXRlVGVtcE1lbW9yeShzaXplKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBbGxvY2F0aW5nIHRlbXAgbWVtOicsIHNpemUpO1xuICAgICAgICB0aGlzLl90ZW1wTWVtU2l6ZSA9IHNpemU7XG4gICAgICAgIGlmICh0aGlzLl90ZW1wTWVtKVxuICAgICAgICAgICAgdGhpcy5fZnJlZSh0aGlzLl90ZW1wTWVtKTtcbiAgICAgICAgdGhpcy5fdGVtcE1lbSA9IHRoaXMuX21hbGxvYyh0aGlzLl90ZW1wTWVtU2l6ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlVGVtcE1lbW9yeSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAdG9kbzogRGVsZXRlIHRoaXMgYW5kIG9ubHkga2VlcCBgYWxsb2NhdGVUZW1wTWVtb3J5YFxuICAgICAqXG4gICAgICogQHBhcmFtIHNpemUgTnVtYmVyIG9mIGJ5dGVzIHRvIGFsbG9jYXRlXG4gICAgICovXG4gICAgcmVxdWlyZVRlbXBNZW0oc2l6ZSkge1xuICAgICAgICBpZiAodGhpcy5fdGVtcE1lbVNpemUgPj0gc2l6ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLyogR3JvdyBpbiAxa2IgaW5jcmVtZW50cyAqL1xuICAgICAgICB0aGlzLmFsbG9jYXRlVGVtcE1lbW9yeShNYXRoLmNlaWwoc2l6ZSAvIDEwMjQpICogMTAyNCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgdGVtcG9yYXJ5IG1lbW9yeSB2aWV3cy4gVGhpcyBtdXN0IGJlIGNhbGxlZCB3aGVuZXZlciB0aGVcbiAgICAgKiB0ZW1wb3JhcnkgbWVtb3J5IGFkZHJlc3MgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB1cGRhdGVUZW1wTWVtb3J5KCkge1xuICAgICAgICB0aGlzLl90ZW1wTWVtRmxvYXQgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcbiAgICAgICAgdGhpcy5fdGVtcE1lbUludCA9IG5ldyBJbnQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcbiAgICAgICAgdGhpcy5fdGVtcE1lbVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLkhFQVA4LmJ1ZmZlciwgdGhpcy5fdGVtcE1lbSwgdGhpcy5fdGVtcE1lbVNpemUgPj4gMik7XG4gICAgICAgIHRoaXMuX3RlbXBNZW1VaW50MTYgPSBuZXcgVWludDE2QXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDEpO1xuICAgICAgICB0aGlzLl90ZW1wTWVtVWludDggPSBuZXcgVWludDhBcnJheSh0aGlzLkhFQVA4LmJ1ZmZlciwgdGhpcy5fdGVtcE1lbSwgdGhpcy5fdGVtcE1lbVNpemUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdWludDggYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxuICAgICAqXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeVxuICAgICAqL1xuICAgIGdldFRlbXBCdWZmZXJVOChjb3VudCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RlbXBNZW1VaW50ODtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHVpbnQxNiBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXG4gICAgICpcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZFxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5XG4gICAgICovXG4gICAgZ2V0VGVtcEJ1ZmZlclUxNihjb3VudCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50ICogMik7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtVWludDE2O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdWludDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkLlxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxuICAgICAqL1xuICAgIGdldFRlbXBCdWZmZXJVMzIoY291bnQpIHtcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbVVpbnQzMjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGludDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkLlxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxuICAgICAqL1xuICAgIGdldFRlbXBCdWZmZXJJMzIoY291bnQpIHtcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbUludDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZsb2F0MzIgYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxuICAgICAqXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWQuXG4gICAgICogQHJldHVybnMgQSB7QGxpbmsgVHlwZWRBcnJheX0gb3ZlciB0aGUgV0FTTSBtZW1vcnkuXG4gICAgICovXG4gICAgZ2V0VGVtcEJ1ZmZlckYzMihjb3VudCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50ICogNCk7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtRmxvYXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvcHkgdGhlIHN0cmluZyBpbnRvIHRlbXBvcmFyeSBXQVNNIG1lbW9yeSBhbmQgcmV0cmlldmUgdGhlIHBvaW50ZXIuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIG1ldGhvZCB3aWxsIGNvbXB1dGUgdGhlIHN0cmxlbiBhbmQgYXBwZW5kIGEgYFxcMGAuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGUgcmVzdWx0IHNob3VsZCBiZSB1c2VkICoqZGlyZWN0bHkqKiBvdGhlcndpc2UgaXQgbWlnaHQgZ2V0XG4gICAgICogb3ZlcnJpZGRlbiBieSBhbnkgbmV4dCBjYWxsIG1vZGlmeWluZyB0aGUgdGVtcG9yYXJ5IG1lbW9yeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdHIgVGhlIHN0cmluZyB0byB3cml0ZSB0byB0ZW1wb3JhcnkgbWVtb3J5XG4gICAgICogQHBhcmFtIGJ5dGVPZmZzZXQgVGhlIHN0YXJ0aW5nIGJ5dGUgb2Zmc2V0IGluIHRoZSB0ZW1wb3JhcnkgbWVtb3J5IGF0IHdoaWNoXG4gICAgICogICAgIHRoZSBzdHJpbmcgc2hvdWxkIGJlIHdyaXR0ZW4uIFRoaXMgaXMgdXNlZnVsIHdoZW4gdXNpbmcgbXVsdGlwbGUgdGVtcG9yYXJpZXMuXG4gICAgICogQHJldHVybiBUaGUgdGVtcG9yYXJ5IHBvaW50ZXIgb250byB0aGUgV0FTTSBtZW1vcnlcbiAgICAgKi9cbiAgICB0ZW1wVVRGOChzdHIsIGJ5dGVPZmZzZXQgPSAwKSB7XG4gICAgICAgIGNvbnN0IHN0ckxlbiA9IHRoaXMubGVuZ3RoQnl0ZXNVVEY4KHN0cikgKyAxO1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKHN0ckxlbiArIGJ5dGVPZmZzZXQpO1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl90ZW1wTWVtICsgYnl0ZU9mZnNldDtcbiAgICAgICAgdGhpcy5zdHJpbmdUb1VURjgoc3RyLCBwdHIsIHN0ckxlbik7XG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgaW5kZXggb2YgdGhlIGNvbXBvbmVudCB0eXBlLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgdXNlcyBtYWxsb2MgYW5kIGNvcGllcyB0aGUgc3RyaW5nXG4gICAgICogdG8gYXZvaWQgb3ZlcndyaXRpbmcgY2FsbGVyJ3MgdGVtcG9yYXJ5IGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHlwZSBUaGUgdHlwZVxuICAgICAqIEByZXR1cm4gVGhlIGNvbXBvbmVudCB0eXBlIGluZGV4XG4gICAgICovXG4gICAgX3R5cGVJbmRleEZvcih0eXBlKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aEJ5dGVzID0gdGhpcy5sZW5ndGhCeXRlc1VURjgodHlwZSkgKyAxO1xuICAgICAgICBjb25zdCBtZW0gPSB0aGlzLl9tYWxsb2MobGVuZ3RoQnl0ZXMpO1xuICAgICAgICB0aGlzLnN0cmluZ1RvVVRGOCh0eXBlLCBtZW0sIGxlbmd0aEJ5dGVzKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50VHlwZSA9IHRoaXMuX3dsX2dldF9jb21wb25lbnRfbWFuYWdlcl9pbmRleChtZW0pO1xuICAgICAgICB0aGlzLl9mcmVlKG1lbSk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG5hbWUgb2YgY29tcG9uZW50IHR5cGUgc3RvcmVkIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlSW5kZXggVGhlIHR5cGUgaW5kZXhcbiAgICAgKiBAcmV0dXJuIFRoZSBuYW1lIGFzIGEgc3RyaW5nXG4gICAgICovXG4gICAgX3R5cGVOYW1lRm9yKHR5cGVJbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5VVEY4VG9TdHJpbmcodGhpcy5fd2xfY29tcG9uZW50X21hbmFnZXJfbmFtZSh0eXBlSW5kZXgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJ1bnRpbWUgc3VwcG9ydHMgcGh5c3ggb3Igbm90LlxuICAgICAqL1xuICAgIGdldCB3aXRoUGh5c1goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aXRoUGh5c1g7XG4gICAgfVxuICAgIC8qKiBKYXZhU2NyaXB0IG1hbmFnZXIgaW5kZXguICovXG4gICAgZ2V0IF9qc01hbmFnZXJJbmRleCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2pzTWFuYWdlckluZGV4Q2FjaGVkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9qc01hbmFnZXJJbmRleENhY2hlZCA9IHRoaXMuX3R5cGVJbmRleEZvcignanMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZW5naW5lIGluc3RhbmNlIGhvbGRpbmcgdGhpcyBicmlkZ2UuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5naW5lIFRoZSBlbmdpbmUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgX3NldEVuZ2luZShlbmdpbmUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgIH1cbiAgICAvKiBXZWJBc3NlbWJseSB0byBKUyBjYWxsIGJyaWRnZS4gKi9cbiAgICBfd2xqc194cl9zZXNzaW9uX3N0YXJ0KG1vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VuZ2luZS54ciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZW5naW5lLnhyID0gbmV3IFhSKHRoaXMsIG1vZGUpO1xuICAgICAgICAgICAgdGhpcy5fZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQubm90aWZ5KHRoaXMud2VieHJfc2Vzc2lvbiwgbW9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3dsanNfeHJfc2Vzc2lvbl9lbmQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0RW1pdHRlciA9IHRoaXMuX2VuZ2luZS5vblhSU2Vzc2lvblN0YXJ0O1xuICAgICAgICBpZiAoc3RhcnRFbWl0dGVyIGluc3RhbmNlb2YgUmV0YWluRW1pdHRlcilcbiAgICAgICAgICAgIHN0YXJ0RW1pdHRlci5yZXNldCgpO1xuICAgICAgICB0aGlzLl9lbmdpbmUub25YUlNlc3Npb25FbmQubm90aWZ5KCk7XG4gICAgICAgIHRoaXMuX2VuZ2luZS54ciA9IG51bGw7XG4gICAgfVxuICAgIF93bGpzX3hyX2Rpc2FibGUoKSB7XG4gICAgICAgIC8qIEB0b2RvIFRoaXMgY291bGQgZGlyZWN0bHkgYmUgZnVsbHkgaGFuZGxlZCBpbiBKUy4gKi9cbiAgICAgICAgdGhpcy5fZW5naW5lLmFyU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2VuZ2luZS52clN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBfd2xqc19hbGxvY2F0ZShudW1Db21wb25lbnRzKSB7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBuZXcgQXJyYXkobnVtQ29tcG9uZW50cyk7XG4gICAgfVxuICAgIF93bGpzX2luaXQod2l0aFBoeXNYKSB7XG4gICAgICAgIHRoaXMuX3dpdGhQaHlzWCA9IHdpdGhQaHlzWDtcbiAgICAgICAgLyogVGFyZ2V0IG1lbW9yeSBmb3IgSlMgQVBJIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBhcnJheXMgKi9cbiAgICAgICAgdGhpcy5hbGxvY2F0ZVRlbXBNZW1vcnkoMTAyNCk7XG4gICAgfVxuICAgIF93bGpzX3JlYWxsb2NhdGUobnVtQ29tcG9uZW50cykge1xuICAgICAgICBpZiAobnVtQ29tcG9uZW50cyA+IHRoaXMuX2NvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnRzLmxlbmd0aCA9IG51bUNvbXBvbmVudHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3dsanNfc2NlbmVfYWRkX21hdGVyaWFsX2RlZmluaXRpb24oZGVmaW5pdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qIENhY2hlIG1hdGVyaWFsIGRlZmluaXRpb24gZm9yIGZhc3RlciByZWFkL3dyaXRlICovXG4gICAgICAgIGNvbnN0IG5iUGFyYW1zID0gdGhpcy5fd2xfbWF0ZXJpYWxfZGVmaW5pdGlvbl9nZXRfY291bnQoZGVmaW5pdGlvbklkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYlBhcmFtczsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5VVEY4VG9TdHJpbmcodGhpcy5fd2xfbWF0ZXJpYWxfZGVmaW5pdGlvbl9nZXRfcGFyYW1fbmFtZShkZWZpbml0aW9uSWQsIGkpKTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLl93bF9tYXRlcmlhbF9kZWZpbml0aW9uX2dldF9wYXJhbV90eXBlKGRlZmluaXRpb25JZCwgaSk7XG4gICAgICAgICAgICBkZWZpbml0aW9uLnNldChuYW1lLCB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0ICYgMHhmZixcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Q291bnQ6ICh0ID4+IDgpICYgMHhmZixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVR5cGU6ICh0ID4+IDE2KSAmIDB4ZmYsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hdGVyaWFsRGVmaW5pdGlvbnNbZGVmaW5pdGlvbklkXSA9IGRlZmluaXRpb247XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fYm9vbChjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gdiAhPT0gMDtcbiAgICB9XG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9pbnQoYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHY7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fZmxvYXQoYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHY7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fc3RyaW5nKGMsIHAsIHBlLCB2LCB2ZSkge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHYsIHZlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9jb2xvcihjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gbmV3IEZsb2F0MzJBcnJheShbMCwgOCwgMTYsIDI0XS5tYXAoKHMpID0+ICgodiA+Pj4gcykgJiAweGZmKSAvIDI1NS4wKSk7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fb2JqZWN0KGMsIHAsIHBlLCB2KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxuICAgICAgICAgICAgdiA+IDAgPyB0aGlzLl9lbmdpbmUud3JhcE9iamVjdCh2KSA6IG51bGw7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fbWVzaChjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cbiAgICAgICAgICAgIHYgPiAwID8gbmV3IE1lc2godGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fdGV4dHVyZShjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cbiAgICAgICAgICAgIHYgPiAwID8gdGhpcy5fZW5naW5lLnRleHR1cmVzLndyYXAodikgOiBudWxsO1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX21hdGVyaWFsKGMsIHAsIHBlLCB2KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fYW5pbWF0aW9uKGMsIHAsIHBlLCB2KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgQW5pbWF0aW9uKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX3NraW4oYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XG4gICAgICAgICAgICB2ID4gMCA/IG5ldyBTa2luKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xuICAgIH1cbiAgICBfd2xqc19nZXRfY29tcG9uZW50X3R5cGVfaW5kZXgobmFtZVB0ciwgbmFtZUVuZFB0cikge1xuICAgICAgICBjb25zdCB0eXBlbmFtZSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhuYW1lUHRyLCBuYW1lRW5kUHRyKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlbmFtZV07XG4gICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnJva2VuQ29tcG9uZW50SW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBfd2xqc19jb21wb25lbnRfY3JlYXRlKGpzTWFuYWdlckluZGV4LCBpbmRleCwgaWQsIHR5cGUsIG9iamVjdCkge1xuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5fY29tcG9uZW50VHlwZXNbdHlwZV07XG4gICAgICAgIGlmICghY3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlIGluZGV4ICR7dHlwZX0gaXNuJ3QgcmVnaXN0ZXJlZGApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb21wb25lbnQgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29tcG9uZW50ID0gbmV3IGN0b3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyBpbnN0YW50aWF0aW9uIG9mIGNvbXBvbmVudCAke2N0b3IuVHlwZU5hbWV9YCk7XG4gICAgICAgICAgICBjb21wb25lbnQgPSBuZXcgQnJva2VuQ29tcG9uZW50KHRoaXMuX2VuZ2luZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogU2V0cyB0aGUgbWFuYWdlciBhbmQgaWRlbnRpZmllciBmcm9tIHRoZSBvdXRzaWRlLCB0byBzaW1wbGlmeSB0aGUgdXNlcidzIGNvbnN0cnVjdG9yLiAqL1xuICAgICAgICAvKiBAdHMtaWdub3JlICovXG4gICAgICAgIGNvbXBvbmVudC5fZW5naW5lID0gdGhpcy5fZW5naW5lO1xuICAgICAgICBjb21wb25lbnQuX21hbmFnZXIgPSBqc01hbmFnZXJJbmRleDtcbiAgICAgICAgY29tcG9uZW50Ll9pZCA9IGlkO1xuICAgICAgICBjb21wb25lbnQuX29iamVjdCA9IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb21wb25lbnQucmVzZXRQcm9wZXJ0aWVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHtjb21wb25lbnQudHlwZX0gcmVzZXRQcm9wZXJ0aWVzKCkgb24gb2JqZWN0ICR7Y29tcG9uZW50Lm9iamVjdC5uYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbaW5kZXhdID0gY29tcG9uZW50O1xuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbiAgICBfd2xqc19jb21wb25lbnRfaW5pdChjb21wb25lbnQpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcbiAgICAgICAgYy5fdHJpZ2dlckluaXQoKTtcbiAgICB9XG4gICAgX3dsanNfY29tcG9uZW50X3VwZGF0ZShjb21wb25lbnQsIGR0KSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XG4gICAgICAgIGMuX3RyaWdnZXJVcGRhdGUoZHQpO1xuICAgIH1cbiAgICBfd2xqc19jb21wb25lbnRfb25BY3RpdmF0ZShjb21wb25lbnQpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcbiAgICAgICAgaWYgKGMpXG4gICAgICAgICAgICBjLl90cmlnZ2VyT25BY3RpdmF0ZSgpO1xuICAgIH1cbiAgICBfd2xqc19jb21wb25lbnRfb25EZWFjdGl2YXRlKGNvbXBvbmVudCkge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xuICAgICAgICBjLl90cmlnZ2VyT25EZWFjdGl2YXRlKCk7XG4gICAgfVxuICAgIF93bGpzX2NvbXBvbmVudF9vbkRlc3Ryb3koY29tcG9uZW50KSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XG4gICAgICAgIGMuX3RyaWdnZXJPbkRlc3Ryb3koKTtcbiAgICB9XG4gICAgX3dsanNfc3dhcChhLCBiKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEEgPSB0aGlzLl9jb21wb25lbnRzW2FdO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2FdID0gdGhpcy5fY29tcG9uZW50c1tiXTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tiXSA9IGNvbXBvbmVudEE7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4vKipcbiAqIDh0aHdhbGwgY2FtZXJhIGNvbXBvbmVudC5cbiAqXG4gKiBTZXRzIHVwIHRoZSA4dGh3YWxsIHBpcGVsaW5lIGFuZCByZXRyaWV2ZXMgdHJhY2tpbmcgZXZlbnRzIHRvIHBsYWNlIGFuXG4gKiBvYmplY3QgYXQgdGhlIGxvY2F0aW9uIG9mIHRoZSB0cmFja2VkIEFSIGNhbWVyYSAvIG1vYmlsZSBkZXZpY2UuXG4gKlxuICogVXNlIHRoaXMgZm9yIFNMQU0gdHJhY2tpbmcgYmFzZWQgb24gOHRod2FsbC5cbiAqXG4gKiBNYWtlIHN1cmUgdG8gZW5hYmxlIDh0aHdhbGwgaW4gXCJQcm9qZWN0IFNldHRpbmdzXCIgPiBcIkFSXCIuIFNlZSBhbHNvIHRoZVxuICogW0FSIEdldHRpbmcgU3RhcnRlZCBHdWlkZV0oL2dldHRpbmctc3RhcnRlZC9xdWljay1zdGFydC1hcilcbiAqXG4gKlxuICogQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgd29ybGQtdHJhY2tpbmcgKFNMQU0pIHVzaW5nIEJBQ0sgY2FtZXJhLlxuICpcbiAqIC0gcmVtb3ZlIGFueSBvY2N1cnJlbmNlcyBvZiB0aGUgb2xkIDh0aHdhbGwtY2FtZXJhIGNvbXBvbmVudCBpbiB0aGUgZWRpdG9yXG4gKiAtIEFkZCB0aGlzIGNvbXBvbmVudCB0byBOb25WckNhbWVyYVxuICpcbiAqIElNUE9SVEFOVCFcbiAqIC0gdW50aWwgaXQgZ2V0J3MgZml4ZWQsIHNlbGVjdCAnY3VzdG9tSW5kZXhIdG1sJyBpbiB0aGUgcHJvamVjdCBzZXR0aW5nc1xuICogLSBvcGVuIGEgZ2VuZXJhdGVkIGluZGV4Lmh0bWwgYW5kIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCIgYXR0cmlidXRlIHRvIHRoZSA8c2NyaXB0PiB0YWcgd2hlcmUgLy9hcHBzLjh0aHdhbGwuY29tL3hyd2ViIGlzIGxvYWRlZFxuICpcbiAqXG4gKiAjIyMjIyMjIyMgVXNpbmcgVUkgb3ZlcmxheXMgIyMjIyMjIyMjIyMjI1xuICogQnkgZGVmYXVsdCwgdGhpcyBjb21wb25lbnQgcmVuZGVycyBvd24gVUkgdG8gZ2l2ZSB0aGUgdXNlciBmZWVkYmFjayBhYm91dCByZWplY3RlZCBwZXJtaXNzaW9ucyBvciB0cmFja2luZyBlcnJvcnMuXG4gKiBJdCBjYW4gYmUgY2hhbmdlZCBieSBlbmFibGluZyB1c2VDdXN0b21VSU92ZXJsYXlzIGZsYWcuXG4gKlxuICogSWYgdXNlQ3VzdG9tVUlPdmVybGF5cyBpcyBlbmFibGVkLCB5b3UgYXJlIGV4cGVjdGVkIGhhbmRsZSB0aGUgZm9sbG93aW5nIGV2ZW50cyBkaXNwYXRjaGVkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0OlxuICogLSBcIjh0aHdhbGwtcmVxdWVzdC11c2VyLWludGVyYWN0aW9uXCIgLSB1c2VkIG9ubHkgb24gaU9TIHNhZmFyaS4gUmVxdWVzdCBhIHVzZXIgdG8gcGVyZm9ybSBhbmQgaW50ZXJhY3Rpb24gd2l0aCB0aGUgcGFnZSBzbyB0aGF0IGphdmFzY3JpcHQgaXMgYWxsb3dlZCB0byBhbGxvd2VkIHRvIHJlcXVlc3QgYSBtb3Rpb24vY2FtZXJhL21pYyBwZXJtaXNzaW9ucy5cbiAqICBNYWtlIHN1cmUgdGhlIHdpbmRvdyBvYmplY3QgaXMgZGlzcGF0Y2hpbmcgYW4gJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJyBldmVudCBhZnRlciBpbnRlcmFjdGlvbiBoYXMgaGFwcGVuZWQuXG4gKiBgYGBcbiAqIDxidXR0b24gb25jbGljaz1cIndpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnKSlcIj5BbGxvdyBTZW5zb3JzPC9idXR0b24+XG4gKiBgYGBcbiAqXG4gKiAtIFwiOHRod2FsbC1wZXJtaXNzaW9uLWZhaWxcIiAtIHVzZXIgcmVqZWN0ZWQgYW55IG9mIHRoZSBwZXJtaXNzaW9uc1xuICpcbiAqIC0gXCI4dGh3YWxsLWVycm9yXCIgLSBydW50aW1lIDh0aHdhbGwgZXJyb3Igb2NjdXJyZWRcbiAqL1xuY2xhc3MgQVJDYW1lcmE4dGh3YWxsIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnOHRod2FsbC1jYW1lcmEnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogT3ZlcnJpZGUgdGhlIFdMIGh0bWwgb3ZlcmxheXMgZm9yIGhhbmRsaW5nIGNhbWVyYS9tb3Rpb24gcGVybWlzc2lvbnMgYW5kIGVycm9yIGhhbmRsaW5nICovXG4gICAgICAgIHVzZUN1c3RvbVVJT3ZlcmxheXM6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIH07XG4gICAgLyogOHRod2FsbCBjYW1lcmEgcGlwZWxpbmUgbW9kdWxlIG5hbWUgKi9cbiAgICBuYW1lID0gJ3dvbmRlcmxhbmQtZW5naW5lLTh0aHdhbGwtY2FtZXJhJztcbiAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgdmlldyA9IG51bGw7IC8vIGNhY2hlIGNhbWVyYVxuICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdOyAvLyBjYWNoZSA4dGh3YWxsIGNhbSBwb3NpdGlvblxuICAgIHJvdGF0aW9uID0gWzAsIDAsIDAsIC0xXTsgLy8gY2FjaGUgOHRod2FsbCBjYW0gcm90YXRpb25cbiAgICBnbFRleHR1cmVSZW5kZXJlciA9IG51bGw7IC8vIGNhY2hlIFhSOC5HbFRleHR1cmVSZW5kZXJlci5waXBlbGluZU1vZHVsZVxuICAgIHByb21wdEZvckRldmljZU1vdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFRlbGwgYW55b25lIHdobydzIGludGVyZXN0ZWQgdGhhdCB3ZSB3YW50IHRvIGdldCBzb21lIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1yZXF1ZXN0LXVzZXItaW50ZXJhY3Rpb24nKSk7XG4gICAgICAgICAgICAvLyBXYWl0IHVudGlsIHNvbWVvbmUgcmVzcG9uc2UgdGhhdCB1c2VyIGludGVyYWN0aW9uIGhhcHBlbmVkXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW90aW9uRXZlbnQgPSBhd2FpdCBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1vdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGdldFBlcm1pc3Npb25zKCkge1xuICAgICAgICAvLyBpT1MgXCJmZWF0dXJlXCIuIElmIHdlIHdhbnQgdG8gcmVxdWVzdCB0aGUgRGV2aWNlTW90aW9uIHBlcm1pc3Npb24sIHVzZXIgaGFzIHRvIGludGVyYWN0IHdpdGggdGhlIHBhZ2UgYXQgZmlyc3QgKHRvdWNoIGl0KS5cbiAgICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGludGVyYWN0aW9uIGRvbmUgc28gZmFyLCB3ZSB3aWxsIHJlbmRlciBhIEhUTUwgb3ZlcmxheSB3aXRoIHdvdWxkIGdldCB0aGUgdXNlciB0byBpbnRlcmFjdCB3aXRoIHRoZSBzY3JlZW5cbiAgICAgICAgaWYgKERldmljZU1vdGlvbkV2ZW50ICYmIERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgbXVzdCBoYXZlIHJlamVjdGVkIHRoZSBtb3Rpb24gZXZlbnQgb24gcHJldmlvdXMgcGFnZSBsb2FkLiAoc2FmYXJpIHJlbWVtYmVycyB0aGlzIGNob2ljZSkuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gJ2dyYW50ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW90aW9uRXZlbnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlciBoYWQgbm8gaW50ZXJhY3Rpb24gd2l0aCB0aGUgcGFnZSBzbyBmYXJcbiAgICAgICAgICAgICAgICBpZiAoZXhjZXB0aW9uLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdGlvbkV2ZW50ID0gYXdhaXQgdGhpcy5wcm9tcHRGb3JEZXZpY2VNb3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdGlvbkV2ZW50ICE9PSAnZ3JhbnRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW90aW9uRXZlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb3Rpb25FdmVudCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGdldCB0aGUgY2FtZXJhIHN0cmVhbVxuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgIHZpZGVvOiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBzdWNjZXNzZnVsbHkgYWNxdWlyZWQgdGhlIGNhbWVyYSBzdHJlYW0gLSB3ZSBjYW4gc3RvcCBpdCBhbmQgd2FpdCB1bnRpbCA4dGh3YWxsIHJlcXVlc3RzIGl0IGFnYWluXG4gICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbWVyYScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgndmlldycpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gdGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uQXR0YWNoID0gdGhpcy5vbkF0dGFjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uRXhjZXB0aW9uID0gdGhpcy5vbkV4Y2VwdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uQ2FtZXJhU3RhdHVzQ2hhbmdlID0gdGhpcy5vbkNhbWVyYVN0YXR1c0NoYW5nZS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCd2aWV3Jyk7XG4gICAgICAgIGlmICghdGhpcy51c2VDdXN0b21VSU92ZXJsYXlzKSB7XG4gICAgICAgICAgICBPdmVybGF5c0hhbmRsZXIuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmdldFBlcm1pc3Npb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBVc2VyIGRpZCBub3QgZ3JhbnQgdGhlIGNhbWVyYSBvciBtb3Rpb25FdmVudCBwZXJtaXNzaW9uc1xuICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCc4dGh3YWxsLXBlcm1pc3Npb24tZmFpbCcsIHsgZGV0YWlsOiBlcnJvciB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yWFI4KCk7XG4gICAgICAgIFhSOC5YckNvbnRyb2xsZXIuY29uZmlndXJlKHtcbiAgICAgICAgICAgIGRpc2FibGVXb3JsZFRyYWNraW5nOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2xUZXh0dXJlUmVuZGVyZXIgPSBYUjguR2xUZXh0dXJlUmVuZGVyZXIucGlwZWxpbmVNb2R1bGUoKTtcbiAgICAgICAgWFI4LmFkZENhbWVyYVBpcGVsaW5lTW9kdWxlcyhbXG4gICAgICAgICAgICB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyLFxuICAgICAgICAgICAgWFI4LlhyQ29udHJvbGxlci5waXBlbGluZU1vZHVsZSgpLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZzoge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogWFI4LlhyQ29uZmlnLmNhbWVyYSgpLkJBQ0ssXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FudmFzOiBNb2R1bGUuY2FudmFzLFxuICAgICAgICAgICAgYWxsb3dlZERldmljZXM6IFhSOC5YckNvbmZpZy5kZXZpY2UoKS5BTlksXG4gICAgICAgICAgICBvd25SdW5Mb29wOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgWFI4LnJ1bihjb25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBvbkF0dGFjaChwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmUuY29sb3JDbGVhckVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZ2wgPSBNb2R1bGUuY3R4O1xuICAgICAgICBjb25zdCByb3QgPSB0aGlzLm9iamVjdC5yb3RhdGlvbldvcmxkO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKFtdKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IEFycmF5LmZyb20ocG9zKTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IEFycmF5LmZyb20ocm90KTtcbiAgICAgICAgWFI4LlhyQ29udHJvbGxlci51cGRhdGVDYW1lcmFQcm9qZWN0aW9uTWF0cml4KHtcbiAgICAgICAgICAgIG9yaWdpbjogeyB4OiBwb3NbMF0sIHk6IHBvc1sxXSwgejogcG9zWzJdIH0sXG4gICAgICAgICAgICBmYWNpbmc6IHsgeDogcm90WzBdLCB5OiByb3RbMV0sIHo6IHJvdFsyXSwgdzogcm90WzNdIH0sXG4gICAgICAgICAgICBjYW06IHtcbiAgICAgICAgICAgICAgICBwaXhlbFJlY3RXaWR0aDogTW9kdWxlLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICBwaXhlbFJlY3RIZWlnaHQ6IE1vZHVsZS5jYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIG5lYXJDbGlwUGxhbmU6IHRoaXMudmlldy5uZWFyLFxuICAgICAgICAgICAgICAgIGZhckNsaXBQbGFuZTogdGhpcy52aWV3LmZhcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZS5vblByZVJlbmRlci5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5EUkFXX0ZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIFhSOC5ydW5QcmVSZW5kZXIoRGF0ZS5ub3coKSk7XG4gICAgICAgICAgICBYUjgucnVuUmVuZGVyKCk7IC8vIDwtLS0gdGVsbCA4dGh3YWxsIHRvIGRvIGl0J3MgdGhpbmcgKGFsdGVybmF0aXZlbHkgY2FsbCB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyLm9uUmVuZGVyKCkgaWYgeW91IG9ubHkgY2FyZSBhYm91dCBjYW1lcmEgZmVlZCApXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZS5vblBvc3RSZW5kZXIucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBYUjgucnVuUG9zdFJlbmRlcihEYXRlLm5vdygpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxuICAgICAqL1xuICAgIG9uQ2FtZXJhU3RhdHVzQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUgJiYgZS5zdGF0dXMgPT09ICdmYWlsZWQnKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXhjZXB0aW9uKG5ldyBFcnJvcihgQ2FtZXJhIGZhaWxlZCB3aXRoIHN0YXR1czogJHtlLnN0YXR1c31gKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiA4dGh3YWxsIHBpcGVsaW5lIGZ1bmN0aW9uXG4gICAgICovXG4gICAgb25VcGRhdGUoZSkge1xuICAgICAgICBpZiAoIWUucHJvY2Vzc0NwdVJlc3VsdC5yZWFsaXR5KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHJvdGF0aW9uLCBwb3NpdGlvbiwgaW50cmluc2ljcyB9ID0gZS5wcm9jZXNzQ3B1UmVzdWx0LnJlYWxpdHk7XG4gICAgICAgIHRoaXMucm90YXRpb25bMF0gPSByb3RhdGlvbi54O1xuICAgICAgICB0aGlzLnJvdGF0aW9uWzFdID0gcm90YXRpb24ueTtcbiAgICAgICAgdGhpcy5yb3RhdGlvblsyXSA9IHJvdGF0aW9uLno7XG4gICAgICAgIHRoaXMucm90YXRpb25bM10gPSByb3RhdGlvbi53O1xuICAgICAgICB0aGlzLnBvc2l0aW9uWzBdID0gcG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5wb3NpdGlvblsxXSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIHRoaXMucG9zaXRpb25bMl0gPSBwb3NpdGlvbi56O1xuICAgICAgICBpZiAoaW50cmluc2ljcykge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbk1hdHJpeCA9IHRoaXMudmlldy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLyogU29tZSBwcm9jZXNzQ3B1UmVzdWx0LnJlYWxpdHkuaW50cmluc2ljcyBhcmUgc2V0IHRvIEluZmluaXR5LFxuICAgICAgICAgICAgICAgICAqIHdoaWNoIGJyYWtlcyBvdXIgcHJvamVjdGlvbk1hdHJpeC4gU28gd2UganVzdCBmaWx0ZXIgdGhvc2UgZWxlbWVudHMgb3V0LiAqL1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoaW50cmluc2ljc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeFtpXSA9IGludHJpbnNpY3NbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiAmJiByb3RhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5vYmplY3Qucm90YXRpb25Xb3JsZCA9IHRoaXMucm90YXRpb247XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxuICAgICAqL1xuICAgIG9uRXhjZXB0aW9uKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJzh0aHdhbGwgZXhjZXB0aW9uOicsIGVycm9yKTtcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCc4dGh3YWxsLWVycm9yJywgeyBkZXRhaWw6IGVycm9yIH0pKTtcbiAgICB9XG4gICAgd2FpdEZvclhSOCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCBfcmVqKSA9PiB7XG4gICAgICAgICAgICBpZiAod2luZG93LlhSOCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd4cmxvYWRlZCcsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCB7IEFSQ2FtZXJhOHRod2FsbCB9O1xuY29uc3QgT3ZlcmxheXNIYW5kbGVyID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0VXNlckludGVyYWN0aW9uID0gdGhpcy5oYW5kbGVSZXF1ZXN0VXNlckludGVyYWN0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlUGVybWlzc2lvbkZhaWwgPSB0aGlzLmhhbmRsZVBlcm1pc3Npb25GYWlsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlRXJyb3IgPSB0aGlzLmhhbmRsZUVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLXJlcXVlc3QtdXNlci1pbnRlcmFjdGlvbicsIHRoaXMuaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbik7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLXBlcm1pc3Npb24tZmFpbCcsIHRoaXMuaGFuZGxlUGVybWlzc2lvbkZhaWwpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1lcnJvcicsIHRoaXMuaGFuZGxlRXJyb3IpO1xuICAgIH0sXG4gICAgaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5zaG93T3ZlcmxheShyZXF1ZXN0UGVybWlzc2lvbk92ZXJsYXkpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnLCAoKSA9PiB7XG4gICAgICAgICAgICBvdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGhhbmRsZVBlcm1pc3Npb25GYWlsOiBmdW5jdGlvbiAoX3JlYXNvbikge1xuICAgICAgICB0aGlzLnNob3dPdmVybGF5KGZhaWxlZFBlcm1pc3Npb25PdmVybGF5KTtcbiAgICB9LFxuICAgIGhhbmRsZUVycm9yOiBmdW5jdGlvbiAoX2Vycm9yKSB7XG4gICAgICAgIHRoaXMuc2hvd092ZXJsYXkocnVudGltZUVycm9yT3ZlcmxheSk7XG4gICAgfSxcbiAgICBzaG93T3ZlcmxheTogZnVuY3Rpb24gKGh0bWxDb250ZW50KSB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgb3ZlcmxheS5pbm5lckhUTUwgPSBodG1sQ29udGVudDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXk7XG4gICAgfSxcbn07XG5jb25zdCByZXF1ZXN0UGVybWlzc2lvbk92ZXJsYXkgPSBgXG48c3R5bGU+XG4gICNyZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgfVxuXG4gIC5yZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZSB7XG4gICAgbWFyZ2luOiAzMHB4O1xuICAgIGZvbnQtc2l6ZTogMzJweDtcbiAgfVxuXG4gIC5yZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV9idXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlODAwODY7XG4gICAgZm9udC1zaXplOiAyMnB4O1xuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgfVxuPC9zdHlsZT5cblxuPGRpdiBpZD1cInJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5XCI+XG4gIDxkaXYgY2xhc3M9XCJyZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZVwiPlRoaXMgYXBwIHJlcXVpcmVzIHRvIHVzZSB5b3VyIGNhbWVyYSBhbmQgbW90aW9uIHNlbnNvcnM8L2Rpdj5cblxuICA8YnV0dG9uIGNsYXNzPVwicmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uXCIgb25jbGljaz1cIndpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnKSlcIj5PSzwvYnV0dG9uPlxuPC9kaXY+YDtcbmNvbnN0IGZhaWxlZFBlcm1pc3Npb25PdmVybGF5ID0gYFxuPHN0eWxlPlxuICAjZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgfVxuXG4gIC5mYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlIHtcbiAgICBtYXJnaW46IDMwcHg7XG4gICAgZm9udC1zaXplOiAzMnB4O1xuICB9XG5cbiAgLmZhaWxlZC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTgwMDg2O1xuICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICBwYWRkaW5nOiAxMHB4IDMwcHg7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBib3JkZXI6IG5vbmU7XG4gIH1cbjwvc3R5bGU+XG5cbjxkaXYgaWQ9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5XCI+XG4gIDxkaXYgY2xhc3M9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlXCI+RmFpbGVkIHRvIGdyYW50IHBlcm1pc3Npb25zLiBSZXNldCB0aGUgdGhlIHBlcm1pc3Npb25zIGFuZCByZWZyZXNoIHRoZSBwYWdlLjwvZGl2PlxuXG4gIDxidXR0b24gY2xhc3M9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X2J1dHRvblwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcIj5SZWZyZXNoIHRoZSBwYWdlPC9idXR0b24+XG48L2Rpdj5gO1xuY29uc3QgcnVudGltZUVycm9yT3ZlcmxheSA9IGBcbjxzdHlsZT5cbiAgI3dhbGwtZXJyb3Itb3ZlcmxheSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgfVxuXG4gIC53YWxsLWVycm9yLW92ZXJsYXlfdGl0bGUge1xuICAgIG1hcmdpbjogMzBweDtcbiAgICBmb250LXNpemU6IDMycHg7XG4gIH1cblxuICAud2FsbC1lcnJvci1vdmVybGF5X2J1dHRvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4MDA4NjtcbiAgICBmb250LXNpemU6IDIycHg7XG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgYm9yZGVyOiBub25lO1xuICB9XG48L3N0eWxlPlxuXG48ZGl2IGlkPVwid2FsbC1lcnJvci1vdmVybGF5XCI+XG4gIDxkaXYgY2xhc3M9XCJ3YWxsLWVycm9yLW92ZXJsYXlfdGl0bGVcIj5FcnJvciBoYXMgb2NjdXJyZWQuIFBsZWFzZSByZWxvYWQgdGhlIHBhZ2U8L2Rpdj5cblxuICA8YnV0dG9uIGNsYXNzPVwid2FsbC1lcnJvci1vdmVybGF5X2J1dHRvblwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcIj5SZWxvYWQ8L2J1dHRvbj5cbjwvZGl2PmA7XG4iLCAiY29uc3QgdGVtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCB0ZW1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5leHBvcnQgZnVuY3Rpb24gc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKG8sIHRyYW5zZm9ybSkge1xuICAgIGNvbnN0IHIgPSB0cmFuc2Zvcm0ub3JpZW50YXRpb247XG4gICAgdGVtcFF1YXRbMF0gPSByLng7XG4gICAgdGVtcFF1YXRbMV0gPSByLnk7XG4gICAgdGVtcFF1YXRbMl0gPSByLno7XG4gICAgdGVtcFF1YXRbM10gPSByLnc7XG4gICAgY29uc3QgdCA9IHRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB0ZW1wVmVjWzBdID0gdC54O1xuICAgIHRlbXBWZWNbMV0gPSB0Lnk7XG4gICAgdGVtcFZlY1syXSA9IHQuejtcbiAgICBvLnJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbigpO1xuICAgIG8udHJhbnNmb3JtTG9jYWwuc2V0KHRlbXBRdWF0KTtcbiAgICBvLnRyYW5zbGF0ZSh0ZW1wVmVjKTtcbn1cbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQsIEVtaXR0ZXIgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcbnZhciB0ZW1wVmVjMyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG52YXIgdGVtcFF1YXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuLyoqXG4gKiBTZXRzIHRoZSBsb2NhdGlvbiBvZiB0aGUgb2JqZWN0IHRvIHRoZSBsb2NhdGlvbiBvZiBhbiBYUkFuY2hvclxuICpcbiAqIENyZWF0ZSBhbmNob3JzIHVzaW5nIHRoZSBgQW5jaG9yLmNyZWF0ZSgpYCBzdGF0aWMgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZSBmb3IgdXNlIHdpdGggY3Vyc29yOlxuICogYGBganNcbiAqIGN1cnNvclRhcmdldC5vbkNsaWNrLmFkZCgob2JqZWN0LCBjdXJzb3IsIG9yaWdpbmFsRXZlbnQpID0+IHtcbiAqICAgICAvKiBPbmx5IGV2ZW50cyBpbiBYUiB3aWxsIGhhdmUgYSBmcmFtZSBhdHRhY2hlZCAqXFwvXG4gKiAgICAgaWYoIW9yaWdpbmFsRXZlbnQuZnJhbWUpIHJldHVybjtcbiAqICAgICBBbmNob3IuY3JlYXRlKGFuY2hvck9iamVjdCwge3V1aWQ6IGlkLCBwZXJzaXN0OiB0cnVlfSwgb3JpZ2luYWxFdmVudC5mcmFtZSk7XG4gKiB9KTtcbiAqIGBgYFxuICovXG5jbGFzcyBBbmNob3IgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdhbmNob3InO1xuICAgIC8qIFN0YXRpYyBtYW5hZ2VtZW50IG9mIGFsbCBhbmNob3JzICovXG4gICAgc3RhdGljICNhbmNob3JzID0gW107XG4gICAgcGVyc2lzdCA9IGZhbHNlO1xuICAgIC8qKiBVbmlxdWUgaWRlbnRpZmllciB0byBsb2FkIGEgcGVyc2lzdGVudCBhbmNob3IgZnJvbSwgb3IgZW1wdHkvbnVsbCBpZiB1bmtub3duICovXG4gICAgdXVpZCA9IG51bGw7XG4gICAgLyoqIFRoZSB4ckFuY2hvciwgaWYgY3JlYXRlZCAqL1xuICAgIHhyQW5jaG9yID0gbnVsbDtcbiAgICAvKiogRW1pdHMgZXZlbnRzIHdoZW4gdGhlIGFuY2hvciBpcyBjcmVhdGVkIGVpdGhlciBieSBiZWluZyByZXN0b3JlZCBvciBuZXdseSBjcmVhdGVkICovXG4gICAgb25DcmVhdGUgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBXaGV0aGVyIHRoZSBhbmNob3IgaXMgY3VycmVudGx5IGJlaW5nIHRyYWNrZWQgKi9cbiAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhpcyBhbmNob3Igc3RhcnRzIHRyYWNraW5nICovXG4gICAgb25UcmFja2luZ0ZvdW5kID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGlzIGFuY2hvciBzdG9wcyB0cmFja2luZyAqL1xuICAgIG9uVHJhY2tpbmdMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogWFJGcmFtZSB0byB1c2UgZm9yIGNyZWF0aW5nIHRoZSBhbmNob3IgKi9cbiAgICB4ckZyYW1lID0gbnVsbDtcbiAgICAvKiogWFJIaXRUZXN0UmVzdWx0IHRvIHVzZSBmb3IgY3JlYXRpbmcgdGhlIGFuY2hvciAqL1xuICAgIHhySGl0UmVzdWx0ID0gbnVsbDtcbiAgICAvKiogUmV0cmlldmUgYWxsIGFuY2hvcnMgb2YgdGhlIGN1cnJlbnQgc2NlbmUgKi9cbiAgICBzdGF0aWMgZ2V0QWxsQW5jaG9ycygpIHtcbiAgICAgICAgcmV0dXJuIEFuY2hvci4jYW5jaG9ycztcbiAgICB9XG4gICAgc3RhdGljICNhZGRBbmNob3IoYW5jaG9yKSB7XG4gICAgICAgIEFuY2hvci4jYW5jaG9ycy5wdXNoKGFuY2hvcik7XG4gICAgfVxuICAgIHN0YXRpYyAjcmVtb3ZlQW5jaG9yKGFuY2hvcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IEFuY2hvci4jYW5jaG9ycy5pbmRleE9mKGFuY2hvcik7XG4gICAgICAgIGlmIChpbmRleCA8IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIEFuY2hvci4jYW5jaG9ycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgYW5jaG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbyBPYmplY3QgdG8gYXR0YWNoIHRoZSBjb21wb25lbnQgdG9cbiAgICAgKiBAcGFyYW0gcGFyYW1zIFBhcmFtZXRlcnMgZm9yIHRoZSBhbmNob3IgY29tcG9uZW50XG4gICAgICogQHBhcmFtIGZyYW1lIFhSRnJhbWUgdG8gdXNlIGZvciBhbmNob3IgY3JhdGlvbiwgaWYgbnVsbCwgd2lsbCB1c2UgdGhlIGN1cnJlbnQgZnJhbWUgaWYgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIGhpdFJlc3VsdCBPcHRpb25hbCBoaXQtdGVzdCByZXN1bHQgdG8gY3JlYXRlIHRoZSBhbmNob3Igd2l0aFxuICAgICAqIEByZXR1cm5zIFByb21pc2UgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGFuY2hvciBjb21wb25lbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKG8sIHBhcmFtcywgZnJhbWUsIGhpdFJlc3VsdCkge1xuICAgICAgICBjb25zdCBhID0gby5hZGRDb21wb25lbnQoQW5jaG9yLCB7IC4uLnBhcmFtcywgYWN0aXZlOiBmYWxzZSB9KTtcbiAgICAgICAgaWYgKGEgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgYS54ckhpdFJlc3VsdCA9IGhpdFJlc3VsdCA/PyBudWxsO1xuICAgICAgICBhLnhyRnJhbWUgPSBmcmFtZSA/PyBudWxsO1xuICAgICAgICBhLm9uQ3JlYXRlLm9uY2UoKCkgPT4gKChhLnhyRnJhbWUgPSBudWxsKSwgKGEueHJIaXRSZXN1bHQgPSBudWxsKSkpO1xuICAgICAgICBhLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBhLm9uQ3JlYXRlLnByb21pc2UoKTtcbiAgICB9XG4gICAgI2dldEZyYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy54ckZyYW1lIHx8IHRoaXMuZW5naW5lLnhyLmZyYW1lO1xuICAgIH1cbiAgICBhc3luYyAjY3JlYXRlQW5jaG9yKCkge1xuICAgICAgICBpZiAoIXRoaXMuI2dldEZyYW1lKCkuY3JlYXRlQW5jaG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGFuY2hvciAtIGFuY2hvcnMgbm90IHN1cHBvcnRlZCwgZGlkIHlvdSBlbmFibGUgdGhlICdhbmNob3JzJyBXZWJYUiBmZWF0dXJlP1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy54ckhpdFJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMueHJIaXRSZXN1bHQuY3JlYXRlQW5jaG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3RlZCBhbmNob3Igb24gWFJIaXRUZXN0UmVzdWx0LCBidXQgV2ViWFIgaGl0LXRlc3QgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueHJIaXRSZXN1bHQuY3JlYXRlQW5jaG9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRlbXBWZWMzKTtcbiAgICAgICAgICAgIHRlbXBRdWF0LnNldCh0aGlzLm9iamVjdC5yb3RhdGlvbldvcmxkKTtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uID0gdGVtcFF1YXQ7XG4gICAgICAgICAgICBjb25zdCBhbmNob3JQb3NlID0gbmV3IFhSUmlnaWRUcmFuc2Zvcm0oeyB4OiB0ZW1wVmVjM1swXSwgeTogdGVtcFZlYzNbMV0sIHo6IHRlbXBWZWMzWzJdIH0sIHsgeDogcm90YXRpb25bMF0sIHk6IHJvdGF0aW9uWzFdLCB6OiByb3RhdGlvblsyXSwgdzogcm90YXRpb25bM10gfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jZ2V0RnJhbWUoKT8uY3JlYXRlQW5jaG9yKGFuY2hvclBvc2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI29uQWRkQW5jaG9yKGFuY2hvcikge1xuICAgICAgICBpZiAoIWFuY2hvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMucGVyc2lzdCkge1xuICAgICAgICAgICAgaWYgKGFuY2hvci5yZXF1ZXN0UGVyc2lzdGVudEhhbmRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yLnJlcXVlc3RQZXJzaXN0ZW50SGFuZGxlKCkudGhlbigodXVpZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnV1aWQgPSB1dWlkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNvbkNyZWF0ZShhbmNob3IpO1xuICAgICAgICAgICAgICAgICAgICBBbmNob3IuI2FkZEFuY2hvcih0aGlzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2FuY2hvcjogUGVyc2lzdGVudCBhbmNob3JzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgY2xpZW50LiBJZ25vcmluZyBwZXJzaXN0IHByb3BlcnR5LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuI29uQ3JlYXRlKGFuY2hvcik7XG4gICAgfVxuICAgICNvblJlc3RvcmVBbmNob3IoYW5jaG9yKSB7XG4gICAgICAgIHRoaXMuI29uQ3JlYXRlKGFuY2hvcik7XG4gICAgfVxuICAgICNvbkNyZWF0ZShhbmNob3IpIHtcbiAgICAgICAgdGhpcy54ckFuY2hvciA9IGFuY2hvcjtcbiAgICAgICAgdGhpcy5vbkNyZWF0ZS5ub3RpZnkodGhpcyk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy51dWlkICYmIHRoaXMuZW5naW5lLnhyKSB7XG4gICAgICAgICAgICB0aGlzLnBlcnNpc3QgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyLnNlc3Npb24ucmVzdG9yZVBlcnNpc3RlbnRBbmNob3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignYW5jaG9yOiBQZXJzaXN0ZW50IGFuY2hvcnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBjbGllbnQuIElnbm9yaW5nIHBlcnNpc3QgcHJvcGVydHkuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLnJlc3RvcmVQZXJzaXN0ZW50QW5jaG9yKHRoaXMudXVpZCkudGhlbih0aGlzLiNvblJlc3RvcmVBbmNob3IuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy4jZ2V0RnJhbWUoKSkge1xuICAgICAgICAgICAgdGhpcy4jY3JlYXRlQW5jaG9yKCkudGhlbih0aGlzLiNvbkFkZEFuY2hvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQW5jaG9ycyBjYW4gb25seSBiZSBjcmVhdGVkIGR1cmluZyB0aGUgWFIgZnJhbWUgaW4gYW4gYWN0aXZlIFhSIHNlc3Npb24nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy54ckFuY2hvciB8fCAhdGhpcy5lbmdpbmUueHIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8qIFdlIG5lZWQgdG8gdXNlIHRoZSBhY3R1YWwgZnJhbWUgZnJvbSB0aGUgZHJhdyBjYWxsYmFjayBoZXJlICovXG4gICAgICAgIGNvbnN0IHBvc2UgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRQb3NlKHRoaXMueHJBbmNob3IuYW5jaG9yU3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XG4gICAgICAgIGNvbnN0IHZpc2libGUgPSAhIXBvc2U7XG4gICAgICAgIGlmICh2aXNpYmxlICE9IHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgICAgICh2aXNpYmxlID8gdGhpcy5vblRyYWNraW5nRm91bmQgOiB0aGlzLm9uVHJhY2tpbmdMb3N0KS5ub3RpZnkodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2UpIHtcbiAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdCwgcG9zZS50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRGVzdHJveSgpIHtcbiAgICAgICAgQW5jaG9yLiNyZW1vdmVBbmNob3IodGhpcyk7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuYm9vbChmYWxzZSlcbl0sIEFuY2hvci5wcm90b3R5cGUsIFwicGVyc2lzdFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuc3RyaW5nKClcbl0sIEFuY2hvci5wcm90b3R5cGUsIFwidXVpZFwiLCB2b2lkIDApO1xuZXhwb3J0IHsgQW5jaG9yIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0dGVyIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbi8qKlxuICogQ2xpY2svaG92ZXIvbW92ZS9idXR0b24gdGFyZ2V0IGZvciBbY3Vyc29yXSgjY3Vyc29yKS5cbiAqXG4gKiBUbyB0cmlnZ2VyIGNvZGUgd2hlbiBjbGlja2luZywgaG92ZXJpbmcsIHVuaG92ZXJpbmcsIG1vdmluZyBjdXJzb3IsIHByZXNzaW5nXG4gKiBjdXJzb3IgYnV0dG9uIG9yIHJlbGVhc2luZyBjdXJzb3IgYnV0dG9uLCB1c2UgYC5hZGRDbGlja0Z1bmN0aW9uKGYpYCxcbiAqIGAuYWRkSG92ZXJGdW5jdGlvbihmKWAsIGAuYWRkVW5Ib3ZlckZ1bmN0aW9uKGYpYCxcbiAqIGAuYWRkTW92ZUZ1bmN0aW9uKGYpYCwgYC5hZGREb3duRnVuY3Rpb24oZilgIGFuZFxuICogYC5hZGRVcEZ1bmN0aW9uKGYpYCByZXNwZWN0aXZlbHkgd2l0aCBhbnkgYGZ1bmN0aW9uIGYoKSB7fWAuXG4gKlxuICogVG8gY2FsbCBtZW1iZXJzIG9uIGEgZGlmZmVyZW50IGNvbXBvbmVudCwgeW91IGNhbiBzZXQgdXAgYSBjdXJzb3IgdGFyZ2V0IGxpa2VcbiAqIHNvOlxuICpcbiAqIGBgYGpzXG4gKiBzdGFydDogZnVuY3Rpb24oKSB7XG4gKiAgIGxldCB0YXJnZXQgPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcbiAqICAgdGFyZ2V0Lm9uQ2xpY2suYWRkKHRoaXMub25DbGljay5iaW5kKHRoaXMpKTtcbiAqIH0sXG4gKiBvbkNsaWNrOiBmdW5jdGlvbigpIHtcbiAqICAgY29uc29sZS5sb2codGhpcy5vYmplY3QubmFtZSwgXCJ3YXMgY2xpY2tlZCFcIik7XG4gKiB9XG4gKiBgYGBcbiAqICoqRnVuY3Rpb25zOioqXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHRhcmdldCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xuICogY29uc3QgY2FsbGJhY2sgPSBmdW5jdGlvbihvYmplY3QsIGN1cnNvckNvbXBvbmVudCkge307XG4gKlxuICogdGFyZ2V0Lm9uSG92ZXIuYWRkKGNhbGxiYWNrKTtcbiAqIHRhcmdldC5vbkhvdmVyLnJlbW92ZShjYWxsYmFjayk7XG4gKlxuICogdGFyZ2V0Lm9uVW5Ib3Zlci5hZGQoY2FsbGJhY2spO1xuICogdGFyZ2V0Lm9uVW5Ib3Zlci5yZW1vdmUoY2FsbGJhY2spO1xuICpcbiAqIHRhcmdldC5vbkNsaWNrLmFkZChjYWxsYmFjayk7XG4gKiB0YXJnZXQub25DbGljay5yZW1vdmUoY2FsbGJhY2spO1xuICpcbiAqIHRhcmdldC5vbk1vdmUuYWRkKGNhbGxiYWNrKTtcbiAqIHRhcmdldC5vbk1vdmUucmVtb3ZlKGNhbGxiYWNrKTtcbiAqXG4gKiB0YXJnZXQub25Eb3duLmFkZChjYWxsYmFjayk7XG4gKiB0YXJnZXQub25Eb3duLnJlbW92ZShjYWxsYmFjayk7XG4gKlxuICogdGFyZ2V0Lm9uVXAuYWRkKGNhbGxiYWNrKTtcbiAqIHRhcmdldC5vblVwLnJlbW92ZShjYWxsYmFjayk7XG4gKiBgYGBcbiAqXG4gKiAqKlJlcXVpcmVtZW50czoqKlxuICogLSBhIGBjb2xsaXNpb25gIGNvbXBvbmVudCB0byBiZSBhdHRhY2hlZCB0byB0aGUgc2FtZSBvYmplY3QuXG4gKlxuICogU2VlIFtBbmltYXRpb24gRXhhbXBsZV0oL3Nob3djYXNlL2FuaW1hdGlvbikuXG4gKi9cbmNsYXNzIEN1cnNvclRhcmdldCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2N1cnNvci10YXJnZXQnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge307XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgaG92ZXJlZCAqL1xuICAgIG9uSG92ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIHVuaG92ZXJlZCAqL1xuICAgIG9uVW5ob3ZlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgY2xpY2tlZCAqL1xuICAgIG9uQ2xpY2sgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgY3Vyc29yIG1vdmVzIG9uIHRoZSB0YXJnZXQgKi9cbiAgICBvbk1vdmUgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciBwcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cbiAgICBvbkRvd24gPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciB1bnByZXNzZWQgdGhlIHNlbGVjdCBidXR0b24gb24gdGhlIHRhcmdldCAqL1xuICAgIG9uVXAgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICB0aGlzLm9uSG92ZXIuYWRkKGYpO1xuICAgICAqL1xuICAgIGFkZEhvdmVyRnVuY3Rpb24oZikge1xuICAgICAgICB0aGlzLm9uSG92ZXIuYWRkKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgdGhpcy5vbkhvdmVyLnJlbW92ZShmKTtcbiAgICAgKi9cbiAgICByZW1vdmVIb3ZlckZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vbkhvdmVyLnJlbW92ZShmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIHRoaXMub25VbmhvdmVyLmFkZChmKTtcbiAgICAgKi9cbiAgICBhZGRVbkhvdmVyRnVuY3Rpb24oZikge1xuICAgICAgICB0aGlzLm9uVW5ob3Zlci5hZGQoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICB0aGlzLm9uVW5ob3Zlci5yZW1vdmUoZik7XG4gICAgICovXG4gICAgcmVtb3ZlVW5Ib3ZlckZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vblVuaG92ZXIucmVtb3ZlKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgdGhpcy5vbkNsaWNrLmFkZChmKTtcbiAgICAgKi9cbiAgICBhZGRDbGlja0Z1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vbkNsaWNrLmFkZChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbkNsaWNrLnJlbW92ZShmKTtcbiAgICAgKi9cbiAgICByZW1vdmVDbGlja0Z1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vbkNsaWNrLnJlbW92ZShmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbk1vdmUuYWRkKGYpO1xuICAgICAqL1xuICAgIGFkZE1vdmVGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25Nb3ZlLmFkZChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbk1vdmUucmVtb3ZlKGYpO1xuICAgICAqL1xuICAgIHJlbW92ZU1vdmVGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25Nb3ZlLnJlbW92ZShmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbkRvd24uYWRkKGYpO1xuICAgICAqL1xuICAgIGFkZERvd25GdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25Eb3duLmFkZChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbkRvd24ucmVtb3ZlKGYpO1xuICAgICAqL1xuICAgIHJlbW92ZURvd25GdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25Eb3duLnJlbW92ZShmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vblVwLmFkZChmKTtcbiAgICAgKi9cbiAgICBhZGRVcEZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vblVwLmFkZChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vblVwLnJlbW92ZShmKTtcbiAgICAgKi9cbiAgICByZW1vdmVVcEZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vblVwLnJlbW92ZShmKTtcbiAgICB9XG59XG5leHBvcnQgeyBDdXJzb3JUYXJnZXQgfTtcbiIsICIvKipcbiAqIENvbW1vbiB1dGlsaXRpZXNcbiAqIEBtb2R1bGUgZ2xNYXRyaXhcbiAqL1xuLy8gQ29uZmlndXJhdGlvbiBDb25zdGFudHNcbmV4cG9ydCB2YXIgRVBTSUxPTiA9IDAuMDAwMDAxO1xuZXhwb3J0IHZhciBBUlJBWV9UWVBFID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcbmV4cG9ydCB2YXIgUkFORE9NID0gTWF0aC5yYW5kb207XG4vKipcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5Q29uc3RydWN0b3IgfCBBcnJheUNvbnN0cnVjdG9yfSB0eXBlIEFycmF5IHR5cGUsIHN1Y2ggYXMgRmxvYXQzMkFycmF5IG9yIEFycmF5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xufVxudmFyIGRlZ3JlZSA9IE1hdGguUEkgLyAxODA7XG4vKipcbiAqIENvbnZlcnQgRGVncmVlIFRvIFJhZGlhblxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW4oYSkge1xuICByZXR1cm4gYSAqIGRlZ3JlZTtcbn1cbi8qKlxuICogVGVzdHMgd2hldGhlciBvciBub3QgdGhlIGFyZ3VtZW50cyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgdmFsdWUsIHdpdGhpbiBhbiBhYnNvbHV0ZVxuICogb3IgcmVsYXRpdmUgdG9sZXJhbmNlIG9mIGdsTWF0cml4LkVQU0lMT04gKGFuIGFic29sdXRlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciB2YWx1ZXMgbGVzc1xuICogdGhhbiBvciBlcXVhbCB0byAxLjAsIGFuZCBhIHJlbGF0aXZlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciBsYXJnZXIgdmFsdWVzKVxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBmaXJzdCBudW1iZXIgdG8gdGVzdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBzZWNvbmQgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG59XG5pZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB5ID0gMCxcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XG59OyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogM3gzIE1hdHJpeFxuICogQG1vZHVsZSBtYXQzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDNcbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gYSBuZXcgM3gzIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNV0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs0XSA9IDE7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcGllcyB0aGUgdXBwZXItbGVmdCAzeDMgdmFsdWVzIGludG8gdGhlIGdpdmVuIG1hdDMuXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyAzeDMgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSAgIHRoZSBzb3VyY2UgNHg0IG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0NChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVs0XTtcbiAgb3V0WzRdID0gYVs1XTtcbiAgb3V0WzVdID0gYVs2XTtcbiAgb3V0WzZdID0gYVs4XTtcbiAgb3V0WzddID0gYVs5XTtcbiAgb3V0WzhdID0gYVsxMF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0MyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDN9IGEgbmV3IDN4MyBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQzIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDMgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHJldHVybnMge21hdDN9IEEgbmV3IG1hdDNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTEwO1xuICBvdXRbNF0gPSBtMTE7XG4gIG91dFs1XSA9IG0xMjtcbiAgb3V0WzZdID0gbTIwO1xuICBvdXRbN10gPSBtMjE7XG4gIG91dFs4XSA9IG0yMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0MyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTEwLCBtMTEsIG0xMiwgbTIwLCBtMjEsIG0yMikge1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMTA7XG4gIG91dFs0XSA9IG0xMTtcbiAgb3V0WzVdID0gbTEyO1xuICBvdXRbNl0gPSBtMjA7XG4gIG91dFs3XSA9IG0yMTtcbiAgb3V0WzhdID0gbTIyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQzIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICAgIGEwMiA9IGFbMl0sXG4gICAgICAgIGExMiA9IGFbNV07XG4gICAgb3V0WzFdID0gYVszXTtcbiAgICBvdXRbMl0gPSBhWzZdO1xuICAgIG91dFszXSA9IGEwMTtcbiAgICBvdXRbNV0gPSBhWzddO1xuICAgIG91dFs2XSA9IGEwMjtcbiAgICBvdXRbN10gPSBhMTI7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzNdO1xuICAgIG91dFsyXSA9IGFbNl07XG4gICAgb3V0WzNdID0gYVsxXTtcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbN107XG4gICAgb3V0WzZdID0gYVsyXTtcbiAgICBvdXRbN10gPSBhWzVdO1xuICAgIG91dFs4XSA9IGFbOF07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBJbnZlcnRzIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF07XG4gIHZhciBiMDEgPSBhMjIgKiBhMTEgLSBhMTIgKiBhMjE7XG4gIHZhciBiMTEgPSAtYTIyICogYTEwICsgYTEyICogYTIwO1xuICB2YXIgYjIxID0gYTIxICogYTEwIC0gYTExICogYTIwOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGEwMCAqIGIwMSArIGEwMSAqIGIxMSArIGEwMiAqIGIyMTtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSBiMDEgKiBkZXQ7XG4gIG91dFsxXSA9ICgtYTIyICogYTAxICsgYTAyICogYTIxKSAqIGRldDtcbiAgb3V0WzJdID0gKGExMiAqIGEwMSAtIGEwMiAqIGExMSkgKiBkZXQ7XG4gIG91dFszXSA9IGIxMSAqIGRldDtcbiAgb3V0WzRdID0gKGEyMiAqIGEwMCAtIGEwMiAqIGEyMCkgKiBkZXQ7XG4gIG91dFs1XSA9ICgtYTEyICogYTAwICsgYTAyICogYTEwKSAqIGRldDtcbiAgb3V0WzZdID0gYjIxICogZGV0O1xuICBvdXRbN10gPSAoLWEyMSAqIGEwMCArIGEwMSAqIGEyMCkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTEgKiBhMDAgLSBhMDEgKiBhMTApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXTtcbiAgdmFyIGExMCA9IGFbM10sXG4gICAgICBhMTEgPSBhWzRdLFxuICAgICAgYTEyID0gYVs1XTtcbiAgdmFyIGEyMCA9IGFbNl0sXG4gICAgICBhMjEgPSBhWzddLFxuICAgICAgYTIyID0gYVs4XTtcbiAgb3V0WzBdID0gYTExICogYTIyIC0gYTEyICogYTIxO1xuICBvdXRbMV0gPSBhMDIgKiBhMjEgLSBhMDEgKiBhMjI7XG4gIG91dFsyXSA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgb3V0WzNdID0gYTEyICogYTIwIC0gYTEwICogYTIyO1xuICBvdXRbNF0gPSBhMDAgKiBhMjIgLSBhMDIgKiBhMjA7XG4gIG91dFs1XSA9IGEwMiAqIGExMCAtIGEwMCAqIGExMjtcbiAgb3V0WzZdID0gYTEwICogYTIxIC0gYTExICogYTIwO1xuICBvdXRbN10gPSBhMDEgKiBhMjAgLSBhMDAgKiBhMjE7XG4gIG91dFs4XSA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdO1xuICByZXR1cm4gYTAwICogKGEyMiAqIGExMSAtIGExMiAqIGEyMSkgKyBhMDEgKiAoLWEyMiAqIGExMCArIGExMiAqIGEyMCkgKyBhMDIgKiAoYTIxICogYTEwIC0gYTExICogYTIwKTtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0MydzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF07XG4gIHZhciBiMDAgPSBiWzBdLFxuICAgICAgYjAxID0gYlsxXSxcbiAgICAgIGIwMiA9IGJbMl07XG4gIHZhciBiMTAgPSBiWzNdLFxuICAgICAgYjExID0gYls0XSxcbiAgICAgIGIxMiA9IGJbNV07XG4gIHZhciBiMjAgPSBiWzZdLFxuICAgICAgYjIxID0gYls3XSxcbiAgICAgIGIyMiA9IGJbOF07XG4gIG91dFswXSA9IGIwMCAqIGEwMCArIGIwMSAqIGExMCArIGIwMiAqIGEyMDtcbiAgb3V0WzFdID0gYjAwICogYTAxICsgYjAxICogYTExICsgYjAyICogYTIxO1xuICBvdXRbMl0gPSBiMDAgKiBhMDIgKyBiMDEgKiBhMTIgKyBiMDIgKiBhMjI7XG4gIG91dFszXSA9IGIxMCAqIGEwMCArIGIxMSAqIGExMCArIGIxMiAqIGEyMDtcbiAgb3V0WzRdID0gYjEwICogYTAxICsgYjExICogYTExICsgYjEyICogYTIxO1xuICBvdXRbNV0gPSBiMTAgKiBhMDIgKyBiMTEgKiBhMTIgKyBiMTIgKiBhMjI7XG4gIG91dFs2XSA9IGIyMCAqIGEwMCArIGIyMSAqIGExMCArIGIyMiAqIGEyMDtcbiAgb3V0WzddID0gYjIwICogYTAxICsgYjIxICogYTExICsgYjIyICogYTIxO1xuICBvdXRbOF0gPSBiMjAgKiBhMDIgKyBiMjEgKiBhMTIgKyBiMjIgKiBhMjI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDMgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV0sXG4gICAgICBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF0sXG4gICAgICB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdO1xuICBvdXRbMF0gPSBhMDA7XG4gIG91dFsxXSA9IGEwMTtcbiAgb3V0WzJdID0gYTAyO1xuICBvdXRbM10gPSBhMTA7XG4gIG91dFs0XSA9IGExMTtcbiAgb3V0WzVdID0gYTEyO1xuICBvdXRbNl0gPSB4ICogYTAwICsgeSAqIGExMCArIGEyMDtcbiAgb3V0WzddID0geCAqIGEwMSArIHkgKiBhMTEgKyBhMjE7XG4gIG91dFs4XSA9IHggKiBhMDIgKyB5ICogYTEyICsgYTIyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0MyBieSB0aGUgZ2l2ZW4gYW5nbGVcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdLFxuICAgICAgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdLFxuICAgICAgcyA9IE1hdGguc2luKHJhZCksXG4gICAgICBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYyAqIGEwMCArIHMgKiBhMTA7XG4gIG91dFsxXSA9IGMgKiBhMDEgKyBzICogYTExO1xuICBvdXRbMl0gPSBjICogYTAyICsgcyAqIGExMjtcbiAgb3V0WzNdID0gYyAqIGExMCAtIHMgKiBhMDA7XG4gIG91dFs0XSA9IGMgKiBhMTEgLSBzICogYTAxO1xuICBvdXRbNV0gPSBjICogYTEyIC0gcyAqIGEwMjtcbiAgb3V0WzZdID0gYTIwO1xuICBvdXRbN10gPSBhMjE7XG4gIG91dFs4XSA9IGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQzIGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMyXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV07XG4gIG91dFswXSA9IHggKiBhWzBdO1xuICBvdXRbMV0gPSB4ICogYVsxXTtcbiAgb3V0WzJdID0geCAqIGFbMl07XG4gIG91dFszXSA9IHkgKiBhWzNdO1xuICBvdXRbNF0gPSB5ICogYVs0XTtcbiAgb3V0WzVdID0geSAqIGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSB2WzBdO1xuICBvdXRbN10gPSB2WzFdO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My5yb3RhdGUoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IHM7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IC1zO1xuICBvdXRbNF0gPSBjO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB2WzFdO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBmcm9tIGEgbWF0MmQgaW50byBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBtYXRyaXggdG8gY29weVxuICogQHJldHVybnMge21hdDN9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDJkKG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSBhWzJdO1xuICBvdXRbNF0gPSBhWzNdO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSBhWzRdO1xuICBvdXRbN10gPSBhWzVdO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbM10gPSB5eCAtIHd6O1xuICBvdXRbNl0gPSB6eCArIHd5O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbNF0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzddID0genkgLSB3eDtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzVdID0genkgKyB3eDtcbiAgb3V0WzhdID0gMSAtIHh4IC0geXk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgYSAzeDMgbm9ybWFsIG1hdHJpeCAodHJhbnNwb3NlIGludmVyc2UpIGZyb20gdGhlIDR4NCBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBNYXQ0IHRvIGRlcml2ZSB0aGUgbm9ybWFsIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxGcm9tTWF0NChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzJdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFszXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbNF0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbN10gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIDJEIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB5b3VyIGdsIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIGdsIGNvbnRleHRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbihvdXQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgb3V0WzBdID0gMiAvIHdpZHRoO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtMiAvIGhlaWdodDtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gLTE7XG4gIG91dFs3XSA9IDE7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0MyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSk7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDMnc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDMncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdLFxuICAgICAgYTQgPSBhWzRdLFxuICAgICAgYTUgPSBhWzVdLFxuICAgICAgYTYgPSBhWzZdLFxuICAgICAgYTcgPSBhWzddLFxuICAgICAgYTggPSBhWzhdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdLFxuICAgICAgYjQgPSBiWzRdLFxuICAgICAgYjUgPSBiWzVdLFxuICAgICAgYjYgPSBiWzZdLFxuICAgICAgYjcgPSBiWzddLFxuICAgICAgYjggPSBiWzhdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cbiAqIEBtb2R1bGUgbWF0NFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQ0XG4gKlxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAwO1xuICAgIG91dFs0XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDA7XG4gICAgb3V0WzldID0gMDtcbiAgICBvdXRbMTFdID0gMDtcbiAgICBvdXRbMTJdID0gMDtcbiAgICBvdXRbMTNdID0gMDtcbiAgICBvdXRbMTRdID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs1XSA9IDE7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIGNsb25lXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQ0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IEEgbmV3IG1hdDRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICAgIGEwMiA9IGFbMl0sXG4gICAgICAgIGEwMyA9IGFbM107XG4gICAgdmFyIGExMiA9IGFbNl0sXG4gICAgICAgIGExMyA9IGFbN107XG4gICAgdmFyIGEyMyA9IGFbMTFdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhMDE7XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhMDI7XG4gICAgb3V0WzldID0gYTEyO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYTAzO1xuICAgIG91dFsxM10gPSBhMTM7XG4gICAgb3V0WzE0XSA9IGEyMztcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhWzFdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhWzJdO1xuICAgIG91dFs5XSA9IGFbNl07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYVszXTtcbiAgICBvdXRbMTNdID0gYVs3XTtcbiAgICBvdXRbMTRdID0gYVsxMV07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG5cbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzNdID0gKGEyMiAqIGIwNCAtIGEyMSAqIGIwNSAtIGEyMyAqIGIwMykgKiBkZXQ7XG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xuICBvdXRbNV0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzZdID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xuICBvdXRbOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcbiAgb3V0WzldID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcbiAgb3V0WzExXSA9IChhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDApICogZGV0O1xuICBvdXRbMTJdID0gKGExMSAqIGIwNyAtIGExMCAqIGIwOSAtIGExMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcbiAgb3V0WzE0XSA9IChhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDApICogZGV0O1xuICBvdXRbMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgb3V0WzBdID0gYTExICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpO1xuICBvdXRbMV0gPSAtKGEwMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSk7XG4gIG91dFsyXSA9IGEwMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTExICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzNdID0gLShhMDEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbNF0gPSAtKGExMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSk7XG4gIG91dFs1XSA9IGEwMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKTtcbiAgb3V0WzZdID0gLShhMDAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbN10gPSBhMDAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFs4XSA9IGExMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKTtcbiAgb3V0WzldID0gLShhMDAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkpO1xuICBvdXRbMTBdID0gYTAwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpO1xuICBvdXRbMTFdID0gLShhMDAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSkpO1xuICBvdXRbMTJdID0gLShhMTAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkpO1xuICBvdXRbMTNdID0gYTAwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpO1xuICBvdXRbMTRdID0gLShhMDAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSkpO1xuICBvdXRbMTVdID0gYTAwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0NHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07IC8vIENhY2hlIG9ubHkgdGhlIGN1cnJlbnQgbGluZSBvZiB0aGUgc2Vjb25kIG1hdHJpeFxuXG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIG91dFswXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFszXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbNF07XG4gIGIxID0gYls1XTtcbiAgYjIgPSBiWzZdO1xuICBiMyA9IGJbN107XG4gIG91dFs0XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzZdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFs3XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbOF07XG4gIGIxID0gYls5XTtcbiAgYjIgPSBiWzEwXTtcbiAgYjMgPSBiWzExXTtcbiAgb3V0WzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTBdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzEyXTtcbiAgYjEgPSBiWzEzXTtcbiAgYjIgPSBiWzE0XTtcbiAgYjMgPSBiWzE1XTtcbiAgb3V0WzEyXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMTNdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzE1XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGUgYSBtYXQ0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuXG4gIGlmIChhID09PSBvdXQpIHtcbiAgICBvdXRbMTJdID0gYVswXSAqIHggKyBhWzRdICogeSArIGFbOF0gKiB6ICsgYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMV0gKiB4ICsgYVs1XSAqIHkgKyBhWzldICogeiArIGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzJdICogeCArIGFbNl0gKiB5ICsgYVsxMF0gKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbM10gKiB4ICsgYVs3XSAqIHkgKyBhWzExXSAqIHogKyBhWzE1XTtcbiAgfSBlbHNlIHtcbiAgICBhMDAgPSBhWzBdO1xuICAgIGEwMSA9IGFbMV07XG4gICAgYTAyID0gYVsyXTtcbiAgICBhMDMgPSBhWzNdO1xuICAgIGExMCA9IGFbNF07XG4gICAgYTExID0gYVs1XTtcbiAgICBhMTIgPSBhWzZdO1xuICAgIGExMyA9IGFbN107XG4gICAgYTIwID0gYVs4XTtcbiAgICBhMjEgPSBhWzldO1xuICAgIGEyMiA9IGFbMTBdO1xuICAgIGEyMyA9IGFbMTFdO1xuICAgIG91dFswXSA9IGEwMDtcbiAgICBvdXRbMV0gPSBhMDE7XG4gICAgb3V0WzJdID0gYTAyO1xuICAgIG91dFszXSA9IGEwMztcbiAgICBvdXRbNF0gPSBhMTA7XG4gICAgb3V0WzVdID0gYTExO1xuICAgIG91dFs2XSA9IGExMjtcbiAgICBvdXRbN10gPSBhMTM7XG4gICAgb3V0WzhdID0gYTIwO1xuICAgIG91dFs5XSA9IGEyMTtcbiAgICBvdXRbMTBdID0gYTIyO1xuICAgIG91dFsxMV0gPSBhMjM7XG4gICAgb3V0WzEyXSA9IGEwMCAqIHggKyBhMTAgKiB5ICsgYTIwICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhMDEgKiB4ICsgYTExICogeSArIGEyMSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYTAyICogeCArIGExMiAqIHkgKyBhMjIgKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGEwMyAqIHggKyBhMTMgKiB5ICsgYTIzICogeiArIGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHRoZSB2ZWMzIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0NCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgICAgeSA9IGF4aXNbMV0sXG4gICAgICB6ID0gYXhpc1syXTtcbiAgdmFyIGxlbiA9IE1hdGguaHlwb3QoeCwgeSwgeik7XG4gIHZhciBzLCBjLCB0O1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuICB2YXIgYjAwLCBiMDEsIGIwMjtcbiAgdmFyIGIxMCwgYjExLCBiMTI7XG4gIHZhciBiMjAsIGIyMSwgYjIyO1xuXG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZW4gPSAxIC8gbGVuO1xuICB4ICo9IGxlbjtcbiAgeSAqPSBsZW47XG4gIHogKj0gbGVuO1xuICBzID0gTWF0aC5zaW4ocmFkKTtcbiAgYyA9IE1hdGguY29zKHJhZCk7XG4gIHQgPSAxIC0gYztcbiAgYTAwID0gYVswXTtcbiAgYTAxID0gYVsxXTtcbiAgYTAyID0gYVsyXTtcbiAgYTAzID0gYVszXTtcbiAgYTEwID0gYVs0XTtcbiAgYTExID0gYVs1XTtcbiAgYTEyID0gYVs2XTtcbiAgYTEzID0gYVs3XTtcbiAgYTIwID0gYVs4XTtcbiAgYTIxID0gYVs5XTtcbiAgYTIyID0gYVsxMF07XG4gIGEyMyA9IGFbMTFdOyAvLyBDb25zdHJ1Y3QgdGhlIGVsZW1lbnRzIG9mIHRoZSByb3RhdGlvbiBtYXRyaXhcblxuICBiMDAgPSB4ICogeCAqIHQgKyBjO1xuICBiMDEgPSB5ICogeCAqIHQgKyB6ICogcztcbiAgYjAyID0geiAqIHggKiB0IC0geSAqIHM7XG4gIGIxMCA9IHggKiB5ICogdCAtIHogKiBzO1xuICBiMTEgPSB5ICogeSAqIHQgKyBjO1xuICBiMTIgPSB6ICogeSAqIHQgKyB4ICogcztcbiAgYjIwID0geCAqIHogKiB0ICsgeSAqIHM7XG4gIGIyMSA9IHkgKiB6ICogdCAtIHggKiBzO1xuICBiMjIgPSB6ICogeiAqIHQgKyBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGEwMCAqIGIwMCArIGExMCAqIGIwMSArIGEyMCAqIGIwMjtcbiAgb3V0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyO1xuICBvdXRbMl0gPSBhMDIgKiBiMDAgKyBhMTIgKiBiMDEgKyBhMjIgKiBiMDI7XG4gIG91dFszXSA9IGEwMyAqIGIwMCArIGExMyAqIGIwMSArIGEyMyAqIGIwMjtcbiAgb3V0WzRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyO1xuICBvdXRbNV0gPSBhMDEgKiBiMTAgKyBhMTEgKiBiMTEgKyBhMjEgKiBiMTI7XG4gIG91dFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcbiAgb3V0WzddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyO1xuICBvdXRbOF0gPSBhMDAgKiBiMjAgKyBhMTAgKiBiMjEgKyBhMjAgKiBiMjI7XG4gIG91dFs5XSA9IGEwMSAqIGIyMCArIGExMSAqIGIyMSArIGEyMSAqIGIyMjtcbiAgb3V0WzEwXSA9IGEwMiAqIGIyMCArIGExMiAqIGIyMSArIGEyMiAqIGIyMjtcbiAgb3V0WzExXSA9IGEwMyAqIGIyMCArIGExMyAqIGIyMSArIGEyMyAqIGIyMjtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbNl07XG4gICAgb3V0WzddID0gYVs3XTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzBdID0gYTAwICogYyAtIGEyMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjIC0gYTIyICogcztcbiAgb3V0WzNdID0gYTAzICogYyAtIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xuICBvdXRbOV0gPSBhMDEgKiBzICsgYTIxICogYztcbiAgb3V0WzEwXSA9IGEwMiAqIHMgKyBhMjIgKiBjO1xuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzhdID0gYVs4XTtcbiAgICBvdXRbOV0gPSBhWzldO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxMV07XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgKyBhMTAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjICsgYTExICogcztcbiAgb3V0WzJdID0gYTAyICogYyArIGExMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgKyBhMTMgKiBzO1xuICBvdXRbNF0gPSBhMTAgKiBjIC0gYTAwICogcztcbiAgb3V0WzVdID0gYTExICogYyAtIGEwMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgLSBhMDIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjIC0gYTAzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gIG91dFswXSA9IHZbMF07XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IHZbMV07XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSB2WzJdO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlIGFyb3VuZCBhIGdpdmVuIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVYKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IC1zO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gLXM7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHM7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWihkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIHEsIHYpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgb3V0WzBdID0gMSAtICh5eSArIHp6KTtcbiAgb3V0WzFdID0geHkgKyB3ejtcbiAgb3V0WzJdID0geHogLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geHkgLSB3ejtcbiAgb3V0WzVdID0gMSAtICh4eCArIHp6KTtcbiAgb3V0WzZdID0geXogKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geHogKyB3eTtcbiAgb3V0WzldID0geXogLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSAoeHggKyB5eSk7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgTWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdDIob3V0LCBhKSB7XG4gIHZhciB0cmFuc2xhdGlvbiA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICB2YXIgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdLFxuICAgICAgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddO1xuICB2YXIgbWFnbml0dWRlID0gYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6ICsgYncgKiBidzsgLy9Pbmx5IHNjYWxlIGlmIGl0IG1ha2VzIHNlbnNlXG5cbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMiAvIG1hZ25pdHVkZTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcbiAgfVxuXG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgYSwgdHJhbnNsYXRpb24pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXG4gKiAgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgbWF0KSB7XG4gIG91dFswXSA9IG1hdFsxMl07XG4gIG91dFsxXSA9IG1hdFsxM107XG4gIG91dFsyXSA9IG1hdFsxNF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcbiAqICB3aXRoIGEgbm9ybWFsaXplZCBRdWF0ZXJuaW9uIHBhcmFtdGVyLCB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmVcbiAqICB0aGUgc2FtZSBhcyB0aGUgc2NhbGluZyB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxpbmcob3V0LCBtYXQpIHtcbiAgdmFyIG0xMSA9IG1hdFswXTtcbiAgdmFyIG0xMiA9IG1hdFsxXTtcbiAgdmFyIG0xMyA9IG1hdFsyXTtcbiAgdmFyIG0yMSA9IG1hdFs0XTtcbiAgdmFyIG0yMiA9IG1hdFs1XTtcbiAgdmFyIG0yMyA9IG1hdFs2XTtcbiAgdmFyIG0zMSA9IG1hdFs4XTtcbiAgdmFyIG0zMiA9IG1hdFs5XTtcbiAgdmFyIG0zMyA9IG1hdFsxMF07XG4gIG91dFswXSA9IE1hdGguaHlwb3QobTExLCBtMTIsIG0xMyk7XG4gIG91dFsxXSA9IE1hdGguaHlwb3QobTIxLCBtMjIsIG0yMyk7XG4gIG91dFsyXSA9IE1hdGguaHlwb3QobTMxLCBtMzIsIG0zMyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb25hbCBjb21wb25lbnRcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxuICogIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLCB0aGUgcmV0dXJuZWQgcXVhdGVybmlvbiB3aWxsIGJlIHRoZVxuICogIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcblxuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCwgcSwgdiwgcykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgb3V0WzFdID0gKHh5ICsgd3opICogc3g7XG4gIG91dFsyXSA9ICh4eiAtIHd5KSAqIHN4O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAoeHkgLSB3eikgKiBzeTtcbiAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XG4gIG91dFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZSwgcm90YXRpbmcgYW5kIHNjYWxpbmcgYXJvdW5kIHRoZSBnaXZlbiBvcmlnaW5cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgb3JpZ2luKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luKG91dCwgcSwgdiwgcywgbykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICB2YXIgb3ggPSBvWzBdO1xuICB2YXIgb3kgPSBvWzFdO1xuICB2YXIgb3ogPSBvWzJdO1xuICB2YXIgb3V0MCA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICB2YXIgb3V0MSA9ICh4eSArIHd6KSAqIHN4O1xuICB2YXIgb3V0MiA9ICh4eiAtIHd5KSAqIHN4O1xuICB2YXIgb3V0NCA9ICh4eSAtIHd6KSAqIHN5O1xuICB2YXIgb3V0NSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICB2YXIgb3V0NiA9ICh5eiArIHd4KSAqIHN5O1xuICB2YXIgb3V0OCA9ICh4eiArIHd5KSAqIHN6O1xuICB2YXIgb3V0OSA9ICh5eiAtIHd4KSAqIHN6O1xuICB2YXIgb3V0MTAgPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzBdID0gb3V0MDtcbiAgb3V0WzFdID0gb3V0MTtcbiAgb3V0WzJdID0gb3V0MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gb3V0NDtcbiAgb3V0WzVdID0gb3V0NTtcbiAgb3V0WzZdID0gb3V0NjtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gb3V0ODtcbiAgb3V0WzldID0gb3V0OTtcbiAgb3V0WzEwXSA9IG91dDEwO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF0gKyBveCAtIChvdXQwICogb3ggKyBvdXQ0ICogb3kgKyBvdXQ4ICogb3opO1xuICBvdXRbMTNdID0gdlsxXSArIG95IC0gKG91dDEgKiBveCArIG91dDUgKiBveSArIG91dDkgKiBveik7XG4gIG91dFsxNF0gPSB2WzJdICsgb3ogLSAob3V0MiAqIG94ICsgb3V0NiAqIG95ICsgb3V0MTAgKiBveik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcnVzdHVtKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIHJsID0gMSAvIChyaWdodCAtIGxlZnQpO1xuICB2YXIgdGIgPSAxIC8gKHRvcCAtIGJvdHRvbSk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IG5lYXIgKiAyICogcmw7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IG5lYXIgKiAyICogdGI7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IChyaWdodCArIGxlZnQpICogcmw7XG4gIG91dFs5XSA9ICh0b3AgKyBib3R0b20pICogdGI7XG4gIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyICogMiAqIG5mO1xuICBvdXRbMTVdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVOTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gICAgb3V0WzE0XSA9IDIgKiBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtMiAqIG5lYXI7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQucGVyc3BlY3RpdmVOT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgcGVyc3BlY3RpdmUgPSBwZXJzcGVjdGl2ZU5PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCBzdWl0YWJsZSBmb3IgV2ViR1BVIHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVaTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gZmFyICogbmY7XG4gICAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC1uZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgZ2VuZXJhdGluZyBwcm9qZWN0aW9uIG1hdHJpY2VzIHRvIGJlIHVzZWRcbiAqIHdpdGggdGhlIHN0aWxsIGV4cGVyaWVtZW50YWwgV2ViVlIgQVBJLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBmb3YgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyB2YWx1ZXM6IHVwRGVncmVlcywgZG93bkRlZ3JlZXMsIGxlZnREZWdyZWVzLCByaWdodERlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9OTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMiAqIG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQub3J0aG9OT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgb3J0aG8gPSBvcnRob05PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvWk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gbmVhciAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXG4gKiBJZiB5b3Ugd2FudCBhIG1hdHJpeCB0aGF0IGFjdHVhbGx5IG1ha2VzIGFuIG9iamVjdCBsb29rIGF0IGFub3RoZXIgb2JqZWN0LCB5b3Ugc2hvdWxkIHVzZSB0YXJnZXRUbyBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBdChvdXQsIGV5ZSwgY2VudGVyLCB1cCkge1xuICB2YXIgeDAsIHgxLCB4MiwgeTAsIHkxLCB5MiwgejAsIHoxLCB6MiwgbGVuO1xuICB2YXIgZXlleCA9IGV5ZVswXTtcbiAgdmFyIGV5ZXkgPSBleWVbMV07XG4gIHZhciBleWV6ID0gZXllWzJdO1xuICB2YXIgdXB4ID0gdXBbMF07XG4gIHZhciB1cHkgPSB1cFsxXTtcbiAgdmFyIHVweiA9IHVwWzJdO1xuICB2YXIgY2VudGVyeCA9IGNlbnRlclswXTtcbiAgdmFyIGNlbnRlcnkgPSBjZW50ZXJbMV07XG4gIHZhciBjZW50ZXJ6ID0gY2VudGVyWzJdO1xuXG4gIGlmIChNYXRoLmFicyhleWV4IC0gY2VudGVyeCkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleiAtIGNlbnRlcnopIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBpZGVudGl0eShvdXQpO1xuICB9XG5cbiAgejAgPSBleWV4IC0gY2VudGVyeDtcbiAgejEgPSBleWV5IC0gY2VudGVyeTtcbiAgejIgPSBleWV6IC0gY2VudGVyejtcbiAgbGVuID0gMSAvIE1hdGguaHlwb3QoejAsIHoxLCB6Mik7XG4gIHowICo9IGxlbjtcbiAgejEgKj0gbGVuO1xuICB6MiAqPSBsZW47XG4gIHgwID0gdXB5ICogejIgLSB1cHogKiB6MTtcbiAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyO1xuICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeDAsIHgxLCB4Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB4MCA9IDA7XG4gICAgeDEgPSAwO1xuICAgIHgyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgeTAgPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgeTIgPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgbGVuID0gTWF0aC5oeXBvdCh5MCwgeTEsIHkyKTtcblxuICBpZiAoIWxlbikge1xuICAgIHkwID0gMDtcbiAgICB5MSA9IDA7XG4gICAgeTIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeTAgKj0gbGVuO1xuICAgIHkxICo9IGxlbjtcbiAgICB5MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geTA7XG4gIG91dFsyXSA9IHowO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4MTtcbiAgb3V0WzVdID0geTE7XG4gIG91dFs2XSA9IHoxO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4MjtcbiAgb3V0WzldID0geTI7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XG4gIG91dFsxM10gPSAtKHkwICogZXlleCArIHkxICogZXlleSArIHkyICogZXlleik7XG4gIG91dFsxNF0gPSAtKHowICogZXlleCArIHoxICogZXlleSArIHoyICogZXlleik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0YXJnZXRUbyhvdXQsIGV5ZSwgdGFyZ2V0LCB1cCkge1xuICB2YXIgZXlleCA9IGV5ZVswXSxcbiAgICAgIGV5ZXkgPSBleWVbMV0sXG4gICAgICBleWV6ID0gZXllWzJdLFxuICAgICAgdXB4ID0gdXBbMF0sXG4gICAgICB1cHkgPSB1cFsxXSxcbiAgICAgIHVweiA9IHVwWzJdO1xuICB2YXIgejAgPSBleWV4IC0gdGFyZ2V0WzBdLFxuICAgICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxuICAgICAgejIgPSBleWV6IC0gdGFyZ2V0WzJdO1xuICB2YXIgbGVuID0gejAgKiB6MCArIHoxICogejEgKyB6MiAqIHoyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHowICo9IGxlbjtcbiAgICB6MSAqPSBsZW47XG4gICAgejIgKj0gbGVuO1xuICB9XG5cbiAgdmFyIHgwID0gdXB5ICogejIgLSB1cHogKiB6MSxcbiAgICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MixcbiAgICAgIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0geDAgKiB4MCArIHgxICogeDEgKyB4MiAqIHgyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHgxO1xuICBvdXRbMl0gPSB4MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gejEgKiB4MiAtIHoyICogeDE7XG4gIG91dFs1XSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICBvdXRbNl0gPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gejA7XG4gIG91dFs5XSA9IHoxO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gZXlleDtcbiAgb3V0WzEzXSA9IGV5ZXk7XG4gIG91dFsxNF0gPSBleWV6O1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSwgYVs5XSwgYVsxMF0sIGFbMTFdLCBhWzEyXSwgYVsxM10sIGFbMTRdLCBhWzE1XSk7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQnc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gLSBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gLSBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdIC0gYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSAtIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gLSBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdIC0gYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSAtIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIG91dFs0XSA9IGFbNF0gKiBiO1xuICBvdXRbNV0gPSBhWzVdICogYjtcbiAgb3V0WzZdID0gYVs2XSAqIGI7XG4gIG91dFs3XSA9IGFbN10gKiBiO1xuICBvdXRbOF0gPSBhWzhdICogYjtcbiAgb3V0WzldID0gYVs5XSAqIGI7XG4gIG91dFsxMF0gPSBhWzEwXSAqIGI7XG4gIG91dFsxMV0gPSBhWzExXSAqIGI7XG4gIG91dFsxMl0gPSBhWzEyXSAqIGI7XG4gIG91dFsxM10gPSBhWzEzXSAqIGI7XG4gIG91dFsxNF0gPSBhWzE0XSAqIGI7XG4gIG91dFsxNV0gPSBhWzE1XSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldICogc2NhbGU7XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdICogc2NhbGU7XG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdICogc2NhbGU7XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdICogc2NhbGU7XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdICogc2NhbGU7XG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdICogc2NhbGU7XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdICYmIGFbOV0gPT09IGJbOV0gJiYgYVsxMF0gPT09IGJbMTBdICYmIGFbMTFdID09PSBiWzExXSAmJiBhWzEyXSA9PT0gYlsxMl0gJiYgYVsxM10gPT09IGJbMTNdICYmIGFbMTRdID09PSBiWzE0XSAmJiBhWzE1XSA9PT0gYlsxNV07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV0sXG4gICAgICBhNiA9IGFbNl0sXG4gICAgICBhNyA9IGFbN107XG4gIHZhciBhOCA9IGFbOF0sXG4gICAgICBhOSA9IGFbOV0sXG4gICAgICBhMTAgPSBhWzEwXSxcbiAgICAgIGExMSA9IGFbMTFdO1xuICB2YXIgYTEyID0gYVsxMl0sXG4gICAgICBhMTMgPSBhWzEzXSxcbiAgICAgIGExNCA9IGFbMTRdLFxuICAgICAgYTE1ID0gYVsxNV07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHZhciBiNCA9IGJbNF0sXG4gICAgICBiNSA9IGJbNV0sXG4gICAgICBiNiA9IGJbNl0sXG4gICAgICBiNyA9IGJbN107XG4gIHZhciBiOCA9IGJbOF0sXG4gICAgICBiOSA9IGJbOV0sXG4gICAgICBiMTAgPSBiWzEwXSxcbiAgICAgIGIxMSA9IGJbMTFdO1xuICB2YXIgYjEyID0gYlsxMl0sXG4gICAgICBiMTMgPSBiWzEzXSxcbiAgICAgIGIxNCA9IGJbMTRdLFxuICAgICAgYjE1ID0gYlsxNV07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKSAmJiBNYXRoLmFicyhhOSAtIGI5KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOSksIE1hdGguYWJzKGI5KSkgJiYgTWF0aC5hYnMoYTEwIC0gYjEwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTApLCBNYXRoLmFicyhiMTApKSAmJiBNYXRoLmFicyhhMTEgLSBiMTEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMSksIE1hdGguYWJzKGIxMSkpICYmIE1hdGguYWJzKGExMiAtIGIxMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEyKSwgTWF0aC5hYnMoYjEyKSkgJiYgTWF0aC5hYnMoYTEzIC0gYjEzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTMpLCBNYXRoLmFicyhiMTMpKSAmJiBNYXRoLmFicyhhMTQgLSBiMTQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNCksIE1hdGguYWJzKGIxNCkpICYmIE1hdGguYWJzKGExNSAtIGIxNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE1KSwgTWF0aC5hYnMoYjE1KSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuaW1wb3J0ICogYXMgbWF0MyBmcm9tIFwiLi9tYXQzLmpzXCI7XG5pbXBvcnQgKiBhcyB2ZWMzIGZyb20gXCIuL3ZlYzMuanNcIjtcbmltcG9ydCAqIGFzIHZlYzQgZnJvbSBcIi4vdmVjNC5qc1wiO1xuLyoqXG4gKiBRdWF0ZXJuaW9uXG4gKiBAbW9kdWxlIHF1YXRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgcXVhdFxuICpcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IGEgcXVhdCB0byB0aGUgaWRlbnRpdHkgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0cyBhIHF1YXQgZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYW5kIHJvdGF0aW9uIGF4aXMsXG4gKiB0aGVuIHJldHVybnMgaXQuXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyBhcm91bmQgd2hpY2ggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBeGlzQW5nbGUob3V0LCBheGlzLCByYWQpIHtcbiAgcmFkID0gcmFkICogMC41O1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIG91dFswXSA9IHMgKiBheGlzWzBdO1xuICBvdXRbMV0gPSBzICogYXhpc1sxXTtcbiAgb3V0WzJdID0gcyAqIGF4aXNbMl07XG4gIG91dFszXSA9IE1hdGguY29zKHJhZCk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldHMgdGhlIHJvdGF0aW9uIGF4aXMgYW5kIGFuZ2xlIGZvciBhIGdpdmVuXG4gKiAgcXVhdGVybmlvbi4gSWYgYSBxdWF0ZXJuaW9uIGlzIGNyZWF0ZWQgd2l0aFxuICogIHNldEF4aXNBbmdsZSwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNhbWVcbiAqICB2YWx1ZXMgYXMgcHJvdmlkaWVkIGluIHRoZSBvcmlnaW5hbCBwYXJhbWV0ZXIgbGlzdFxuICogIE9SIGZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHZhbHVlcy5cbiAqIEV4YW1wbGU6IFRoZSBxdWF0ZXJuaW9uIGZvcm1lZCBieSBheGlzIFswLCAwLCAxXSBhbmRcbiAqICBhbmdsZSAtOTAgaXMgdGhlIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gZm9ybWVkIGJ5XG4gKiAgWzAsIDAsIDFdIGFuZCAyNzAuIFRoaXMgbWV0aG9kIGZhdm9ycyB0aGUgbGF0dGVyLlxuICogQHBhcmFtICB7dmVjM30gb3V0X2F4aXMgIFZlY3RvciByZWNlaXZpbmcgdGhlIGF4aXMgb2Ygcm90YXRpb25cbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gcSAgICAgUXVhdGVybmlvbiB0byBiZSBkZWNvbXBvc2VkXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgb2YgdGhlIHJvdGF0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF4aXNBbmdsZShvdXRfYXhpcywgcSkge1xuICB2YXIgcmFkID0gTWF0aC5hY29zKHFbM10pICogMi4wO1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCAvIDIuMCk7XG5cbiAgaWYgKHMgPiBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgb3V0X2F4aXNbMF0gPSBxWzBdIC8gcztcbiAgICBvdXRfYXhpc1sxXSA9IHFbMV0gLyBzO1xuICAgIG91dF9heGlzWzJdID0gcVsyXSAvIHM7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgcyBpcyB6ZXJvLCByZXR1cm4gYW55IGF4aXMgKG5vIHJvdGF0aW9uIC0gYXhpcyBkb2VzIG5vdCBtYXR0ZXIpXG4gICAgb3V0X2F4aXNbMF0gPSAxO1xuICAgIG91dF9heGlzWzFdID0gMDtcbiAgICBvdXRfYXhpc1syXSA9IDA7XG4gIH1cblxuICByZXR1cm4gcmFkO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gdHdvIHVuaXQgcXVhdGVybmlvbnNcbiAqXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGEgICAgIE9yaWdpbiB1bml0IHF1YXRlcm5pb25cbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gYiAgICAgRGVzdGluYXRpb24gdW5pdCBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgYmV0d2VlbiB0aGUgdHdvIHF1YXRlcm5pb25zXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFuZ2xlKGEsIGIpIHtcbiAgdmFyIGRvdHByb2R1Y3QgPSBkb3QoYSwgYik7XG4gIHJldHVybiBNYXRoLmFjb3MoMiAqIGRvdHByb2R1Y3QgKiBkb3Rwcm9kdWN0IC0gMSk7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXSxcbiAgICAgIGJ3ID0gYlszXTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ4ID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF3ICogYng7XG4gIG91dFsxXSA9IGF5ICogYncgKyBheiAqIGJ4O1xuICBvdXRbMl0gPSBheiAqIGJ3IC0gYXkgKiBieDtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF4ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWSBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHJhZCAqPSAwLjU7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieSA9IE1hdGguc2luKHJhZCksXG4gICAgICBidyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGF4ICogYncgLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXcgKiBieTtcbiAgb3V0WzJdID0gYXogKiBidyArIGF4ICogYnk7XG4gIG91dFszXSA9IGF3ICogYncgLSBheSAqIGJ5O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFogYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICByYWQgKj0gMC41O1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICB2YXIgYnogPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYncgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXkgKiBiejtcbiAgb3V0WzFdID0gYXkgKiBidyAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6O1xuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgVyBjb21wb25lbnQgb2YgYSBxdWF0IGZyb20gdGhlIFgsIFksIGFuZCBaIGNvbXBvbmVudHMuXG4gKiBBc3N1bWVzIHRoYXQgcXVhdGVybmlvbiBpcyAxIHVuaXQgaW4gbGVuZ3RoLlxuICogQW55IGV4aXN0aW5nIFcgY29tcG9uZW50IHdpbGwgYmUgaWdub3JlZC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIFcgY29tcG9uZW50IG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVcob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IE1hdGguc3FydChNYXRoLmFicygxLjAgLSB4ICogeCAtIHkgKiB5IC0geiAqIHopKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZiBhIHVuaXQgcXVhdGVybmlvbi5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHAob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl0sXG4gICAgICB3ID0gYVszXTtcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgdmFyIGV0ID0gTWF0aC5leHAodyk7XG4gIHZhciBzID0gciA+IDAgPyBldCAqIE1hdGguc2luKHIpIC8gciA6IDA7XG4gIG91dFswXSA9IHggKiBzO1xuICBvdXRbMV0gPSB5ICogcztcbiAgb3V0WzJdID0geiAqIHM7XG4gIG91dFszXSA9IGV0ICogTWF0aC5jb3Mocik7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYSB1bml0IHF1YXRlcm5pb24uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG4ob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl0sXG4gICAgICB3ID0gYVszXTtcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgdmFyIHQgPSByID4gMCA/IE1hdGguYXRhbjIociwgdykgLyByIDogMDtcbiAgb3V0WzBdID0geCAqIHQ7XG4gIG91dFsxXSA9IHkgKiB0O1xuICBvdXRbMl0gPSB6ICogdDtcbiAgb3V0WzNdID0gMC41ICogTWF0aC5sb2coeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNjYWxhciBwb3dlciBvZiBhIHVuaXQgcXVhdGVybmlvbi5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBxdWF0ZXJuaW9uIGJ5XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBvdyhvdXQsIGEsIGIpIHtcbiAgbG4ob3V0LCBhKTtcbiAgc2NhbGUob3V0LCBvdXQsIGIpO1xuICBleHAob3V0LCBvdXQpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0XG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNsZXJwKG91dCwgYSwgYiwgdCkge1xuICAvLyBiZW5jaG1hcmtzOlxuICAvLyAgICBodHRwOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXNsZXJwLWltcGxlbWVudGF0aW9uc1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgYncgPSBiWzNdO1xuICB2YXIgb21lZ2EsIGNvc29tLCBzaW5vbSwgc2NhbGUwLCBzY2FsZTE7IC8vIGNhbGMgY29zaW5lXG5cbiAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSlcblxuICBpZiAoY29zb20gPCAwLjApIHtcbiAgICBjb3NvbSA9IC1jb3NvbTtcbiAgICBieCA9IC1ieDtcbiAgICBieSA9IC1ieTtcbiAgICBieiA9IC1iejtcbiAgICBidyA9IC1idztcbiAgfSAvLyBjYWxjdWxhdGUgY29lZmZpY2llbnRzXG5cblxuICBpZiAoMS4wIC0gY29zb20gPiBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgLy8gc3RhbmRhcmQgY2FzZSAoc2xlcnApXG4gICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pO1xuICAgIHNpbm9tID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgIHNjYWxlMCA9IE1hdGguc2luKCgxLjAgLSB0KSAqIG9tZWdhKSAvIHNpbm9tO1xuICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTtcbiAgfSBlbHNlIHtcbiAgICAvLyBcImZyb21cIiBhbmQgXCJ0b1wiIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlXG4gICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvblxuICAgIHNjYWxlMCA9IDEuMCAtIHQ7XG4gICAgc2NhbGUxID0gdDtcbiAgfSAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzXG5cblxuICBvdXRbMF0gPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4O1xuICBvdXRbMV0gPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5O1xuICBvdXRbMl0gPSBzY2FsZTAgKiBheiArIHNjYWxlMSAqIGJ6O1xuICBvdXRbM10gPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdW5pdCBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQpIHtcbiAgLy8gSW1wbGVtZW50YXRpb24gb2YgaHR0cDovL3BsYW5uaW5nLmNzLnVpdWMuZWR1L25vZGUxOTguaHRtbFxuICAvLyBUT0RPOiBDYWxsaW5nIHJhbmRvbSAzIHRpbWVzIGlzIHByb2JhYmx5IG5vdCB0aGUgZmFzdGVzdCBzb2x1dGlvblxuICB2YXIgdTEgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdmFyIHUyID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHZhciB1MyA9IGdsTWF0cml4LlJBTkRPTSgpO1xuICB2YXIgc3FydDFNaW51c1UxID0gTWF0aC5zcXJ0KDEgLSB1MSk7XG4gIHZhciBzcXJ0VTEgPSBNYXRoLnNxcnQodTEpO1xuICBvdXRbMF0gPSBzcXJ0MU1pbnVzVTEgKiBNYXRoLnNpbigyLjAgKiBNYXRoLlBJICogdTIpO1xuICBvdXRbMV0gPSBzcXJ0MU1pbnVzVTEgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdTIpO1xuICBvdXRbMl0gPSBzcXJ0VTEgKiBNYXRoLnNpbigyLjAgKiBNYXRoLlBJICogdTMpO1xuICBvdXRbM10gPSBzcXJ0VTEgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdTMpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBpbnZlcnNlIG9mIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgaW52ZXJzZSBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBkb3QgPSBhMCAqIGEwICsgYTEgKiBhMSArIGEyICogYTIgKyBhMyAqIGEzO1xuICB2YXIgaW52RG90ID0gZG90ID8gMS4wIC8gZG90IDogMDsgLy8gVE9ETzogV291bGQgYmUgZmFzdGVyIHRvIHJldHVybiBbMCwwLDAsMF0gaW1tZWRpYXRlbHkgaWYgZG90ID09IDBcblxuICBvdXRbMF0gPSAtYTAgKiBpbnZEb3Q7XG4gIG91dFsxXSA9IC1hMSAqIGludkRvdDtcbiAgb3V0WzJdID0gLWEyICogaW52RG90O1xuICBvdXRbM10gPSBhMyAqIGludkRvdDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgY29uanVnYXRlIG9mIGEgcXVhdFxuICogSWYgdGhlIHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBmdW5jdGlvbiBpcyBmYXN0ZXIgdGhhbiBxdWF0LmludmVyc2UgYW5kIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGNvbmp1Z2F0ZSBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb25qdWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIDN4MyByb3RhdGlvbiBtYXRyaXguXG4gKlxuICogTk9URTogVGhlIHJlc3VsdGFudCBxdWF0ZXJuaW9uIGlzIG5vdCBub3JtYWxpemVkLCBzbyB5b3Ugc2hvdWxkIGJlIHN1cmVcbiAqIHRvIHJlbm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uIHlvdXJzZWxmIHdoZXJlIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHJvdGF0aW9uIG1hdHJpeFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQzKG91dCwgbSkge1xuICAvLyBBbGdvcml0aG0gaW4gS2VuIFNob2VtYWtlJ3MgYXJ0aWNsZSBpbiAxOTg3IFNJR0dSQVBIIGNvdXJzZSBub3Rlc1xuICAvLyBhcnRpY2xlIFwiUXVhdGVybmlvbiBDYWxjdWx1cyBhbmQgRmFzdCBBbmltYXRpb25cIi5cbiAgdmFyIGZUcmFjZSA9IG1bMF0gKyBtWzRdICsgbVs4XTtcbiAgdmFyIGZSb290O1xuXG4gIGlmIChmVHJhY2UgPiAwLjApIHtcbiAgICAvLyB8d3wgPiAxLzIsIG1heSBhcyB3ZWxsIGNob29zZSB3ID4gMS8yXG4gICAgZlJvb3QgPSBNYXRoLnNxcnQoZlRyYWNlICsgMS4wKTsgLy8gMndcblxuICAgIG91dFszXSA9IDAuNSAqIGZSb290O1xuICAgIGZSb290ID0gMC41IC8gZlJvb3Q7IC8vIDEvKDR3KVxuXG4gICAgb3V0WzBdID0gKG1bNV0gLSBtWzddKSAqIGZSb290O1xuICAgIG91dFsxXSA9IChtWzZdIC0gbVsyXSkgKiBmUm9vdDtcbiAgICBvdXRbMl0gPSAobVsxXSAtIG1bM10pICogZlJvb3Q7XG4gIH0gZWxzZSB7XG4gICAgLy8gfHd8IDw9IDEvMlxuICAgIHZhciBpID0gMDtcbiAgICBpZiAobVs0XSA+IG1bMF0pIGkgPSAxO1xuICAgIGlmIChtWzhdID4gbVtpICogMyArIGldKSBpID0gMjtcbiAgICB2YXIgaiA9IChpICsgMSkgJSAzO1xuICAgIHZhciBrID0gKGkgKyAyKSAlIDM7XG4gICAgZlJvb3QgPSBNYXRoLnNxcnQobVtpICogMyArIGldIC0gbVtqICogMyArIGpdIC0gbVtrICogMyArIGtdICsgMS4wKTtcbiAgICBvdXRbaV0gPSAwLjUgKiBmUm9vdDtcbiAgICBmUm9vdCA9IDAuNSAvIGZSb290O1xuICAgIG91dFszXSA9IChtW2ogKiAzICsga10gLSBtW2sgKiAzICsgal0pICogZlJvb3Q7XG4gICAgb3V0W2pdID0gKG1baiAqIDMgKyBpXSArIG1baSAqIDMgKyBqXSkgKiBmUm9vdDtcbiAgICBvdXRba10gPSAobVtrICogMyArIGldICsgbVtpICogMyArIGtdKSAqIGZSb290O1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gZXVsZXIgYW5nbGUgeCwgeSwgei5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7eH0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBYIGF4aXMgaW4gZGVncmVlcy5cbiAqIEBwYXJhbSB7eX0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBZIGF4aXMgaW4gZGVncmVlcy5cbiAqIEBwYXJhbSB7en0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBaIGF4aXMgaW4gZGVncmVlcy5cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXVsZXIob3V0LCB4LCB5LCB6KSB7XG4gIHZhciBoYWxmVG9SYWQgPSAwLjUgKiBNYXRoLlBJIC8gMTgwLjA7XG4gIHggKj0gaGFsZlRvUmFkO1xuICB5ICo9IGhhbGZUb1JhZDtcbiAgeiAqPSBoYWxmVG9SYWQ7XG4gIHZhciBzeCA9IE1hdGguc2luKHgpO1xuICB2YXIgY3ggPSBNYXRoLmNvcyh4KTtcbiAgdmFyIHN5ID0gTWF0aC5zaW4oeSk7XG4gIHZhciBjeSA9IE1hdGguY29zKHkpO1xuICB2YXIgc3ogPSBNYXRoLnNpbih6KTtcbiAgdmFyIGN6ID0gTWF0aC5jb3Moeik7XG4gIG91dFswXSA9IHN4ICogY3kgKiBjeiAtIGN4ICogc3kgKiBzejtcbiAgb3V0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xuICBvdXRbMl0gPSBjeCAqIGN5ICogc3ogLSBzeCAqIHN5ICogY3o7XG4gIG91dFszXSA9IGN4ICogY3kgKiBjeiArIHN4ICogc3kgKiBzejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHF1YXRlbmlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInF1YXQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIpXCI7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0ZXJuaW9uIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBjbG9uZSA9IHZlYzQuY2xvbmU7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZnJvbVZhbHVlcyA9IHZlYzQuZnJvbVZhbHVlcztcbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHF1YXQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIHNvdXJjZSBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGNvcHkgPSB2ZWM0LmNvcHk7XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHF1YXQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc2V0ID0gdmVjNC5zZXQ7XG4vKipcbiAqIEFkZHMgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBhZGQgPSB2ZWM0LmFkZDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Lm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogU2NhbGVzIGEgcXVhdCBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc2NhbGUgPSB2ZWM0LnNjYWxlO1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gcXVhdCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkb3QgPSB2ZWM0LmRvdDtcbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVycCA9IHZlYzQubGVycDtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCB2YXIgbGVuZ3RoID0gdmVjNC5sZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSBxdWF0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXVhcmVkTGVuZ3RoID0gdmVjNC5zcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogTm9ybWFsaXplIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdGVybmlvbiB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbm9ybWFsaXplID0gdmVjNC5ub3JtYWxpemU7XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHF1YXRlcm5pb25zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBUaGUgZmlyc3QgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgcXVhdGVybmlvbi5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCB2YXIgZXhhY3RFcXVhbHMgPSB2ZWM0LmV4YWN0RXF1YWxzO1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IHZhciBlcXVhbHMgPSB2ZWM0LmVxdWFscztcbi8qKlxuICogU2V0cyBhIHF1YXRlcm5pb24gdG8gcmVwcmVzZW50IHRoZSBzaG9ydGVzdCByb3RhdGlvbiBmcm9tIG9uZVxuICogdmVjdG9yIHRvIGFub3RoZXIuXG4gKlxuICogQm90aCB2ZWN0b3JzIGFyZSBhc3N1bWVkIHRvIGJlIHVuaXQgbGVuZ3RoLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBpbml0aWFsIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIGRlc3RpbmF0aW9uIHZlY3RvclxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCB2YXIgcm90YXRpb25UbyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRtcHZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xuICB2YXIgeFVuaXRWZWMzID0gdmVjMy5mcm9tVmFsdWVzKDEsIDAsIDApO1xuICB2YXIgeVVuaXRWZWMzID0gdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApO1xuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYikge1xuICAgIHZhciBkb3QgPSB2ZWMzLmRvdChhLCBiKTtcblxuICAgIGlmIChkb3QgPCAtMC45OTk5OTkpIHtcbiAgICAgIHZlYzMuY3Jvc3ModG1wdmVjMywgeFVuaXRWZWMzLCBhKTtcbiAgICAgIGlmICh2ZWMzLmxlbih0bXB2ZWMzKSA8IDAuMDAwMDAxKSB2ZWMzLmNyb3NzKHRtcHZlYzMsIHlVbml0VmVjMywgYSk7XG4gICAgICB2ZWMzLm5vcm1hbGl6ZSh0bXB2ZWMzLCB0bXB2ZWMzKTtcbiAgICAgIHNldEF4aXNBbmdsZShvdXQsIHRtcHZlYzMsIE1hdGguUEkpO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2UgaWYgKGRvdCA+IDAuOTk5OTk5KSB7XG4gICAgICBvdXRbMF0gPSAwO1xuICAgICAgb3V0WzFdID0gMDtcbiAgICAgIG91dFsyXSA9IDA7XG4gICAgICBvdXRbM10gPSAxO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmVjMy5jcm9zcyh0bXB2ZWMzLCBhLCBiKTtcbiAgICAgIG91dFswXSA9IHRtcHZlYzNbMF07XG4gICAgICBvdXRbMV0gPSB0bXB2ZWMzWzFdO1xuICAgICAgb3V0WzJdID0gdG1wdmVjM1syXTtcbiAgICAgIG91dFszXSA9IDEgKyBkb3Q7XG4gICAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgb3V0KTtcbiAgICB9XG4gIH07XG59KCk7XG4vKipcbiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYyB0aGUgdGhpcmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IHZhciBzcWxlcnAgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZW1wMSA9IGNyZWF0ZSgpO1xuICB2YXIgdGVtcDIgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgICBzbGVycCh0ZW1wMSwgYSwgZCwgdCk7XG4gICAgc2xlcnAodGVtcDIsIGIsIGMsIHQpO1xuICAgIHNsZXJwKG91dCwgdGVtcDEsIHRlbXAyLCAyICogdCAqICgxIC0gdCkpO1xuICAgIHJldHVybiBvdXQ7XG4gIH07XG59KCk7XG4vKipcbiAqIFNldHMgdGhlIHNwZWNpZmllZCBxdWF0ZXJuaW9uIHdpdGggdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuXG4gKiBheGVzLiBFYWNoIGF4aXMgaXMgYSB2ZWMzIGFuZCBpcyBleHBlY3RlZCB0byBiZSB1bml0IGxlbmd0aCBhbmRcbiAqIHBlcnBlbmRpY3VsYXIgdG8gYWxsIG90aGVyIHNwZWNpZmllZCBheGVzLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2aWV3ICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgdmlld2luZyBkaXJlY3Rpb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSByaWdodCB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgXCJyaWdodFwiIGRpcmVjdGlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwICAgIHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBsb2NhbCBcInVwXCIgZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IHZhciBzZXRBeGVzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbWF0ciA9IG1hdDMuY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCB2aWV3LCByaWdodCwgdXApIHtcbiAgICBtYXRyWzBdID0gcmlnaHRbMF07XG4gICAgbWF0clszXSA9IHJpZ2h0WzFdO1xuICAgIG1hdHJbNl0gPSByaWdodFsyXTtcbiAgICBtYXRyWzFdID0gdXBbMF07XG4gICAgbWF0cls0XSA9IHVwWzFdO1xuICAgIG1hdHJbN10gPSB1cFsyXTtcbiAgICBtYXRyWzJdID0gLXZpZXdbMF07XG4gICAgbWF0cls1XSA9IC12aWV3WzFdO1xuICAgIG1hdHJbOF0gPSAtdmlld1syXTtcbiAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgZnJvbU1hdDMob3V0LCBtYXRyKSk7XG4gIH07XG59KCk7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiAzIERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWMzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMzXG4gKlxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl07XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl07XG4gIG91dFswXSA9IGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBoZXJtaXRlIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoZXJtaXRlKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gIHZhciBmYWN0b3IxID0gZmFjdG9yVGltZXMyICogKDIgKiB0IC0gMykgKyAxO1xuICB2YXIgZmFjdG9yMiA9IGZhY3RvclRpbWVzMiAqICh0IC0gMikgKyB0O1xuICB2YXIgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogKDMgLSAyICogdCk7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0NC5cbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgdmFyIHcgPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XG4gIHcgPSB3IHx8IDEuMDtcbiAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XG4gIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgLyB3O1xuICBvdXRbMl0gPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdKSAvIHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXTtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTsgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XG4gIC8vIHZhciB1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIGEpO1xuXG4gIHZhciB1dnggPSBxeSAqIHogLSBxeiAqIHksXG4gICAgICB1dnkgPSBxeiAqIHggLSBxeCAqIHosXG4gICAgICB1dnogPSBxeCAqIHkgLSBxeSAqIHg7IC8vIHZhciB1dXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCB1dik7XG5cbiAgdmFyIHV1dnggPSBxeSAqIHV2eiAtIHF6ICogdXZ5LFxuICAgICAgdXV2eSA9IHF6ICogdXZ4IC0gcXggKiB1dnosXG4gICAgICB1dXZ6ID0gcXggKiB1dnkgLSBxeSAqIHV2eDsgLy8gdmVjMy5zY2FsZSh1diwgdXYsIDIgKiB3KTtcblxuICB2YXIgdzIgPSBxdyAqIDI7XG4gIHV2eCAqPSB3MjtcbiAgdXZ5ICo9IHcyO1xuICB1dnogKj0gdzI7IC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xuXG4gIHV1dnggKj0gMjtcbiAgdXV2eSAqPSAyO1xuICB1dXZ6ICo9IDI7IC8vIHJldHVybiB2ZWMzLmFkZChvdXQsIGEsIHZlYzMuYWRkKG91dCwgdXYsIHV1dikpO1xuXG4gIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xuICBvdXRbMV0gPSB5ICsgdXZ5ICsgdXV2eTtcbiAgb3V0WzJdID0geiArIHV2eiArIHV1dno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB5LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgclsxXSA9IHBbMV07XG4gIHJbMl0gPSBwWzJdICogTWF0aC5jb3MocmFkKSAtIHBbMF0gKiBNYXRoLnNpbihyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgei1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMF0gKiBNYXRoLmNvcyhyYWQpIC0gcFsxXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMV0gPSBwWzBdICogTWF0aC5zaW4ocmFkKSArIHBbMV0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzJdID0gcFsyXTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopLFxuICAgICAgbWFnMiA9IE1hdGguc3FydChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopLFxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXG4gICAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSAzO1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogNCBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjNFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjNFxuICpcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeiwgdykge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWM0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHosIHcpIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICBvdXRbM10gPSBhWzNdICogYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC8gYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLmNlaWwoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5mbG9vcihhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICBvdXRbM10gPSBNYXRoLm1pbihhWzNdLCBiWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICBvdXRbM10gPSBNYXRoLm1heChhWzNdLCBiWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLnJvdW5kKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWM0IGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzQncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHosIHcpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbn1cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IC1hWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIG91dFszXSA9IDEuMCAvIGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0geCAqIGxlbjtcbiAgb3V0WzFdID0geSAqIGxlbjtcbiAgb3V0WzJdID0geiAqIGxlbjtcbiAgb3V0WzNdID0gdyAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXSArIGFbM10gKiBiWzNdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHRocmVlIHZlY3RvcnMgaW4gYSA0LWRpbWVuc2lvbmFsIHNwYWNlXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IHJlc3VsdCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFUgdGhlIGZpcnN0IHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFYgdGhlIHNlY29uZCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBXIHRoZSB0aGlyZCB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSByZXN1bHRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCB1LCB2LCB3KSB7XG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcbiAgICAgIEIgPSB2WzBdICogd1syXSAtIHZbMl0gKiB3WzBdLFxuICAgICAgQyA9IHZbMF0gKiB3WzNdIC0gdlszXSAqIHdbMF0sXG4gICAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcbiAgICAgIEUgPSB2WzFdICogd1szXSAtIHZbM10gKiB3WzFdLFxuICAgICAgRiA9IHZbMl0gKiB3WzNdIC0gdlszXSAqIHdbMl07XG4gIHZhciBHID0gdVswXTtcbiAgdmFyIEggPSB1WzFdO1xuICB2YXIgSSA9IHVbMl07XG4gIHZhciBKID0gdVszXTtcbiAgb3V0WzBdID0gSCAqIEYgLSBJICogRSArIEogKiBEO1xuICBvdXRbMV0gPSAtKEcgKiBGKSArIEkgKiBDIC0gSiAqIEI7XG4gIG91dFsyXSA9IEcgKiBFIC0gSCAqIEMgKyBKICogQTtcbiAgb3V0WzNdID0gLShHICogRCkgKyBIICogQiAtIEkgKiBBO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF07XG4gIHZhciBheSA9IGFbMV07XG4gIHZhciBheiA9IGFbMl07XG4gIHZhciBhdyA9IGFbM107XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XG4gIG91dFszXSA9IGF3ICsgdCAqIChiWzNdIC0gYXcpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDsgLy8gTWFyc2FnbGlhLCBHZW9yZ2UuIENob29zaW5nIGEgUG9pbnQgZnJvbSB0aGUgU3VyZmFjZSBvZiBhXG4gIC8vIFNwaGVyZS4gQW5uLiBNYXRoLiBTdGF0aXN0LiA0MyAoMTk3MiksIG5vLiAyLCA2NDUtLTY0Ni5cbiAgLy8gaHR0cDovL3Byb2plY3RldWNsaWQub3JnL2V1Y2xpZC5hb21zLzExNzc2OTI2NDQ7XG5cbiAgdmFyIHYxLCB2MiwgdjMsIHY0O1xuICB2YXIgczEsIHMyO1xuXG4gIGRvIHtcbiAgICB2MSA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgdjIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHMxID0gdjEgKiB2MSArIHYyICogdjI7XG4gIH0gd2hpbGUgKHMxID49IDEpO1xuXG4gIGRvIHtcbiAgICB2MyA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgdjQgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHMyID0gdjMgKiB2MyArIHY0ICogdjQ7XG4gIH0gd2hpbGUgKHMyID49IDEpO1xuXG4gIHZhciBkID0gTWF0aC5zcXJ0KCgxIC0gczEpIC8gczIpO1xuICBvdXRbMF0gPSBzY2FsZSAqIHYxO1xuICBvdXRbMV0gPSBzY2FsZSAqIHYyO1xuICBvdXRbMl0gPSBzY2FsZSAqIHYzICogZDtcbiAgb3V0WzNdID0gc2NhbGUgKiB2NCAqIGQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIG1hdDQuXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXSxcbiAgICAgIHcgPSBhWzNdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSAqIHc7XG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdICogdztcbiAgb3V0WzJdID0gbVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdICogdztcbiAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdICogdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdOyAvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY1xuXG4gIHZhciBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcbiAgdmFyIGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuICB2YXIgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG4gIHZhciBpdyA9IC1xeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7IC8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXRcblxuICBvdXRbMF0gPSBpeCAqIHF3ICsgaXcgKiAtcXggKyBpeSAqIC1xeiAtIGl6ICogLXF5O1xuICBvdXRbMV0gPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6O1xuICBvdXRbMl0gPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWM0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWM0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWM0LiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjNHMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG5cbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gNDtcbiAgICB9XG5cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xuICAgICAgdmVjWzNdID0gYVtpICsgM107XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgICAgYVtpICsgM10gPSB2ZWNbM107XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuaW1wb3J0ICogYXMgcXVhdCBmcm9tIFwiLi9xdWF0LmpzXCI7XG5pbXBvcnQgKiBhcyBtYXQ0IGZyb20gXCIuL21hdDQuanNcIjtcbi8qKlxuICogRHVhbCBRdWF0ZXJuaW9uPGJyPlxuICogRm9ybWF0OiBbcmVhbCwgZHVhbF08YnI+XG4gKiBRdWF0ZXJuaW9uIGZvcm1hdDogWFlaVzxicj5cbiAqIE1ha2Ugc3VyZSB0byBoYXZlIG5vcm1hbGl6ZWQgZHVhbCBxdWF0ZXJuaW9ucywgb3RoZXJ3aXNlIHRoZSBmdW5jdGlvbnMgbWF5IG5vdCB3b3JrIGFzIGludGVuZGVkLjxicj5cbiAqIEBtb2R1bGUgcXVhdDJcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgZHVhbCBxdWF0XG4gKlxuICogQHJldHVybnMge3F1YXQyfSBhIG5ldyBkdWFsIHF1YXRlcm5pb24gW3JlYWwgLT4gcm90YXRpb24sIGR1YWwgLT4gdHJhbnNsYXRpb25dXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIGRxID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgZHFbMF0gPSAwO1xuICAgIGRxWzFdID0gMDtcbiAgICBkcVsyXSA9IDA7XG4gICAgZHFbNF0gPSAwO1xuICAgIGRxWzVdID0gMDtcbiAgICBkcVs2XSA9IDA7XG4gICAgZHFbN10gPSAwO1xuICB9XG5cbiAgZHFbM10gPSAxO1xuICByZXR1cm4gZHE7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0ZXJuaW9uIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG5ldyBkdWFsIHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xuICBkcVswXSA9IGFbMF07XG4gIGRxWzFdID0gYVsxXTtcbiAgZHFbMl0gPSBhWzJdO1xuICBkcVszXSA9IGFbM107XG4gIGRxWzRdID0gYVs0XTtcbiAgZHFbNV0gPSBhWzVdO1xuICBkcVs2XSA9IGFbNl07XG4gIGRxWzddID0gYVs3XTtcbiAgcmV0dXJuIGRxO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGR1YWwgcXVhdCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geDEgWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdzEgVyBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MiBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkyIFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gejIgWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MiBXIGNvbXBvbmVudFxuICogQHJldHVybnMge3F1YXQyfSBuZXcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4MSwgeTEsIHoxLCB3MSwgeDIsIHkyLCB6MiwgdzIpIHtcbiAgdmFyIGRxID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7XG4gIGRxWzBdID0geDE7XG4gIGRxWzFdID0geTE7XG4gIGRxWzJdID0gejE7XG4gIGRxWzNdID0gdzE7XG4gIGRxWzRdID0geDI7XG4gIGRxWzVdID0geTI7XG4gIGRxWzZdID0gejI7XG4gIGRxWzddID0gdzI7XG4gIHJldHVybiBkcTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgZnJvbSB0aGUgZ2l2ZW4gdmFsdWVzIChxdWF0IGFuZCB0cmFuc2xhdGlvbilcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geDEgWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdzEgVyBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MiBYIGNvbXBvbmVudCAodHJhbnNsYXRpb24pXG4gKiBAcGFyYW0ge051bWJlcn0geTIgWSBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxuICogQHBhcmFtIHtOdW1iZXJ9IHoyIFogY29tcG9uZW50ICh0cmFuc2xhdGlvbilcbiAqIEByZXR1cm5zIHtxdWF0Mn0gbmV3IGR1YWwgcXVhdGVybmlvblxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uVmFsdWVzKHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyKSB7XG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xuICBkcVswXSA9IHgxO1xuICBkcVsxXSA9IHkxO1xuICBkcVsyXSA9IHoxO1xuICBkcVszXSA9IHcxO1xuICB2YXIgYXggPSB4MiAqIDAuNSxcbiAgICAgIGF5ID0geTIgKiAwLjUsXG4gICAgICBheiA9IHoyICogMC41O1xuICBkcVs0XSA9IGF4ICogdzEgKyBheSAqIHoxIC0gYXogKiB5MTtcbiAgZHFbNV0gPSBheSAqIHcxICsgYXogKiB4MSAtIGF4ICogejE7XG4gIGRxWzZdID0gYXogKiB3MSArIGF4ICogeTEgLSBheSAqIHgxO1xuICBkcVs3XSA9IC1heCAqIHgxIC0gYXkgKiB5MSAtIGF6ICogejE7XG4gIHJldHVybiBkcTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgcXVhdGVybmlvbiBhbmQgYSB0cmFuc2xhdGlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBhIG5vcm1hbGl6ZWQgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHQgdHJhbmxhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB0KSB7XG4gIHZhciBheCA9IHRbMF0gKiAwLjUsXG4gICAgICBheSA9IHRbMV0gKiAwLjUsXG4gICAgICBheiA9IHRbMl0gKiAwLjUsXG4gICAgICBieCA9IHFbMF0sXG4gICAgICBieSA9IHFbMV0sXG4gICAgICBieiA9IHFbMl0sXG4gICAgICBidyA9IHFbM107XG4gIG91dFswXSA9IGJ4O1xuICBvdXRbMV0gPSBieTtcbiAgb3V0WzJdID0gYno7XG4gIG91dFszXSA9IGJ3O1xuICBvdXRbNF0gPSBheCAqIGJ3ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFs1XSA9IGF5ICogYncgKyBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzZdID0gYXogKiBidyArIGF4ICogYnkgLSBheSAqIGJ4O1xuICBvdXRbN10gPSAtYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgZHVhbCBxdWF0IGZyb20gYSB0cmFuc2xhdGlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdCB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdCkge1xuICBvdXRbMF0gPSAwO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAxO1xuICBvdXRbNF0gPSB0WzBdICogMC41O1xuICBvdXRbNV0gPSB0WzFdICogMC41O1xuICBvdXRbNl0gPSB0WzJdICogMC41O1xuICBvdXRbN10gPSAwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgZHVhbCBxdWF0IGZyb20gYSBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHRoZSBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHEpIHtcbiAgb3V0WzBdID0gcVswXTtcbiAgb3V0WzFdID0gcVsxXTtcbiAgb3V0WzJdID0gcVsyXTtcbiAgb3V0WzNdID0gcVszXTtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgZnJvbSBhIG1hdHJpeCAoNHg0KVxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4XG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQ0KG91dCwgYSkge1xuICAvL1RPRE8gT3B0aW1pemUgdGhpc1xuICB2YXIgb3V0ZXIgPSBxdWF0LmNyZWF0ZSgpO1xuICBtYXQ0LmdldFJvdGF0aW9uKG91dGVyLCBhKTtcbiAgdmFyIHQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgbWF0NC5nZXRUcmFuc2xhdGlvbih0LCBhKTtcbiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBvdXRlciwgdCk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBkdWFsIHF1YXQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBzb3VyY2UgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCBhIGR1YWwgcXVhdCB0byB0aGUgaWRlbnRpdHkgZHVhbCBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDA7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDE7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHgxIFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MSBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcxIFcgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MiBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHoyIFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdzIgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeDEsIHkxLCB6MSwgdzEsIHgyLCB5MiwgejIsIHcyKSB7XG4gIG91dFswXSA9IHgxO1xuICBvdXRbMV0gPSB5MTtcbiAgb3V0WzJdID0gejE7XG4gIG91dFszXSA9IHcxO1xuICBvdXRbNF0gPSB4MjtcbiAgb3V0WzVdID0geTI7XG4gIG91dFs2XSA9IHoyO1xuICBvdXRbN10gPSB3MjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0cyB0aGUgcmVhbCBwYXJ0IG9mIGEgZHVhbCBxdWF0XG4gKiBAcGFyYW0gIHtxdWF0fSBvdXQgcmVhbCBwYXJ0XG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxuICogQHJldHVybiB7cXVhdH0gcmVhbCBwYXJ0XG4gKi9cblxuZXhwb3J0IHZhciBnZXRSZWFsID0gcXVhdC5jb3B5O1xuLyoqXG4gKiBHZXRzIHRoZSBkdWFsIHBhcnQgb2YgYSBkdWFsIHF1YXRcbiAqIEBwYXJhbSAge3F1YXR9IG91dCBkdWFsIHBhcnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXG4gKiBAcmV0dXJuIHtxdWF0fSBkdWFsIHBhcnRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHVhbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVs0XTtcbiAgb3V0WzFdID0gYVs1XTtcbiAgb3V0WzJdID0gYVs2XTtcbiAgb3V0WzNdID0gYVs3XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSByZWFsIGNvbXBvbmVudCBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJlYWwgcGFydFxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc2V0UmVhbCA9IHF1YXQuY29weTtcbi8qKlxuICogU2V0IHRoZSBkdWFsIGNvbXBvbmVudCBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIGR1YWwgcGFydFxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXREdWFsKG91dCwgcSkge1xuICBvdXRbNF0gPSBxWzBdO1xuICBvdXRbNV0gPSBxWzFdO1xuICBvdXRbNl0gPSBxWzJdO1xuICBvdXRbN10gPSBxWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZXRzIHRoZSB0cmFuc2xhdGlvbiBvZiBhIG5vcm1hbGl6ZWQgZHVhbCBxdWF0XG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgdHJhbnNsYXRpb25cbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uIHRvIGJlIGRlY29tcG9zZWRcbiAqIEByZXR1cm4ge3ZlYzN9IHRyYW5zbGF0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgYSkge1xuICB2YXIgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddLFxuICAgICAgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdO1xuICBvdXRbMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICBvdXRbMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xuICBvdXRbMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGVzIGEgZHVhbCBxdWF0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgYXgxID0gYVswXSxcbiAgICAgIGF5MSA9IGFbMV0sXG4gICAgICBhejEgPSBhWzJdLFxuICAgICAgYXcxID0gYVszXSxcbiAgICAgIGJ4MSA9IHZbMF0gKiAwLjUsXG4gICAgICBieTEgPSB2WzFdICogMC41LFxuICAgICAgYnoxID0gdlsyXSAqIDAuNSxcbiAgICAgIGF4MiA9IGFbNF0sXG4gICAgICBheTIgPSBhWzVdLFxuICAgICAgYXoyID0gYVs2XSxcbiAgICAgIGF3MiA9IGFbN107XG4gIG91dFswXSA9IGF4MTtcbiAgb3V0WzFdID0gYXkxO1xuICBvdXRbMl0gPSBhejE7XG4gIG91dFszXSA9IGF3MTtcbiAgb3V0WzRdID0gYXcxICogYngxICsgYXkxICogYnoxIC0gYXoxICogYnkxICsgYXgyO1xuICBvdXRbNV0gPSBhdzEgKiBieTEgKyBhejEgKiBieDEgLSBheDEgKiBiejEgKyBheTI7XG4gIG91dFs2XSA9IGF3MSAqIGJ6MSArIGF4MSAqIGJ5MSAtIGF5MSAqIGJ4MSArIGF6MjtcbiAgb3V0WzddID0gLWF4MSAqIGJ4MSAtIGF5MSAqIGJ5MSAtIGF6MSAqIGJ6MSArIGF3MjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgdGhlIFggYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGhvdyBmYXIgc2hvdWxkIHRoZSByb3RhdGlvbiBiZVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdLFxuICAgICAgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddLFxuICAgICAgYXgxID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSxcbiAgICAgIGF5MSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnosXG4gICAgICBhejEgPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4LFxuICAgICAgYXcxID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcXVhdC5yb3RhdGVYKG91dCwgYSwgcmFkKTtcbiAgYnggPSBvdXRbMF07XG4gIGJ5ID0gb3V0WzFdO1xuICBieiA9IG91dFsyXTtcbiAgYncgPSBvdXRbM107XG4gIG91dFs0XSA9IGF4MSAqIGJ3ICsgYXcxICogYnggKyBheTEgKiBieiAtIGF6MSAqIGJ5O1xuICBvdXRbNV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcbiAgb3V0WzZdID0gYXoxICogYncgKyBhdzEgKiBieiArIGF4MSAqIGJ5IC0gYXkxICogYng7XG4gIG91dFs3XSA9IGF3MSAqIGJ3IC0gYXgxICogYnggLSBheTEgKiBieSAtIGF6MSAqIGJ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCB0aGUgWSBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgaG93IGZhciBzaG91bGQgdGhlIHJvdGF0aW9uIGJlXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHZhciBieCA9IC1hWzBdLFxuICAgICAgYnkgPSAtYVsxXSxcbiAgICAgIGJ6ID0gLWFbMl0sXG4gICAgICBidyA9IGFbM10sXG4gICAgICBheCA9IGFbNF0sXG4gICAgICBheSA9IGFbNV0sXG4gICAgICBheiA9IGFbNl0sXG4gICAgICBhdyA9IGFbN10sXG4gICAgICBheDEgPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5LFxuICAgICAgYXkxID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieixcbiAgICAgIGF6MSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngsXG4gICAgICBhdzEgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xuICBxdWF0LnJvdGF0ZVkob3V0LCBhLCByYWQpO1xuICBieCA9IG91dFswXTtcbiAgYnkgPSBvdXRbMV07XG4gIGJ6ID0gb3V0WzJdO1xuICBidyA9IG91dFszXTtcbiAgb3V0WzRdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XG4gIG91dFs1XSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xuICBvdXRbNl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcbiAgb3V0WzddID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIHRoZSBaIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBob3cgZmFyIHNob3VsZCB0aGUgcm90YXRpb24gYmVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XSxcbiAgICAgIGF4MSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnksXG4gICAgICBheTEgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6LFxuICAgICAgYXoxID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCxcbiAgICAgIGF3MSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHF1YXQucm90YXRlWihvdXQsIGEsIHJhZCk7XG4gIGJ4ID0gb3V0WzBdO1xuICBieSA9IG91dFsxXTtcbiAgYnogPSBvdXRbMl07XG4gIGJ3ID0gb3V0WzNdO1xuICBvdXRbNF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcbiAgb3V0WzVdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XG4gIG91dFs2XSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xuICBvdXRbN10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBieSBhIGdpdmVuIHF1YXRlcm5pb24gKGEgKiBxKVxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQnlRdWF0QXBwZW5kKG91dCwgYSwgcSkge1xuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdLFxuICAgICAgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICBvdXRbMF0gPSBheCAqIHF3ICsgYXcgKiBxeCArIGF5ICogcXogLSBheiAqIHF5O1xuICBvdXRbMV0gPSBheSAqIHF3ICsgYXcgKiBxeSArIGF6ICogcXggLSBheCAqIHF6O1xuICBvdXRbMl0gPSBheiAqIHF3ICsgYXcgKiBxeiArIGF4ICogcXkgLSBheSAqIHF4O1xuICBvdXRbM10gPSBhdyAqIHF3IC0gYXggKiBxeCAtIGF5ICogcXkgLSBheiAqIHF6O1xuICBheCA9IGFbNF07XG4gIGF5ID0gYVs1XTtcbiAgYXogPSBhWzZdO1xuICBhdyA9IGFbN107XG4gIG91dFs0XSA9IGF4ICogcXcgKyBhdyAqIHF4ICsgYXkgKiBxeiAtIGF6ICogcXk7XG4gIG91dFs1XSA9IGF5ICogcXcgKyBhdyAqIHF5ICsgYXogKiBxeCAtIGF4ICogcXo7XG4gIG91dFs2XSA9IGF6ICogcXcgKyBhdyAqIHF6ICsgYXggKiBxeSAtIGF5ICogcXg7XG4gIG91dFs3XSA9IGF3ICogcXcgLSBheCAqIHF4IC0gYXkgKiBxeSAtIGF6ICogcXo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYnkgYSBnaXZlbiBxdWF0ZXJuaW9uIChxICogYSlcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gcm90YXRlIGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUJ5UXVhdFByZXBlbmQob3V0LCBxLCBhKSB7XG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM10sXG4gICAgICBieCA9IGFbMF0sXG4gICAgICBieSA9IGFbMV0sXG4gICAgICBieiA9IGFbMl0sXG4gICAgICBidyA9IGFbM107XG4gIG91dFswXSA9IHF4ICogYncgKyBxdyAqIGJ4ICsgcXkgKiBieiAtIHF6ICogYnk7XG4gIG91dFsxXSA9IHF5ICogYncgKyBxdyAqIGJ5ICsgcXogKiBieCAtIHF4ICogYno7XG4gIG91dFsyXSA9IHF6ICogYncgKyBxdyAqIGJ6ICsgcXggKiBieSAtIHF5ICogYng7XG4gIG91dFszXSA9IHF3ICogYncgLSBxeCAqIGJ4IC0gcXkgKiBieSAtIHF6ICogYno7XG4gIGJ4ID0gYVs0XTtcbiAgYnkgPSBhWzVdO1xuICBieiA9IGFbNl07XG4gIGJ3ID0gYVs3XTtcbiAgb3V0WzRdID0gcXggKiBidyArIHF3ICogYnggKyBxeSAqIGJ6IC0gcXogKiBieTtcbiAgb3V0WzVdID0gcXkgKiBidyArIHF3ICogYnkgKyBxeiAqIGJ4IC0gcXggKiBiejtcbiAgb3V0WzZdID0gcXogKiBidyArIHF3ICogYnogKyBxeCAqIGJ5IC0gcXkgKiBieDtcbiAgb3V0WzddID0gcXcgKiBidyAtIHF4ICogYnggLSBxeSAqIGJ5IC0gcXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgYSBnaXZlbiBheGlzLiBEb2VzIHRoZSBub3JtYWxpc2F0aW9uIGF1dG9tYXRpY2FsbHlcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBob3cgZmFyIHRoZSByb3RhdGlvbiBzaG91bGQgYmVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUFyb3VuZEF4aXMob3V0LCBhLCBheGlzLCByYWQpIHtcbiAgLy9TcGVjaWFsIGNhc2UgZm9yIHJhZCA9IDBcbiAgaWYgKE1hdGguYWJzKHJhZCkgPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIGNvcHkob3V0LCBhKTtcbiAgfVxuXG4gIHZhciBheGlzTGVuZ3RoID0gTWF0aC5oeXBvdChheGlzWzBdLCBheGlzWzFdLCBheGlzWzJdKTtcbiAgcmFkID0gcmFkICogMC41O1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBieCA9IHMgKiBheGlzWzBdIC8gYXhpc0xlbmd0aDtcbiAgdmFyIGJ5ID0gcyAqIGF4aXNbMV0gLyBheGlzTGVuZ3RoO1xuICB2YXIgYnogPSBzICogYXhpc1syXSAvIGF4aXNMZW5ndGg7XG4gIHZhciBidyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBheDEgPSBhWzBdLFxuICAgICAgYXkxID0gYVsxXSxcbiAgICAgIGF6MSA9IGFbMl0sXG4gICAgICBhdzEgPSBhWzNdO1xuICBvdXRbMF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcbiAgb3V0WzFdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XG4gIG91dFsyXSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xuICBvdXRbM10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcbiAgdmFyIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgb3V0WzRdID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzVdID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzZdID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDtcbiAgb3V0WzddID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gZHVhbCBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gZHVhbCBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBheDAgPSBhWzBdLFxuICAgICAgYXkwID0gYVsxXSxcbiAgICAgIGF6MCA9IGFbMl0sXG4gICAgICBhdzAgPSBhWzNdLFxuICAgICAgYngxID0gYls0XSxcbiAgICAgIGJ5MSA9IGJbNV0sXG4gICAgICBiejEgPSBiWzZdLFxuICAgICAgYncxID0gYls3XSxcbiAgICAgIGF4MSA9IGFbNF0sXG4gICAgICBheTEgPSBhWzVdLFxuICAgICAgYXoxID0gYVs2XSxcbiAgICAgIGF3MSA9IGFbN10sXG4gICAgICBieDAgPSBiWzBdLFxuICAgICAgYnkwID0gYlsxXSxcbiAgICAgIGJ6MCA9IGJbMl0sXG4gICAgICBidzAgPSBiWzNdO1xuICBvdXRbMF0gPSBheDAgKiBidzAgKyBhdzAgKiBieDAgKyBheTAgKiBiejAgLSBhejAgKiBieTA7XG4gIG91dFsxXSA9IGF5MCAqIGJ3MCArIGF3MCAqIGJ5MCArIGF6MCAqIGJ4MCAtIGF4MCAqIGJ6MDtcbiAgb3V0WzJdID0gYXowICogYncwICsgYXcwICogYnowICsgYXgwICogYnkwIC0gYXkwICogYngwO1xuICBvdXRbM10gPSBhdzAgKiBidzAgLSBheDAgKiBieDAgLSBheTAgKiBieTAgLSBhejAgKiBiejA7XG4gIG91dFs0XSA9IGF4MCAqIGJ3MSArIGF3MCAqIGJ4MSArIGF5MCAqIGJ6MSAtIGF6MCAqIGJ5MSArIGF4MSAqIGJ3MCArIGF3MSAqIGJ4MCArIGF5MSAqIGJ6MCAtIGF6MSAqIGJ5MDtcbiAgb3V0WzVdID0gYXkwICogYncxICsgYXcwICogYnkxICsgYXowICogYngxIC0gYXgwICogYnoxICsgYXkxICogYncwICsgYXcxICogYnkwICsgYXoxICogYngwIC0gYXgxICogYnowO1xuICBvdXRbNl0gPSBhejAgKiBidzEgKyBhdzAgKiBiejEgKyBheDAgKiBieTEgLSBheTAgKiBieDEgKyBhejEgKiBidzAgKyBhdzEgKiBiejAgKyBheDEgKiBieTAgLSBheTEgKiBieDA7XG4gIG91dFs3XSA9IGF3MCAqIGJ3MSAtIGF4MCAqIGJ4MSAtIGF5MCAqIGJ5MSAtIGF6MCAqIGJ6MSArIGF3MSAqIGJ3MCAtIGF4MSAqIGJ4MCAtIGF5MSAqIGJ5MCAtIGF6MSAqIGJ6MDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIFNjYWxlcyBhIGR1YWwgcXVhdCBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIGR1YWwgcXVhdCBieVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIG91dFs0XSA9IGFbNF0gKiBiO1xuICBvdXRbNV0gPSBhWzVdICogYjtcbiAgb3V0WzZdID0gYVs2XSAqIGI7XG4gIG91dFs3XSA9IGFbN10gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gZHVhbCBxdWF0J3MgKFRoZSBkb3QgcHJvZHVjdCBvZiB0aGUgcmVhbCBwYXJ0cylcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZG90ID0gcXVhdC5kb3Q7XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gZHVhbCBxdWF0cydzXG4gKiBOT1RFOiBUaGUgcmVzdWx0aW5nIGR1YWwgcXVhdGVybmlvbnMgd29uJ3QgYWx3YXlzIGJlIG5vcm1hbGl6ZWQgKFRoZSBlcnJvciBpcyBtb3N0IG5vdGljZWFibGUgd2hlbiB0ID0gMC41KVxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgbXQgPSAxIC0gdDtcbiAgaWYgKGRvdChhLCBiKSA8IDApIHQgPSAtdDtcbiAgb3V0WzBdID0gYVswXSAqIG10ICsgYlswXSAqIHQ7XG4gIG91dFsxXSA9IGFbMV0gKiBtdCArIGJbMV0gKiB0O1xuICBvdXRbMl0gPSBhWzJdICogbXQgKyBiWzJdICogdDtcbiAgb3V0WzNdID0gYVszXSAqIG10ICsgYlszXSAqIHQ7XG4gIG91dFs0XSA9IGFbNF0gKiBtdCArIGJbNF0gKiB0O1xuICBvdXRbNV0gPSBhWzVdICogbXQgKyBiWzVdICogdDtcbiAgb3V0WzZdID0gYVs2XSAqIG10ICsgYls2XSAqIHQ7XG4gIG91dFs3XSA9IGFbN10gKiBtdCArIGJbN10gKiB0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBpbnZlcnNlIG9mIGEgZHVhbCBxdWF0LiBJZiB0aGV5IGFyZSBub3JtYWxpemVkLCBjb25qdWdhdGUgaXMgY2hlYXBlclxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdCB0byBjYWxjdWxhdGUgaW52ZXJzZSBvZlxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgc3FsZW4gPSBzcXVhcmVkTGVuZ3RoKGEpO1xuICBvdXRbMF0gPSAtYVswXSAvIHNxbGVuO1xuICBvdXRbMV0gPSAtYVsxXSAvIHNxbGVuO1xuICBvdXRbMl0gPSAtYVsyXSAvIHNxbGVuO1xuICBvdXRbM10gPSBhWzNdIC8gc3FsZW47XG4gIG91dFs0XSA9IC1hWzRdIC8gc3FsZW47XG4gIG91dFs1XSA9IC1hWzVdIC8gc3FsZW47XG4gIG91dFs2XSA9IC1hWzZdIC8gc3FsZW47XG4gIG91dFs3XSA9IGFbN10gLyBzcWxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgY29uanVnYXRlIG9mIGEgZHVhbCBxdWF0XG4gKiBJZiB0aGUgZHVhbCBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgZnVuY3Rpb24gaXMgZmFzdGVyIHRoYW4gcXVhdDIuaW52ZXJzZSBhbmQgcHJvZHVjZXMgdGhlIHNhbWUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBjb25qdWdhdGUgb2ZcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmp1Z2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gLWFbNF07XG4gIG91dFs1XSA9IC1hWzVdO1xuICBvdXRbNl0gPSAtYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgZHVhbCBxdWF0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdCB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW5ndGggPSBxdWF0Lmxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSBkdWFsIHF1YXRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0IHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXVhcmVkTGVuZ3RoID0gcXVhdC5zcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQyLnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIE5vcm1hbGl6ZSBhIGR1YWwgcXVhdFxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdGVybmlvbiB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgbWFnbml0dWRlID0gc3F1YXJlZExlbmd0aChhKTtcblxuICBpZiAobWFnbml0dWRlID4gMCkge1xuICAgIG1hZ25pdHVkZSA9IE1hdGguc3FydChtYWduaXR1ZGUpO1xuICAgIHZhciBhMCA9IGFbMF0gLyBtYWduaXR1ZGU7XG4gICAgdmFyIGExID0gYVsxXSAvIG1hZ25pdHVkZTtcbiAgICB2YXIgYTIgPSBhWzJdIC8gbWFnbml0dWRlO1xuICAgIHZhciBhMyA9IGFbM10gLyBtYWduaXR1ZGU7XG4gICAgdmFyIGIwID0gYVs0XTtcbiAgICB2YXIgYjEgPSBhWzVdO1xuICAgIHZhciBiMiA9IGFbNl07XG4gICAgdmFyIGIzID0gYVs3XTtcbiAgICB2YXIgYV9kb3RfYiA9IGEwICogYjAgKyBhMSAqIGIxICsgYTIgKiBiMiArIGEzICogYjM7XG4gICAgb3V0WzBdID0gYTA7XG4gICAgb3V0WzFdID0gYTE7XG4gICAgb3V0WzJdID0gYTI7XG4gICAgb3V0WzNdID0gYTM7XG4gICAgb3V0WzRdID0gKGIwIC0gYTAgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcbiAgICBvdXRbNV0gPSAoYjEgLSBhMSAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xuICAgIG91dFs2XSA9IChiMiAtIGEyICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XG4gICAgb3V0WzddID0gKGIzIC0gYTMgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBkdWFsIHF1YXRlbmlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXRlcm5pb24gdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGR1YWwgcXVhdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJxdWF0MihcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGR1YWwgcXVhdGVybmlvbnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3QgZHVhbCBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgZHVhbCBxdWF0ZXJuaW9uLlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGR1YWwgcXVhdGVybmlvbnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZHVhbCBxdWF0ZXJuaW9ucyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBkdWFsIHF1YXQuXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBkdWFsIHF1YXQuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgZHVhbCBxdWF0cyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXSxcbiAgICAgIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXSxcbiAgICAgIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSk7XG59IiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbXBvbmVudCwgRW1pdHRlciB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCB9IGZyb20gJy4vdXRpbHMvd2VieHIuanMnO1xuLyoqXG4gKiBTZXRzIHVwIGEgW1dlYlhSIERldmljZSBBUEkgXCJIaXQgVGVzdFwiXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL2hpdC10ZXN0LylcbiAqIGFuZCBwbGFjZXMgdGhlIG9iamVjdCB0byB0aGUgaGl0IGxvY2F0aW9uLlxuICpcbiAqICoqUmVxdWlyZW1lbnRzOioqXG4gKiAgLSBTcGVjaWZ5IGAnaGl0LXRlc3QnYCBpbiB0aGUgcmVxdWlyZWQgb3Igb3B0aW9uYWwgZmVhdHVyZXMgb24gdGhlIEFSIGJ1dHRvbiBpbiB5b3VyIGh0bWwgZmlsZS5cbiAqICAgIFNlZSBbV2FzdGVwYXBlcmJpbiBBUl0oL3Nob3djYXNlL3dwYi1hcikgYXMgYW4gZXhhbXBsZS5cbiAqL1xuY2xhc3MgSGl0VGVzdExvY2F0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaGl0LXRlc3QtbG9jYXRpb24nO1xuICAgIHRlbXBTY2FsaW5nID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgeHJIaXRUZXN0U291cmNlID0gbnVsbDtcbiAgICAvKiogUmVmZXJlbmNlIHNwYWNlIGZvciBjcmVhdGluZyB0aGUgaGl0IHRlc3Qgd2hlbiB0aGUgc2Vzc2lvbiBzdGFydHMgKi9cbiAgICB4clJlZmVyZW5jZVNwYWNlID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBGb3IgbWFpbnRhaW5pbmcgYmFja3dhcmRzIGNvbXBhdGliaWxpdHk6IFdoZXRoZXIgdG8gc2NhbGUgdGhlIG9iamVjdCB0byAwIGFuZCBiYWNrLlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBvbkhpdExvc3QgYW5kIG9uSGl0Rm91bmQgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBzY2FsZU9iamVjdCA9IHRydWU7XG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhlIGhpdCB0ZXN0IHN3aXRjaGVzIGZyb20gdmlzaWJsZSB0byBpbnZpc2libGUgKi9cbiAgICBvbkhpdExvc3QgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBoaXQgdGVzdCBzd2l0Y2hlcyBmcm9tIGludmlzaWJsZSB0byB2aXNpYmxlICovXG4gICAgb25IaXRGb3VuZCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgb25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IG51bGw7XG4gICAgb25TZXNzaW9uRW5kQ2FsbGJhY2sgPSBudWxsO1xuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uU3RhcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25FbmQuYmluZCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGVPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMudGVtcFNjYWxpbmcuc2V0KHRoaXMub2JqZWN0LnNjYWxpbmdMb2NhbCk7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5zY2FsZShbMCwgMCwgMF0pO1xuICAgICAgICAgICAgdGhpcy5vbkhpdExvc3QuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBTY2FsaW5nLnNldCh0aGlzLm9iamVjdC5zY2FsaW5nTG9jYWwpO1xuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNjYWxlKFswLCAwLCAwXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub25IaXRGb3VuZC5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNjYWxpbmdMb2NhbC5zZXQodGhpcy50ZW1wU2NhbGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3Quc2V0RGlydHkoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLmFkZCh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcbiAgICB9XG4gICAgb25EZWFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5yZW1vdmUodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgY29uc3Qgd2FzVmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcbiAgICAgICAgaWYgKHRoaXMueHJIaXRUZXN0U291cmNlKSB7XG4gICAgICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuZW5naW5lLnhyRnJhbWU7XG4gICAgICAgICAgICBpZiAoIWZyYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBoaXRUZXN0UmVzdWx0cyA9IGZyYW1lLmdldEhpdFRlc3RSZXN1bHRzKHRoaXMueHJIaXRUZXN0U291cmNlKTtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0UmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBvc2UgPSBoaXRUZXN0UmVzdWx0c1swXS5nZXRQb3NlKHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gISFwb3NlO1xuICAgICAgICAgICAgICAgIGlmIChwb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdCwgcG9zZS50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIEVtaXQgZXZlbnRzIGZvciB2aXNpYmxlIHN0YXRlIGNoYW5nZSAqL1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlICE9IHdhc1Zpc2libGUpIHtcbiAgICAgICAgICAgICh0aGlzLnZpc2libGUgPyB0aGlzLm9uSGl0Rm91bmQgOiB0aGlzLm9uSGl0TG9zdCkubm90aWZ5KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEhpdFRlc3RSZXN1bHRzKGZyYW1lID0gdGhpcy5lbmdpbmUueHI/LmZyYW1lID8/IG51bGwpIHtcbiAgICAgICAgaWYgKCFmcmFtZSlcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgLyogTWF5IGhhcHBlbiBpZiB0aGUgaGl0IHRlc3Qgc291cmNlIGNvdWxkbid0IGJlIGNyZWF0ZWQgKi9cbiAgICAgICAgaWYgKCF0aGlzLnhySGl0VGVzdFNvdXJjZSlcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgcmV0dXJuIGZyYW1lLmdldEhpdFRlc3RSZXN1bHRzKHRoaXMueHJIaXRUZXN0U291cmNlKTtcbiAgICB9XG4gICAgb25YUlNlc3Npb25TdGFydChzZXNzaW9uKSB7XG4gICAgICAgIGlmIChzZXNzaW9uLnJlcXVlc3RIaXRUZXN0U291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2hpdC10ZXN0LWxvY2F0aW9uOiBoaXQgdGVzdCBmZWF0dXJlIG5vdCBhdmFpbGFibGUuIERlYWN0aXZhdGluZyBjb21wb25lbnQuJyk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlc3Npb25cbiAgICAgICAgICAgIC5yZXF1ZXN0SGl0VGVzdFNvdXJjZSh7XG4gICAgICAgICAgICBzcGFjZTogdGhpcy54clJlZmVyZW5jZVNwYWNlID8/XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIucmVmZXJlbmNlU3BhY2VGb3JUeXBlKCd2aWV3ZXInKSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChoaXRUZXN0U291cmNlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnhySGl0VGVzdFNvdXJjZSA9IGhpdFRlc3RTb3VyY2U7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfVxuICAgIG9uWFJTZXNzaW9uRW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMueHJIaXRUZXN0U291cmNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnhySGl0VGVzdFNvdXJjZS5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy54ckhpdFRlc3RTb3VyY2UgPSBudWxsO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmJvb2wodHJ1ZSlcbl0sIEhpdFRlc3RMb2NhdGlvbi5wcm90b3R5cGUsIFwic2NhbGVPYmplY3RcIiwgdm9pZCAwKTtcbmV4cG9ydCB7IEhpdFRlc3RMb2NhdGlvbiB9O1xuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbXBvbmVudCwgVmlld0NvbXBvbmVudCwgRW1pdHRlciwgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyB2ZWMzLCBtYXQ0IH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7IEN1cnNvclRhcmdldCB9IGZyb20gJy4vY3Vyc29yLXRhcmdldC5qcyc7XG5pbXBvcnQgeyBIaXRUZXN0TG9jYXRpb24gfSBmcm9tICcuL2hpdC10ZXN0LWxvY2F0aW9uLmpzJztcbmNvbnN0IHRlbXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuLyoqIEdsb2JhbCB0YXJnZXQgZm9yIHtAbGluayBDdXJzb3J9ICovXG5jbGFzcyBDdXJzb3JUYXJnZXRFbWl0dGVycyB7XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgaG92ZXJlZCAqL1xuICAgIG9uSG92ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIHVuaG92ZXJlZCAqL1xuICAgIG9uVW5ob3ZlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgY2xpY2tlZCAqL1xuICAgIG9uQ2xpY2sgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgY3Vyc29yIG1vdmVzIG9uIHRoZSB0YXJnZXQgKi9cbiAgICBvbk1vdmUgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciBwcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cbiAgICBvbkRvd24gPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciB1bnByZXNzZWQgdGhlIHNlbGVjdCBidXR0b24gb24gdGhlIHRhcmdldCAqL1xuICAgIG9uVXAgPSBuZXcgRW1pdHRlcigpO1xufVxuLyoqXG4gKiAzRCBjdXJzb3IgZm9yIGRlc2t0b3AvbW9iaWxlL1ZSLlxuICpcbiAqIEltcGxlbWVudHMgYSByYXktY2FzdGluZyBjdXJzb3IgaW50byB0aGUgc2NlbmUuIFRvIHJlYWN0IHRvXG4gKiBjbGlja2luZy9ob3Zlci91bmhvdmVyL2N1cnNvciBkb3duL2N1cnNvciB1cC9tb3ZlIHVzZSBhXG4gKiBbY3Vyc29yLXRhcmdldF0oI2N1cnNvci10YXJnZXQpLlxuICpcbiAqIEZvciBWUiwgdGhlIHJheSBpcyBjYXN0IGluIGRpcmVjdGlvbiBvZlxuICogW3RoaXMub2JqZWN0LmdldEZvcndhcmQoKV0oL2pzYXBpL29iamVjdC8jZ2V0Zm9yd2FyZCkuIEZvciBkZXNrdG9wIGFuZCBtb2JpbGUsIHRoZVxuICogZm9yd2FyZCB2ZWN0b3IgaXMgaW52ZXJzZS1wcm9qZWN0ZWQgdG8gYWNjb3VudCBmb3Igd2hlcmUgb24gc2NyZWVuIHRoZSB1c2VyIGNsaWNrZWQuXG4gKlxuICogYC5nbG9iYWxUYXJnZXRgIGNhbiBiZSB1c2VkIHRvIGNhbGwgY2FsbGJhY2tzIGZvciBhbGwgb2JqZWN0cywgZXZlbiB0aG9zZSB0aGF0XG4gKiBkbyBub3QgaGF2ZSBhIGN1cnNvciB0YXJnZXQgYXR0YWNoZWQsIGJ1dCBtYXRjaCB0aGUgY29sbGlzaW9uIGdyb3VwLlxuICpcbiAqIGAuaGl0VGVzdFRhcmdldGAgY2FuIGJlIHVzZWQgdG8gY2FsbCBjYWxsYmFja3MgV2ViWFIgaGl0IHRlc3QgcmVzdWx0cyxcbiAqXG4gKiBTZWUgW0FuaW1hdGlvbiBFeGFtcGxlXSgvc2hvd2Nhc2UvYW5pbWF0aW9uKS5cbiAqL1xuY2xhc3MgQ3Vyc29yIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnY3Vyc29yJztcbiAgICAvKiBEZXBlbmRlbmNpZXMgaXMgZGVwcmVjYXRlZCwgYnV0IHdlIGtlZXAgaXQgaGVyZSBmb3IgY29tcGF0aWJpbGl0eVxuICAgICAqIHdpdGggMS4wLjAtcmMyIHVudGlsIDEuMC4wIGlzIHJlbGVhc2VkICovXG4gICAgc3RhdGljIERlcGVuZGVuY2llcyA9IFtIaXRUZXN0TG9jYXRpb25dO1xuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoSGl0VGVzdExvY2F0aW9uKTtcbiAgICB9XG4gICAgX2NvbGxpc2lvbk1hc2sgPSAwO1xuICAgIF9vbkRlYWN0aXZhdGVDYWxsYmFja3MgPSBbXTtcbiAgICBfaW5wdXQgPSBudWxsO1xuICAgIF9vcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIF9jdXJzb3JPYmpTY2FsZSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgX2RpcmVjdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgX3Byb2plY3Rpb25NYXRyaXggPSBuZXcgRmxvYXQzMkFycmF5KDE2KTtcbiAgICBfdmlld0NvbXBvbmVudCA9IG51bGw7XG4gICAgX2lzRG93biA9IGZhbHNlO1xuICAgIF9sYXN0SXNEb3duID0gZmFsc2U7XG4gICAgX2FyVG91Y2hEb3duID0gZmFsc2U7XG4gICAgX2xhc3RQb2ludGVyUG9zID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICBfbGFzdEN1cnNvclBvc09uVGFyZ2V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBfY3Vyc29yUmF5U2NhbGUgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIF9oaXRUZXN0TG9jYXRpb24gPSBudWxsO1xuICAgIF9oaXRUZXN0T2JqZWN0ID0gbnVsbDtcbiAgICBfb25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IG51bGw7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY3Vyc29yIChhbmQgY3Vyc29yT2JqZWN0KSBpcyB2aXNpYmxlLCBpLmUuIHBvaW50aW5nIGF0IGFuIG9iamVjdFxuICAgICAqIHRoYXQgbWF0Y2hlcyB0aGUgY29sbGlzaW9uIGdyb3VwXG4gICAgICovXG4gICAgdmlzaWJsZSA9IHRydWU7XG4gICAgLyoqIE1heGltdW0gZGlzdGFuY2UgZm9yIHRoZSBjdXJzb3IncyByYXkgY2FzdCAqL1xuICAgIG1heERpc3RhbmNlID0gMTAwO1xuICAgIC8qKiBDdXJyZW50bHkgaG92ZXJlZCBvYmplY3QgKi9cbiAgICBob3ZlcmluZ09iamVjdCA9IG51bGw7XG4gICAgLyoqIEN1cnNvclRhcmdldCBjb21wb25lbnQgb2YgdGhlIGN1cnJlbnRseSBob3ZlcmVkIG9iamVjdCAqL1xuICAgIGhvdmVyaW5nT2JqZWN0VGFyZ2V0ID0gbnVsbDtcbiAgICAvKiogV2hldGhlciB0aGUgY3Vyc29yIGlzIGhvdmVyaW5nIHJlYWxpdHkgdmlhIGhpdC10ZXN0ICovXG4gICAgaG92ZXJpbmdSZWFsaXR5ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogR2xvYmFsIHRhcmdldCBsZXRzIHlvdSByZWNlaXZlIGdsb2JhbCBjdXJzb3IgZXZlbnRzIG9uIGFueSBvYmplY3QuXG4gICAgICovXG4gICAgZ2xvYmFsVGFyZ2V0ID0gbmV3IEN1cnNvclRhcmdldEVtaXR0ZXJzKCk7XG4gICAgLyoqXG4gICAgICogSGl0IHRlc3QgdGFyZ2V0IGxldHMgeW91IHJlY2VpdmUgY3Vyc29yIGV2ZW50cyBmb3IgXCJyZWFsaXR5XCIsIGlmXG4gICAgICogYHVzZVdlYlhSSGl0VGVzdGAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBganNcbiAgICAgKiBjdXJzb3IuaGl0VGVzdFRhcmdldC5vbkNsaWNrLmFkZCgoaGl0LCBjdXJzb3IpID0+IHtcbiAgICAgKiAgICAgLy8gVXNlciBjbGlja2VkIG9uIHJlYWxpdHlcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBoaXRUZXN0VGFyZ2V0ID0gbmV3IEN1cnNvclRhcmdldEVtaXR0ZXJzKCk7XG4gICAgLyoqIFdvcmxkIHBvc2l0aW9uIG9mIHRoZSBjdXJzb3IgKi9cbiAgICBjdXJzb3JQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIC8qKiBDb2xsaXNpb24gZ3JvdXAgZm9yIHRoZSByYXkgY2FzdC4gT25seSBvYmplY3RzIGluIHRoaXMgZ3JvdXAgd2lsbCBiZSBhZmZlY3RlZCBieSB0aGlzIGN1cnNvci4gKi9cbiAgICBjb2xsaXNpb25Hcm91cCA9IDE7XG4gICAgLyoqIChvcHRpb25hbCkgT2JqZWN0IHRoYXQgdmlzdWFsaXplcyB0aGUgY3Vyc29yJ3MgcmF5LiAqL1xuICAgIGN1cnNvclJheU9iamVjdCA9IG51bGw7XG4gICAgLyoqIEF4aXMgYWxvbmcgd2hpY2ggdG8gc2NhbGUgdGhlIGBjdXJzb3JSYXlPYmplY3RgLiAqL1xuICAgIGN1cnNvclJheVNjYWxpbmdBeGlzID0gMjtcbiAgICAvKiogKG9wdGlvbmFsKSBPYmplY3QgdGhhdCB2aXN1YWxpemVzIHRoZSBjdXJzb3IncyBoaXQgbG9jYXRpb24uICovXG4gICAgY3Vyc29yT2JqZWN0ID0gbnVsbDtcbiAgICAvKiogSGFuZGVkbmVzcyBmb3IgVlIgY3Vyc29ycyB0byBhY2NlcHQgdHJpZ2dlciBldmVudHMgb25seSBmcm9tIHJlc3BlY3RpdmUgY29udHJvbGxlci4gKi9cbiAgICBoYW5kZWRuZXNzID0gMDtcbiAgICAvKiogTW9kZSBmb3IgcmF5Y2FzdGluZywgd2hldGhlciB0byB1c2UgUGh5c1ggb3Igc2ltcGxlIGNvbGxpc2lvbiBjb21wb25lbnRzICovXG4gICAgcmF5Q2FzdE1vZGUgPSAwO1xuICAgIC8qKiBXaGV0aGVyIHRvIHNldCB0aGUgQ1NTIHN0eWxlIG9mIHRoZSBtb3VzZSBjdXJzb3Igb24gZGVza3RvcCAqL1xuICAgIHN0eWxlQ3Vyc29yID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBVc2UgV2ViWFIgaGl0LXRlc3QgaWYgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogQXR0YWNoZXMgYSBoaXQtdGVzdC1sb2NhdGlvbiBjb21wb25lbnQgdG8gdGhlIGN1cnNvck9iamVjdCwgd2hpY2ggd2lsbCBiZSB1c2VkXG4gICAgICogYnkgdGhlIGN1cnNvciB0byBzZW5kIGV2ZW50cyB0byB0aGUgaGl0VGVzdFRhcmdldCB3aXRoIEhpdFRlc3RSZXN1bHQuXG4gICAgICovXG4gICAgdXNlV2ViWFJIaXRUZXN0ID0gZmFsc2U7XG4gICAgX29uVmlld3BvcnRSZXNpemUgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5fdmlld0NvbXBvbmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLyogUHJvamVjdGlvbiBtYXRyaXggd2lsbCBjaGFuZ2UgaWYgdGhlIHZpZXdwb3J0IGlzIHJlc2l6ZWQsIHdoaWNoIHdpbGwgYWZmZWN0IHRoZVxuICAgICAgICAgKiBwcm9qZWN0aW9uIG1hdHJpeCBiZWNhdXNlIG9mIHRoZSBhc3BlY3QgcmF0aW8uICovXG4gICAgICAgIG1hdDQuaW52ZXJ0KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsIHRoaXMuX3ZpZXdDb21wb25lbnQucHJvamVjdGlvbk1hdHJpeCk7XG4gICAgfTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5fY29sbGlzaW9uTWFzayA9IDEgPDwgdGhpcy5jb2xsaXNpb25Hcm91cDtcbiAgICAgICAgaWYgKHRoaXMuaGFuZGVkbmVzcyA9PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dENvbXAgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBpZiAoIWlucHV0Q29tcCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignY3Vyc29yIGNvbXBvbmVudCBvbiBvYmplY3QnLCB0aGlzLm9iamVjdC5uYW1lLCAnd2FzIGNvbmZpZ3VyZWQgd2l0aCBoYW5kZWRuZXNzIFwiaW5wdXQgY29tcG9uZW50XCIsICcgK1xuICAgICAgICAgICAgICAgICAgICAnYnV0IG9iamVjdCBoYXMgbm8gaW5wdXQgY29tcG9uZW50LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gaW5wdXRDb21wLmhhbmRlZG5lc3MgfHwgJ25vbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXRDb21wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gWydsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnXVt0aGlzLmhhbmRlZG5lc3MgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92aWV3Q29tcG9uZW50ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KFZpZXdDb21wb25lbnQpO1xuICAgICAgICBpZiAodGhpcy51c2VXZWJYUkhpdFRlc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2hpdFRlc3RPYmplY3QgPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3QodGhpcy5vYmplY3QpO1xuICAgICAgICAgICAgdGhpcy5faGl0VGVzdExvY2F0aW9uID1cbiAgICAgICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0LmFkZENvbXBvbmVudChIaXRUZXN0TG9jYXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVPYmplY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pID8/IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0dXBWUkV2ZW50cy5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvbkFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLl9vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5lbmdpbmUub25SZXNpemUuYWRkKHRoaXMuX29uVmlld3BvcnRSZXNpemUpO1xuICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KHRydWUpO1xuICAgICAgICAvKiBJZiB0aGlzIG9iamVjdCBhbHNvIGhhcyBhIHZpZXcgY29tcG9uZW50LCB3ZSB3aWxsIGVuYWJsZSBpbnZlcnNlLXByb2plY3RlZCBtb3VzZSBjbGlja3MsXG4gICAgICAgICAqIG90aGVyd2lzZSBqdXN0IHVzZSB0aGUgb2JqZWN0cyB0cmFuc2Zvcm1hdGlvbiAqL1xuICAgICAgICBpZiAodGhpcy5fdmlld0NvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmVuZ2luZS5jYW52YXM7XG4gICAgICAgICAgICBjb25zdCBvbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBvblBvaW50ZXJNb3ZlID0gdGhpcy5vblBvaW50ZXJNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBvblBvaW50ZXJEb3duID0gdGhpcy5vblBvaW50ZXJEb3duLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBvblBvaW50ZXJVcCA9IHRoaXMub25Qb2ludGVyVXAuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSk7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duKTtcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvblBvaW50ZXJVcCk7XG4gICAgICAgICAgICB0aGlzLl9vbkRlYWN0aXZhdGVDYWxsYmFja3MucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93bik7XG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29uVmlld3BvcnRSZXNpemUoKTtcbiAgICB9XG4gICAgX3NldEN1cnNvclJheVRyYW5zZm9ybShoaXRQb3NpdGlvbikge1xuICAgICAgICBpZiAoIXRoaXMuY3Vyc29yUmF5T2JqZWN0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBkaXN0ID0gdmVjMy5kaXN0KHRoaXMuX29yaWdpbiwgaGl0UG9zaXRpb24pO1xuICAgICAgICB0aGlzLmN1cnNvclJheU9iamVjdC5zZXRUcmFuc2xhdGlvbkxvY2FsKFswLjAsIDAuMCwgLWRpc3QgLyAyXSk7XG4gICAgICAgIGlmICh0aGlzLmN1cnNvclJheVNjYWxpbmdBeGlzICE9IDQpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUmF5T2JqZWN0LnJlc2V0U2NhbGluZygpO1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yUmF5U2NhbGVbdGhpcy5jdXJzb3JSYXlTY2FsaW5nQXhpc10gPSBkaXN0IC8gMjtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUmF5T2JqZWN0LnNjYWxlKHRoaXMuX2N1cnNvclJheVNjYWxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfc2V0Q3Vyc29yVmlzaWJpbGl0eSh2aXNpYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUgPT0gdmlzaWJsZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnNvck9iamVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LnNldFNjYWxpbmdXb3JsZCh0aGlzLl9jdXJzb3JPYmpTY2FsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvck9iamVjdC5nZXRTY2FsaW5nTG9jYWwodGhpcy5fY3Vyc29yT2JqU2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3Quc2NhbGUoWzAsIDAsIDBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIC8qIElmIGluIFZSLCBzZXQgdGhlIGN1cnNvciByYXkgYmFzZWQgb24gb2JqZWN0IHRyYW5zZm9ybSAqL1xuICAgICAgICAvKiBTaW5jZSBHb29nbGUgQ2FyZGJvYXJkIHRhcCBpcyByZWdpc3RlcmVkIGFzIGFyVG91Y2hEb3duIHdpdGhvdXQgYSBnYW1lcGFkLCB3ZSBuZWVkIHRvIGNoZWNrIGZvciBnYW1lcGFkIHByZXNlbmNlICovXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54ciAmJlxuICAgICAgICAgICAgdGhpcy5fYXJUb3VjaERvd24gJiZcbiAgICAgICAgICAgIHRoaXMuX2lucHV0ICYmXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlc1swXS5oYW5kZWRuZXNzID09PSAnbm9uZScgJiZcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzWzBdLmdhbWVwYWQpIHtcbiAgICAgICAgICAgIC8qIFdlYlhSIEFSIGlucHV0ICovXG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXNbMF0uZ2FtZXBhZC5heGVzO1xuICAgICAgICAgICAgLyogU2NyZWVuc3BhY2UgWSBpcyBpbnZlcnRlZCAqL1xuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzBdID0gcFswXTtcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsxXSA9IC1wWzFdO1xuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzJdID0gLTEuMDtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1BbmRQcm9qZWN0RGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmdpbmUueHIgJiYgdGhpcy5faW5wdXQgJiYgdGhpcy5faW5wdXQueHJJbnB1dFNvdXJjZSkge1xuICAgICAgICAgICAgLyogV2ViWFIgVlIgaW5wdXQgKi9cbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblswXSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMV0gPSAwO1xuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzJdID0gLTEuMDtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1Ub0RpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3ZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgICAgIC8qIEFwcGx5IHBvdGVudGlhbGx5IGNoYW5nZWQgdHJhbnNmb3JtIHRvIGxhc3Qgc3RvcmVkIHBvaW50ZXJcbiAgICAgICAgICAgICAqIHBvc2l0aW9uICovXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmF5Q2FzdChudWxsLCB0aGlzLmVuZ2luZS54cj8uZnJhbWUpO1xuICAgICAgICBpZiAodGhpcy5jdXJzb3JPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0ICYmXG4gICAgICAgICAgICAgICAgKHRoaXMuY3Vyc29yUG9zWzBdICE9IDAgfHwgdGhpcy5jdXJzb3JQb3NbMV0gIT0gMCB8fCB0aGlzLmN1cnNvclBvc1syXSAhPSAwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvclZpc2liaWxpdHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3Quc2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLmN1cnNvclBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yUmF5VHJhbnNmb3JtKHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvclZpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qIFJldHVybnMgdGhlIGhvdmVyZWQgY3Vyc29yIHRhcmdldCwgaWYgYXZhaWxhYmxlICovXG4gICAgbm90aWZ5KGV2ZW50LCBvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuaG92ZXJpbmdPYmplY3Q7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvclRhcmdldCA9IHRoaXMuaG92ZXJpbmdPYmplY3RUYXJnZXQ7XG4gICAgICAgICAgICBpZiAoY3Vyc29yVGFyZ2V0KVxuICAgICAgICAgICAgICAgIGN1cnNvclRhcmdldFtldmVudF0ubm90aWZ5KHRhcmdldCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxUYXJnZXRbZXZlbnRdLm5vdGlmeSh0YXJnZXQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBob3ZlckJlaGF2aW91cihyYXlIaXQsIGhpdFRlc3RSZXN1bHQsIGRvQ2xpY2ssIG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLyogT2xkIEFQSSB2ZXJzaW9uIGRvZXMgbm90IHJldHVybiBudWxsIGZvciBvYmplY3RzWzBdIGlmIG5vIGhpdCAqL1xuICAgICAgICBjb25zdCBoaXQgPSAhdGhpcy5ob3ZlcmluZ1JlYWxpdHkgJiYgcmF5SGl0LmhpdENvdW50ID4gMCA/IHJheUhpdC5vYmplY3RzWzBdIDogbnVsbDtcbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmhvdmVyaW5nT2JqZWN0IHx8ICF0aGlzLmhvdmVyaW5nT2JqZWN0LmVxdWFscyhoaXQpKSB7XG4gICAgICAgICAgICAgICAgLyogVW5ob3ZlciBwcmV2aW91cywgaWYgZXhpc3RzICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uVW5ob3ZlcicsIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBIb3ZlciBuZXcgb2JqZWN0ICovXG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdCA9IGhpdDtcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0VGFyZ2V0ID0gdGhpcy5ob3ZlcmluZ09iamVjdC5nZXRDb21wb25lbnQoQ3Vyc29yVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdHlsZUN1cnNvcilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25Ib3ZlcicsIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcbiAgICAgICAgICAgIC8qIFByZXZpb3VzbHkgaG92ZXJpbmcgb2JqZWN0LCBub3cgaG92ZXJpbmcgbm90aGluZyAqL1xuICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uVW5ob3ZlcicsIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0eWxlQ3Vyc29yKVxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcbiAgICAgICAgICAgIC8qIG9uRG93bi9vblVwIGZvciBvYmplY3QgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rvd24gIT09IHRoaXMuX2xhc3RJc0Rvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh0aGlzLl9pc0Rvd24gPyAnb25Eb3duJyA6ICdvblVwJywgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBvbkNsaWNrIGZvciBvYmplY3QgKi9cbiAgICAgICAgICAgIGlmIChkb0NsaWNrKVxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvbkNsaWNrJywgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5ob3ZlcmluZ1JlYWxpdHkpIHtcbiAgICAgICAgICAgIC8qIG9uRG93bi9vblVwIGZvciBoaXQgdGVzdCAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRG93biAhPT0gdGhpcy5fbGFzdElzRG93bikge1xuICAgICAgICAgICAgICAgICh0aGlzLl9pc0Rvd24gPyB0aGlzLmhpdFRlc3RUYXJnZXQub25Eb3duIDogdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uVXApLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBvbkNsaWNrIGZvciBoaXQgdGVzdCAqL1xuICAgICAgICAgICAgaWYgKGRvQ2xpY2spXG4gICAgICAgICAgICAgICAgdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uQ2xpY2subm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBvbk1vdmUgKi9cbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRlbXBWZWMsIHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbXBWZWMuc2V0KHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdmVjMy5lcXVhbHModGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LCB0ZW1wVmVjKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvbk1vdmUnLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQuc2V0KHRlbXBWZWMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaG92ZXJpbmdSZWFsaXR5KSB7XG4gICAgICAgICAgICBpZiAoIXZlYzMuZXF1YWxzKHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldCwgdGhpcy5jdXJzb3JQb3MpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uTW92ZS5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldC5zZXQodGhpcy5jdXJzb3JQb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LnNldCh0aGlzLmN1cnNvclBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGFzdElzRG93biA9IHRoaXMuX2lzRG93bjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0dXAgZXZlbnQgbGlzdGVuZXJzIG9uIHNlc3Npb24gb2JqZWN0XG4gICAgICogQHBhcmFtIHMgV2ViWFIgc2Vzc2lvblxuICAgICAqXG4gICAgICogU2V0cyB1cCAnc2VsZWN0JyBhbmQgJ2VuZCcgZXZlbnRzLlxuICAgICAqL1xuICAgIHNldHVwVlJFdmVudHMocykge1xuICAgICAgICBpZiAoIXMpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdzZXR1cFZSRXZlbnRzIGNhbGxlZCB3aXRob3V0IGEgdmFsaWQgc2Vzc2lvbicpO1xuICAgICAgICAvKiBJZiBpbiBWUiwgb25lLXRpbWUgYmluZCB0aGUgbGlzdGVuZXIgKi9cbiAgICAgICAgY29uc3Qgb25TZWxlY3QgPSB0aGlzLm9uU2VsZWN0LmJpbmQodGhpcyk7XG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0Jywgb25TZWxlY3QpO1xuICAgICAgICBjb25zdCBvblNlbGVjdFN0YXJ0ID0gdGhpcy5vblNlbGVjdFN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBvblNlbGVjdFN0YXJ0KTtcbiAgICAgICAgY29uc3Qgb25TZWxlY3RFbmQgPSB0aGlzLm9uU2VsZWN0RW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0ZW5kJywgb25TZWxlY3RFbmQpO1xuICAgICAgICB0aGlzLl9vbkRlYWN0aXZhdGVDYWxsYmFja3MucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZW5naW5lLnhyU2Vzc2lvbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIG9uU2VsZWN0KTtcbiAgICAgICAgICAgIHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBvblNlbGVjdFN0YXJ0KTtcbiAgICAgICAgICAgIHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0ZW5kJywgb25TZWxlY3RFbmQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLyogQWZ0ZXIgQVIgc2Vzc2lvbiB3YXMgZW50ZXJlZCwgdGhlIHByb2plY3Rpb24gbWF0cml4IGNoYW5nZWQgKi9cbiAgICAgICAgdGhpcy5fb25WaWV3cG9ydFJlc2l6ZSgpO1xuICAgIH1cbiAgICBvbkRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMuX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgICAgICB0aGlzLmVuZ2luZS5vblJlc2l6ZS5yZW1vdmUodGhpcy5fb25WaWV3cG9ydFJlc2l6ZSk7XG4gICAgICAgIHRoaXMuX3NldEN1cnNvclZpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdClcbiAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvblVuaG92ZXInLCBudWxsKTtcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yUmF5T2JqZWN0KVxuICAgICAgICAgICAgdGhpcy5jdXJzb3JSYXlPYmplY3Quc2NhbGUoWzAsIDAsIDBdKTtcbiAgICAgICAgLyogRW5zdXJlIGFsbCBldmVudCBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgKi9cbiAgICAgICAgZm9yIChjb25zdCBmIG9mIHRoaXMuX29uRGVhY3RpdmF0ZUNhbGxiYWNrcylcbiAgICAgICAgICAgIGYoKTtcbiAgICAgICAgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIG9uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5faGl0VGVzdE9iamVjdD8uZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKiogJ3NlbGVjdCcgZXZlbnQgbGlzdGVuZXIgKi9cbiAgICBvblNlbGVjdChlKSB7XG4gICAgICAgIGlmIChlLmlucHV0U291cmNlLmhhbmRlZG5lc3MgIT0gdGhpcy5oYW5kZWRuZXNzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnJheUNhc3QoZSwgZS5mcmFtZSwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKiAnc2VsZWN0c3RhcnQnIGV2ZW50IGxpc3RlbmVyICovXG4gICAgb25TZWxlY3RTdGFydChlKSB7XG4gICAgICAgIHRoaXMuX2FyVG91Y2hEb3duID0gdHJ1ZTtcbiAgICAgICAgaWYgKGUuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRG93biA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJheUNhc3QoZSwgZS5mcmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqICdzZWxlY3RlbmQnIGV2ZW50IGxpc3RlbmVyICovXG4gICAgb25TZWxlY3RFbmQoZSkge1xuICAgICAgICB0aGlzLl9hclRvdWNoRG93biA9IGZhbHNlO1xuICAgICAgICBpZiAoZS5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xuICAgICAgICAgICAgdGhpcy5faXNEb3duID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJheUNhc3QoZSwgZS5mcmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqICdwb2ludGVybW92ZScgZXZlbnQgbGlzdGVuZXIgKi9cbiAgICBvblBvaW50ZXJNb3ZlKGUpIHtcbiAgICAgICAgLyogRG9uJ3QgY2FyZSBhYm91dCBzZWNvbmRhcnkgcG9pbnRlcnMgKi9cbiAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUsIG51bGwpO1xuICAgIH1cbiAgICAvKiogJ2NsaWNrJyBldmVudCBsaXN0ZW5lciAqL1xuICAgIG9uQ2xpY2soZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xuICAgICAgICB0aGlzLnJheUNhc3QoZSwgbnVsbCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKiAncG9pbnRlcmRvd24nIGV2ZW50IGxpc3RlbmVyICovXG4gICAgb25Qb2ludGVyRG93bihlKSB7XG4gICAgICAgIC8qIERvbid0IGNhcmUgYWJvdXQgc2Vjb25kYXJ5IHBvaW50ZXJzIG9yIG5vbi1sZWZ0IGNsaWNrcyAqL1xuICAgICAgICBpZiAoIWUuaXNQcmltYXJ5IHx8IGUuYnV0dG9uICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xuICAgICAgICB0aGlzLl9pc0Rvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLnJheUNhc3QoZSk7XG4gICAgfVxuICAgIC8qKiAncG9pbnRlcnVwJyBldmVudCBsaXN0ZW5lciAqL1xuICAgIG9uUG9pbnRlclVwKGUpIHtcbiAgICAgICAgLyogRG9uJ3QgY2FyZSBhYm91dCBzZWNvbmRhcnkgcG9pbnRlcnMgb3Igbm9uLWxlZnQgY2xpY2tzICovXG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkgfHwgZS5idXR0b24gIT09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudXBkYXRlTW91c2VQb3MoZSk7XG4gICAgICAgIHRoaXMuX2lzRG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJheUNhc3QoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBtb3VzZSBwb3NpdGlvbiBpbiBub24tVlIgbW9kZSBhbmQgcmF5Y2FzdCBmb3IgbmV3IHBvc2l0aW9uXG4gICAgICogQHJldHVybnMgQHJlZiBXTC5SYXlIaXQgZm9yIG5ldyBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICB1cGRhdGVNb3VzZVBvcyhlKSB7XG4gICAgICAgIHRoaXMuX2xhc3RQb2ludGVyUG9zWzBdID0gZS5jbGllbnRYO1xuICAgICAgICB0aGlzLl9sYXN0UG9pbnRlclBvc1sxXSA9IGUuY2xpZW50WTtcbiAgICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcbiAgICB9XG4gICAgdXBkYXRlRGlyZWN0aW9uKCkge1xuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmVuZ2luZS5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIC8qIEdldCBkaXJlY3Rpb24gaW4gbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBzcGFjZSBmcm9tIG1vdXNlIHBvc2l0aW9uICovXG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLl9sYXN0UG9pbnRlclBvc1swXSAvIGJvdW5kcy53aWR0aDtcbiAgICAgICAgY29uc3QgdG9wID0gdGhpcy5fbGFzdFBvaW50ZXJQb3NbMV0gLyBib3VuZHMuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMF0gPSBsZWZ0ICogMiAtIDE7XG4gICAgICAgIHRoaXMuX2RpcmVjdGlvblsxXSA9IC10b3AgKiAyICsgMTtcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzJdID0gLTEuMDtcbiAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybUFuZFByb2plY3REaXJlY3Rpb24oKTtcbiAgICB9XG4gICAgYXBwbHlUcmFuc2Zvcm1BbmRQcm9qZWN0RGlyZWN0aW9uKCkge1xuICAgICAgICAvKiBSZXZlcnNlLXByb2plY3QgdGhlIGRpcmVjdGlvbiBpbnRvIHZpZXcgc3BhY2UgKi9cbiAgICAgICAgdmVjMy50cmFuc2Zvcm1NYXQ0KHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9wcm9qZWN0aW9uTWF0cml4KTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9kaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtVG9EaXJlY3Rpb24oKTtcbiAgICB9XG4gICAgYXBwbHlUcmFuc2Zvcm1Ub0RpcmVjdGlvbigpIHtcbiAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLm9iamVjdC50cmFuc2Zvcm1Xb3JsZCk7XG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fb3JpZ2luKTtcbiAgICB9XG4gICAgcmF5Q2FzdChvcmlnaW5hbEV2ZW50LCBmcmFtZSA9IG51bGwsIGRvQ2xpY2sgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCByYXlIaXQgPSB0aGlzLnJheUNhc3RNb2RlID09IDBcbiAgICAgICAgICAgID8gdGhpcy5lbmdpbmUuc2NlbmUucmF5Q2FzdCh0aGlzLl9vcmlnaW4sIHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fY29sbGlzaW9uTWFzaylcbiAgICAgICAgICAgIDogdGhpcy5lbmdpbmUucGh5c2ljcy5yYXlDYXN0KHRoaXMuX29yaWdpbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9jb2xsaXNpb25NYXNrLCB0aGlzLm1heERpc3RhbmNlKTtcbiAgICAgICAgbGV0IGhpdFJlc3VsdERpc3RhbmNlID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBoaXRUZXN0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX2hpdFRlc3RMb2NhdGlvbj8udmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5faGl0VGVzdE9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIGhpdFJlc3VsdERpc3RhbmNlID0gdmVjMy5kaXN0YW5jZSh0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRlbXBWZWMpLCB0aGlzLmN1cnNvclBvcyk7XG4gICAgICAgICAgICBoaXRUZXN0UmVzdWx0ID0gdGhpcy5faGl0VGVzdExvY2F0aW9uPy5nZXRIaXRUZXN0UmVzdWx0cyhmcmFtZSlbMF07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhvdmVyaW5nUmVhbGl0eSA9IGZhbHNlO1xuICAgICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZCA9IHJheUhpdC5kaXN0YW5jZXNbMF07XG4gICAgICAgICAgICBpZiAoaGl0UmVzdWx0RGlzdGFuY2UgPj0gZCkge1xuICAgICAgICAgICAgICAgIC8qIE92ZXJyaWRlIGN1cnNvclBvcyBzZXQgYnkgaGl0IHRlc3QgbG9jYXRpb24gKi9cbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvclBvcy5zZXQocmF5SGl0LmxvY2F0aW9uc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3ZlcmluZ1JlYWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhpdFJlc3VsdERpc3RhbmNlIDwgSW5maW5pdHkpIHtcbiAgICAgICAgICAgIC8qIGN1cnNvclBvcyBhbHJlYWR5IHNldCAqL1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3JQb3MuZmlsbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG92ZXJpbmdSZWFsaXR5ICYmICF0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xuICAgICAgICAgICAgdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uSG92ZXIubm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFob3ZlcmluZ1JlYWxpdHkgJiYgdGhpcy5ob3ZlcmluZ1JlYWxpdHkpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vblVuaG92ZXIubm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG92ZXJpbmdSZWFsaXR5ID0gaG92ZXJpbmdSZWFsaXR5O1xuICAgICAgICB0aGlzLmhvdmVyQmVoYXZpb3VyKHJheUhpdCwgaGl0VGVzdFJlc3VsdCwgZG9DbGljaywgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgIHJldHVybiByYXlIaXQ7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuaW50KDEpXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImNvbGxpc2lvbkdyb3VwXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5vYmplY3QoKVxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjdXJzb3JSYXlPYmplY3RcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmVudW0oWyd4JywgJ3knLCAneicsICdub25lJ10sICd6Jylcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiY3Vyc29yUmF5U2NhbGluZ0F4aXNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5Lm9iamVjdCgpXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImN1cnNvck9iamVjdFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuZW51bShbJ2lucHV0IGNvbXBvbmVudCcsICdsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnXSwgJ2lucHV0IGNvbXBvbmVudCcpXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImhhbmRlZG5lc3NcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmVudW0oWydjb2xsaXNpb24nLCAncGh5c3gnXSwgJ2NvbGxpc2lvbicpXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcInJheUNhc3RNb2RlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5ib29sKHRydWUpXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcInN0eWxlQ3Vyc29yXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5ib29sKGZhbHNlKVxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJ1c2VXZWJYUkhpdFRlc3RcIiwgdm9pZCAwKTtcbmV4cG9ydCB7IEN1cnNvciB9O1xuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4Jztcbi8qKlxuICogUHJpbnRzIHNvbWUgbGltaXRlZCBkZWJ1ZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0LlxuICpcbiAqIEluZm9ybWF0aW9uIGNvbnNpc3RzIG9mOiBUaGlzIG9iamVjdCdzIG5hbWUsIGFuIG9iamVjdCBwYXJhbWV0ZXIncyBuYW1lLFxuICogdGhlIG9iamVjdCdzIHdvcmxkIHRyYW5zbGF0aW9uLCB3b3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybS5cbiAqXG4gKiBNYWlubHkgdXNlZCBieSBlbmdpbmUgZGV2ZWxvcGVycyBmb3IgZGVidWcgcHVycG9zZXMgb3IgYXMgZXhhbXBsZSBjb2RlLlxuICovXG5jbGFzcyBEZWJ1Z09iamVjdCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2RlYnVnLW9iamVjdCc7XG4gICAgLyoqIEEgc2Vjb25kIG9iamVjdCB0byBwcmludCB0aGUgbmFtZSBvZiAqL1xuICAgIG9iaiA9IG51bGw7XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGxldCBvcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICBxdWF0Mi5nZXRUcmFuc2xhdGlvbihvcmlnaW4sIHRoaXMub2JqZWN0LnRyYW5zZm9ybVdvcmxkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0RlYnVnIG9iamVjdDonLCB0aGlzLm9iamVjdC5uYW1lKTtcbiAgICAgICAgY29uc29sZS5sb2coJ090aGVyIG9iamVjdDonLCB0aGlzLm9iaj8ubmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdcXHR0cmFuc2xhdGlvbicsIG9yaWdpbik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdcXHR0cmFuc2Zvcm1Xb3JsZCcsIHRoaXMub2JqZWN0LnRyYW5zZm9ybVdvcmxkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1xcdHRyYW5zZm9ybUxvY2FsJywgdGhpcy5vYmplY3QudHJhbnNmb3JtTG9jYWwpO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5Lm9iamVjdCgpXG5dLCBEZWJ1Z09iamVjdC5wcm90b3R5cGUsIFwib2JqXCIsIHZvaWQgMCk7XG5leHBvcnQgeyBEZWJ1Z09iamVjdCB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4vKipcbiAqIEZ1bmN0aW9uIHRvIGNvbnZlcnQgYSBFdWxlciBpbiBZWFogb3JkZXIgdG8gYSBxdWF0ZXJuaW9uXG4gKi9cbmZ1bmN0aW9uIHF1YXRGcm9tRXVsZXJZWFoob3V0LCB4LCB5LCB6KSB7XG4gICAgY29uc3QgYzEgPSBNYXRoLmNvcyh4IC8gMik7XG4gICAgY29uc3QgYzIgPSBNYXRoLmNvcyh5IC8gMik7XG4gICAgY29uc3QgYzMgPSBNYXRoLmNvcyh6IC8gMik7XG4gICAgY29uc3QgczEgPSBNYXRoLnNpbih4IC8gMik7XG4gICAgY29uc3QgczIgPSBNYXRoLnNpbih5IC8gMik7XG4gICAgY29uc3QgczMgPSBNYXRoLnNpbih6IC8gMik7XG4gICAgb3V0WzBdID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuICAgIG91dFsxXSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcbiAgICBvdXRbMl0gPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG4gICAgb3V0WzNdID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBkZXZpY2Ugb3JpZW50YXRpb24gZnJvbSBhIG1vYmlsZSBkZXZpY2UgYW5kIHNldCB0aGUgb2JqZWN0J3NcbiAqIG9yaWVudGF0aW9uIGFjY29yZGluZ2x5LlxuICpcbiAqIFVzZWZ1bCBmb3IgbWFnaWMgd2luZG93IGV4cGVyaWVuY2VzLlxuICovXG5jbGFzcyBEZXZpY2VPcmllbnRhdGlvbkxvb2sgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdkZXZpY2Utb3JpZW50YXRpb24tbG9vayc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7fTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvblggPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IDA7XG4gICAgICAgIHRoaXMubGFzdENsaWVudFggPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0Q2xpZW50WSA9IC0xO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICAvKiBJbml0aWFsaXplIGRldmljZSBvcmllbnRhdGlvbiB3aXRoIElkZW50aXR5IFF1YXRlcm5pb24gKi9cbiAgICAgICAgdGhpcy5kZXZpY2VPcmllbnRhdGlvbiA9IFswLCAwLCAwLCAxXTtcbiAgICAgICAgdGhpcy5zY3JlZW5PcmllbnRhdGlvbiA9IHdpbmRvdy5pbm5lckhlaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoID8gMCA6IDkwO1xuICAgICAgICB0aGlzLl9vcmlnaW4gPSBbMCwgMCwgMF07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBsZXQgYWxwaGEgPSBlLmFscGhhIHx8IDA7XG4gICAgICAgICAgICBsZXQgYmV0YSA9IGUuYmV0YSB8fCAwO1xuICAgICAgICAgICAgbGV0IGdhbW1hID0gZS5nYW1tYSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgdG9SYWQgPSBNYXRoLlBJIC8gMTgwO1xuICAgICAgICAgICAgcXVhdEZyb21FdWxlcllYWih0aGlzLmRldmljZU9yaWVudGF0aW9uLCBiZXRhICogdG9SYWQsIGFscGhhICogdG9SYWQsIC1nYW1tYSAqIHRvUmFkKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuT3JpZW50YXRpb24gPSB3aW5kb3cub3JpZW50YXRpb24gfHwgMDtcbiAgICAgICAgfS5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgLyogRG9uJ3QgdXNlIGRldmljZSBvcmllbnRhdGlvbiBpbiBWUiAqL1xuICAgICAgICBpZiAodGhpcy5lbmdpbmUueHIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uTG9jYWwodGhpcy5fb3JpZ2luKTtcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuT3JpZW50YXRpb24gIT0gMCkge1xuICAgICAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlQXhpc0FuZ2xlRGVnKFswLCAwLCAtMV0sIHRoaXMuc2NyZWVuT3JpZW50YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZShbLU1hdGguc3FydCgwLjUpLCAwLCAwLCBNYXRoLnNxcnQoMC41KV0pO1xuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUodGhpcy5kZXZpY2VPcmllbnRhdGlvbik7XG4gICAgICAgIHRoaXMub2JqZWN0LnRyYW5zbGF0ZSh0aGlzLl9vcmlnaW4pO1xuICAgIH1cbn1cbmV4cG9ydCB7IERldmljZU9yaWVudGF0aW9uTG9vayB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4vKipcbiAqIEVuYWJsZXMgaW50ZXJhY3Rpb24gd2l0aCBjdXJzb3ItdGFyZ2V0cyB0aHJvdWdoIGNvbGxpc2lvbiBvdmVybGFwcyxcbiAqIGUuZy4gb24gdGhlIHRpcCBvZiBhIGZpbmdlciBvbiBhIHRyYWNrZWQgaGFuZC5cbiAqXG4gKiAqKlJlcXVpcmVtZW50czoqKlxuICogIC0gQSBjb2xsaXNpb24gY29tcG9uZW50ICh1c3VhbGx5IGEgc3BoZXJlIHdpdGggYDAuMDVgIHJhZGl1cykgb24gdGhlIHNhbWUgb2JqZWN0XG4gKlxuICogQHNpbmNlIDAuOC41XG4gKi9cbmNsYXNzIEZpbmdlckN1cnNvciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2Zpbmdlci1jdXJzb3InO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge307XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5sYXN0VGFyZ2V0ID0gbnVsbDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMudGlwID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdjb2xsaXNpb24nKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBjb25zdCBvdmVybGFwcyA9IHRoaXMudGlwLnF1ZXJ5T3ZlcmxhcHMoKTtcbiAgICAgICAgbGV0IG92ZXJsYXBGb3VuZCA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3ZlcmxhcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG8gPSBvdmVybGFwc1tpXS5vYmplY3Q7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBvLmdldENvbXBvbmVudCgnY3Vyc29yLXRhcmdldCcpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmVxdWFscyh0aGlzLmxhc3RUYXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5vbkhvdmVyKG8sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQub25DbGljayhvLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3ZlcmxhcEZvdW5kID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghb3ZlcmxhcEZvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0VGFyZ2V0KVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldC5vblVuaG92ZXIodGhpcy5sYXN0VGFyZ2V0Lm9iamVjdCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0ID0gb3ZlcmxhcEZvdW5kO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IHsgRmluZ2VyQ3Vyc29yIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbi8qKlxuICogQXBwbGllcyBbZml4ZWQgZm92ZWF0aW9uXShodHRwczovL3d3dy53My5vcmcvVFIvd2VieHJsYXllcnMtMS8jZG9tLXhyY29tcG9zaXRpb25sYXllci1maXhlZGZvdmVhdGlvbilcbiAqIG9uY2UgYSBXZWJYUiBzZXNzaW9uIGlzIHN0YXJ0ZWRcbiAqXG4gKiBGaXhlZCBmb3ZlYXRpb24gcmVkdWNlcyBzaGFkaW5nIGNvc3QgYXQgdGhlIHBlcmlwaGVyeSBieSByZW5kZXJpbmcgYXQgbG93ZXIgcmVzb2x1dGlvbnMgYXQgdGhlXG4gKiBlZGdlcyBvZiB0aGUgdXNlcnMgdmlzaW9uLlxuICovXG5jbGFzcyBGaXhlZEZvdmVhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2ZpeGVkLWZvdmVhdGlvbic7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBBbW91bnQgdG8gYXBwbHkgZnJvbSAwIChub25lKSB0byAxIChmdWxsKSAqL1xuICAgICAgICBmaXhlZEZvdmVhdGlvbjogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjUgfSxcbiAgICB9O1xuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldEZpeGVkRm92ZWF0aW9uLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICB9XG4gICAgc2V0Rml4ZWRGb3ZlYXRpb24oKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLnhyLmJhc2VMYXllci5maXhlZEZvdmVhdGlvbiA9IHRoaXMuZml4ZWRGb3ZlYXRpb247XG4gICAgfVxufVxuZXhwb3J0IHsgRml4ZWRGb3ZlYXRpb24gfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIE1lc2hDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgdmVjMywgcXVhdCwgcXVhdDIgfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IHsgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsIH0gZnJvbSAnLi91dGlscy93ZWJ4ci5qcyc7XG5jb25zdCBPUkRFUkVEX0pPSU5UUyA9IFtcbiAgICAnd3Jpc3QnLFxuICAgICd0aHVtYi1tZXRhY2FycGFsJyxcbiAgICAndGh1bWItcGhhbGFueC1wcm94aW1hbCcsXG4gICAgJ3RodW1iLXBoYWxhbngtZGlzdGFsJyxcbiAgICAndGh1bWItdGlwJyxcbiAgICAnaW5kZXgtZmluZ2VyLW1ldGFjYXJwYWwnLFxuICAgICdpbmRleC1maW5nZXItcGhhbGFueC1wcm94aW1hbCcsXG4gICAgJ2luZGV4LWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXG4gICAgJ2luZGV4LWZpbmdlci1waGFsYW54LWRpc3RhbCcsXG4gICAgJ2luZGV4LWZpbmdlci10aXAnLFxuICAgICdtaWRkbGUtZmluZ2VyLW1ldGFjYXJwYWwnLFxuICAgICdtaWRkbGUtZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxuICAgICdtaWRkbGUtZmluZ2VyLXBoYWxhbngtaW50ZXJtZWRpYXRlJyxcbiAgICAnbWlkZGxlLWZpbmdlci1waGFsYW54LWRpc3RhbCcsXG4gICAgJ21pZGRsZS1maW5nZXItdGlwJyxcbiAgICAncmluZy1maW5nZXItbWV0YWNhcnBhbCcsXG4gICAgJ3JpbmctZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXG4gICAgJ3JpbmctZmluZ2VyLXBoYWxhbngtZGlzdGFsJyxcbiAgICAncmluZy1maW5nZXItdGlwJyxcbiAgICAncGlua3ktZmluZ2VyLW1ldGFjYXJwYWwnLFxuICAgICdwaW5reS1maW5nZXItcGhhbGFueC1wcm94aW1hbCcsXG4gICAgJ3Bpbmt5LWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXG4gICAgJ3Bpbmt5LWZpbmdlci1waGFsYW54LWRpc3RhbCcsXG4gICAgJ3Bpbmt5LWZpbmdlci10aXAnLFxuXTtcbmNvbnN0IGludlRyYW5zbGF0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbmNvbnN0IGludlJvdGF0aW9uID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbi8qKlxuICogRWFzeSBoYW5kIHRyYWNraW5nIHRocm91Z2ggdGhlIFdlYlhSIERldmljZSBBUElcbiAqIFtcIkhhbmQgSW5wdXRcIiBBUEldKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vd2VieHItaGFuZC1pbnB1dC8pLlxuICpcbiAqIEFsbG93cyBkaXNwbGF5aW5nIGhhbmRzIGVpdGhlciBhcyBzcGhlcmUtam9pbnRzIG9yIHNraW5uZWQgbWVzaC5cbiAqXG4gKiBUbyByZWFjdCB0byBncmFiYmluZywgdXNlIGB0aGlzLmlzR3JhYmJpbmcoKWAuIEZvciBvdGhlciBnZXN0dXJlcywgcmVmZXJcbiAqIHRvIGB0aGlzLmpvaW50c2AgLSBhbiBhcnJheSBvZiBbV0wuT2JqZWN0XSgvanNhcGkvb2JqZWN0KSBhbmQgdXNlIHRoZSBqb2ludFxuICogaW5kaWNlcyBsaXN0ZWQgW2luIHRoZSBXZWJYUiBIYW5kIElucHV0IHNwZWNpZmljYXRpb25dKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vd2VieHItaGFuZC1pbnB1dC8jc2tlbGV0b24tam9pbnRzLXNlY3Rpb24pLlxuICpcbiAqIEl0IGlzIG9mdGVuIGRlc2lyZWQgdG8gdXNlIGVpdGhlciBoYW5kIHRyYWNraW5nIG9yIGNvbnRyb2xsZXJzLCBub3QgYm90aC5cbiAqIFRoaXMgY29tcG9uZW50IHByb3ZpZGVzIGBkZWFjdGl2YXRlQ2hpbGRyZW5XaXRob3V0UG9zZWAgdG8gaGlkZSB0aGUgaGFuZFxuICogdHJhY2tpbmcgdmlzdWFsaXphdGlvbiBpZiBubyBwb3NlIGlzIGF2YWlsYWJsZSBhbmQgYGNvbnRyb2xsZXJUb0RlYWN0aXZhdGVgXG4gKiBmb3IgZGlzYWJsaW5nIGFub3RoZXIgb2JqZWN0IG9uY2UgYSBoYW5kIHRyYWNraW5nIHBvc2UgKmlzKiBhdmFpbGFibGUuXG4gKiBPdXRzaWRlIG9mIFhSIHNlc3Npb25zLCB0cmFja2luZyBvciBjb250cm9sbGVycyBhcmUgbmVpdGhlciBlbmFibGVkIG5vciBkaXNhYmxlZFxuICogdG8gcGxheSB3ZWxsIHdpdGggdGhlIFt2ci1tb2RlLWFjdGl2ZS1zd2l0Y2hdKCN2ci1tb2RlLWFjdGl2ZS1zd2l0Y2gpIGNvbXBvbmVudC5cbiAqXG4gKiAqKlJlcXVpcmVtZW50czoqKlxuICogIC0gVG8gdXNlIGhhbmQtdHJhY2tpbmcsIGVuYWJsZSBcImpvaW50IHRyYWNraW5nXCIgaW4gYGNocm9tZTovL2ZsYWdzYCBvblxuICogICAgT2N1bHVzIEJyb3dzZXIgZm9yIE9jdWx1cyBRdWVzdC9PY3VsdXMgUXVlc3QgMi5cbiAqXG4gKiBTZWUgW0hhbmQgVHJhY2tpbmcgRXhhbXBsZV0oL3Nob3djYXNlL2hhbmQtdHJhY2tpbmcpLlxuICovXG5jbGFzcyBIYW5kVHJhY2tpbmcgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdoYW5kLXRyYWNraW5nJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIEhhbmRlZG5lc3MgZGV0ZXJtaW5pbmcgd2hldGhlciB0byByZWNlaXZlIHRyYWNraW5nIGlucHV0IGZyb20gcmlnaHQgb3IgbGVmdCBoYW5kICovXG4gICAgICAgIGhhbmRlZG5lc3M6IHsgdHlwZTogVHlwZS5FbnVtLCBkZWZhdWx0OiAnbGVmdCcsIHZhbHVlczogWydsZWZ0JywgJ3JpZ2h0J10gfSxcbiAgICAgICAgLyoqIChvcHRpb25hbCkgTWVzaCB0byB1c2UgdG8gdmlzdWFsaXplIGpvaW50cyAqL1xuICAgICAgICBqb2ludE1lc2g6IHsgdHlwZTogVHlwZS5NZXNoLCBkZWZhdWx0OiBudWxsIH0sXG4gICAgICAgIC8qKiBNYXRlcmlhbCB0byB1c2UgZm9yIGRpc3BsYXkuIEFwcGxpZWQgdG8gZWl0aGVyIHRoZSBzcGF3bmVkIHNraW5uZWQgbWVzaCBvciB0aGUgam9pbnQgc3BoZXJlcy4gKi9cbiAgICAgICAgam9pbnRNYXRlcmlhbDogeyB0eXBlOiBUeXBlLk1hdGVyaWFsLCBkZWZhdWx0OiBudWxsIH0sXG4gICAgICAgIC8qKiAob3B0aW9uYWwpIFNraW4gdG8gYXBwbHkgdHJhY2tlZCBqb2ludCBwb3NlcyB0by4gSWYgbm90IHByZXNlbnQsIGpvaW50IHNwaGVyZXMgd2lsbCBiZSB1c2VkIGZvciBkaXNwbGF5IGluc3RlYWQuICovXG4gICAgICAgIGhhbmRTa2luOiB7IHR5cGU6IFR5cGUuU2tpbiwgZGVmYXVsdDogbnVsbCB9LFxuICAgICAgICAvKiogRGVhY3RpdmF0ZSBjaGlsZHJlbiBpZiBubyBwb3NlIHdhcyB0cmFja2VkICovXG4gICAgICAgIGRlYWN0aXZhdGVDaGlsZHJlbldpdGhvdXRQb3NlOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgICAvKiogQ29udHJvbGxlciBvYmplY3RzIHRvIGFjdGl2YXRlIGluY2x1ZGluZyBjaGlsZHJlbiBpZiBubyBwb3NlIGlzIGF2YWlsYWJsZSAqL1xuICAgICAgICBjb250cm9sbGVyVG9EZWFjdGl2YXRlOiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXG4gICAgfTtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBbJ2xlZnQnLCAncmlnaHQnXVt0aGlzLmhhbmRlZG5lc3NdO1xuICAgIH1cbiAgICBqb2ludHMgPSB7fTtcbiAgICBzZXNzaW9uID0gbnVsbDtcbiAgICAvKiBXaGV0aGVyIGxhc3QgdXBkYXRlIGhhZCBhIGhhbmQgcG9zZSAqL1xuICAgIGhhc1Bvc2UgPSBmYWxzZTtcbiAgICBfY2hpbGRyZW5BY3RpdmUgPSB0cnVlO1xuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoISgnWFJIYW5kJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dlYlhSIEhhbmQgVHJhY2tpbmcgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuJyk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhbmRTa2luKSB7XG4gICAgICAgICAgICBsZXQgc2tpbiA9IHRoaXMuaGFuZFNraW47XG4gICAgICAgICAgICBsZXQgam9pbnRJZHMgPSBza2luLmpvaW50SWRzO1xuICAgICAgICAgICAgLyogTWFwIHRoZSB3cmlzdCAqL1xuICAgICAgICAgICAgdGhpcy5qb2ludHNbT1JERVJFRF9KT0lOVFNbMF1dID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChqb2ludElkc1swXSk7XG4gICAgICAgICAgICAvKiBJbmRleCBpbiBPUkRFUkVEX0pPSU5UUyB0aGF0IHdlIGFyZSBtYXBwaW5nIHRvIG91ciBqb2ludHMgKi9cbiAgICAgICAgICAgIC8qIFNraXAgdGh1bWIwIGpvaW50LCBzdGFydCBhdCB0aHVtYjEgKi9cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgam9pbnRJZHMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBsZXQgam9pbnQgPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGpvaW50SWRzW2pdKTtcbiAgICAgICAgICAgICAgICAvKiB0aXAgam9pbnRzIGFyZSBvbmx5IG5lZWRlZCBmb3Igam9pbnQgcmVuZGVyaW5nLCBzbyB3ZSBza2lwIHRob3NlIHdoaWxlIG1hcHBpbmcgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmpvaW50c1tqb2ludC5uYW1lXSA9IGpvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogSWYgd2UgaGF2ZSBhIGhhbmQgc2tpbiwgbm8gbmVlZCB0byBzcGF3biB0aGUgam9pbnRzLWJhc2VkIG9uZSAqL1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8qIFNwYXduIGpvaW50cyAqL1xuICAgICAgICBjb25zdCBqb2ludE9iamVjdHMgPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3RzKE9SREVSRURfSk9JTlRTLmxlbmd0aCwgdGhpcy5vYmplY3QucGFyZW50LCBPUkRFUkVEX0pPSU5UUy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IE9SREVSRURfSk9JTlRTLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBsZXQgam9pbnQgPSBqb2ludE9iamVjdHNbal07XG4gICAgICAgICAgICBqb2ludC5hZGRDb21wb25lbnQoTWVzaENvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHRoaXMuam9pbnRNZXNoLFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiB0aGlzLmpvaW50TWF0ZXJpYWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuam9pbnRzW09SREVSRURfSk9JTlRTW2pdXSA9IGpvaW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyKVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBWUkV2ZW50cyh0aGlzLmVuZ2luZS54ci5zZXNzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5oYXNQb3NlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24gJiYgdGhpcy5zZXNzaW9uLmlucHV0U291cmNlcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlc3Npb24uaW5wdXRTb3VyY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRTb3VyY2UgPSB0aGlzLnNlc3Npb24uaW5wdXRTb3VyY2VzW2ldO1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXRTb3VyY2UgfHxcbiAgICAgICAgICAgICAgICAgICAgIWlucHV0U291cmNlLmhhbmQgfHxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyAhPSB0aGlzLmhhbmRlZG5lc3MpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzUG9zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3Jpc3RTcGFjZSA9IGlucHV0U291cmNlLmhhbmQuZ2V0KCd3cmlzdCcpO1xuICAgICAgICAgICAgICAgIGlmICh3cmlzdFNwYWNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRKb2ludFBvc2Uod3Jpc3RTcGFjZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdCwgcC50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFJvdGF0aW9uTG9jYWwoaW52Um90YXRpb24pO1xuICAgICAgICAgICAgICAgIHF1YXQuY29uanVnYXRlKGludlJvdGF0aW9uLCBpbnZSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Mb2NhbChpbnZUcmFuc2xhdGlvbik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBPUkRFUkVEX0pPSU5UUy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2ludE5hbWUgPSBPUkRFUkVEX0pPSU5UU1tqXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9pbnQgPSB0aGlzLmpvaW50c1tqb2ludE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoam9pbnQgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGpvaW50UG9zZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50U3BhY2UgPSBpbnB1dFNvdXJjZS5oYW5kLmdldChqb2ludE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoam9pbnRTcGFjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlID0gdGhpcy5lbmdpbmUueHIuZnJhbWUuZ2V0Sm9pbnRQb3NlKGpvaW50U3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGpvaW50UG9zZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFuZFNraW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5yZXNldFRyYW5zbGF0aW9uUm90YXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludC50cmFuc2xhdGUoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLnBvc2l0aW9uLnggLSBpbnZUcmFuc2xhdGlvblswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5wb3NpdGlvbi55IC0gaW52VHJhbnNsYXRpb25bMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ucG9zaXRpb24ueiAtIGludlRyYW5zbGF0aW9uWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnJvdGF0ZShpbnZSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQucm90YXRlT2JqZWN0KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi54LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ub3JpZW50YXRpb24ueixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi53LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKGpvaW50LCBqb2ludFBvc2UudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBMYXN0IGpvaW50IHJhZGl1cyBvZiBlYWNoIGZpbmdlciBpcyBudWxsICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IGpvaW50UG9zZS5yYWRpdXMgfHwgMC4wMDc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQuc2V0U2NhbGluZ0xvY2FsKFtyLCByLCByXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmhhc1Bvc2UgJiYgdGhpcy5fY2hpbGRyZW5BY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWFjdGl2YXRlQ2hpbGRyZW5XaXRob3V0UG9zZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUodHJ1ZSwgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmhhc1Bvc2UgJiYgIXRoaXMuX2NoaWxkcmVuQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbkFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWFjdGl2YXRlQ2hpbGRyZW5XaXRob3V0UG9zZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUoZmFsc2UsIHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Q2hpbGRyZW5BY3RpdmUoYWN0aXZlLCBvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0IHx8IHRoaXMub2JqZWN0O1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG9iamVjdC5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChjb25zdCBvIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBvLmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUoYWN0aXZlLCBvKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0dyYWJiaW5nKCkge1xuICAgICAgICBjb25zdCBpbmRleFRpcFBvcyA9IFswLCAwLCAwXTtcbiAgICAgICAgcXVhdDIuZ2V0VHJhbnNsYXRpb24oaW5kZXhUaXBQb3MsIHRoaXMuam9pbnRzWydpbmRleC1maW5nZXItdGlwJ10udHJhbnNmb3JtTG9jYWwpO1xuICAgICAgICBjb25zdCB0aHVtYlRpcFBvcyA9IFswLCAwLCAwXTtcbiAgICAgICAgcXVhdDIuZ2V0VHJhbnNsYXRpb24odGh1bWJUaXBQb3MsIHRoaXMuam9pbnRzWyd0aHVtYi10aXAnXS50cmFuc2Zvcm1Mb2NhbCk7XG4gICAgICAgIHJldHVybiB2ZWMzLnNxckRpc3QodGh1bWJUaXBQb3MsIGluZGV4VGlwUG9zKSA8IDAuMDAxO1xuICAgIH1cblxuICAgIGlzUG9pbnRpbmcoKSB7XG4gICAgICAgIC8vIEFzc3VtaW5nIGVhY2ggZmluZ2VyIHRpcCBoYXMgYSBjb3JyZXNwb25kaW5nIGpvaW50IGluIHRoaXMuam9pbnRzXG4gICAgICAgIGNvbnN0IGluZGV4VGlwUG9zID0gWzAsIDAsIDBdO1xuICAgICAgICBxdWF0Mi5nZXRUcmFuc2xhdGlvbihpbmRleFRpcFBvcywgdGhpcy5qb2ludHNbJ2luZGV4LWZpbmdlci10aXAnXS50cmFuc2Zvcm1Mb2NhbCk7XG4gICAgXG4gICAgICAgIC8vIFdlJ2xsIHVzZSB0aGUgbWlkZGxlIGZpbmdlciB0aXAgYXMgYSByZWZlcmVuY2UgZm9yIHNpbXBsaWNpdHlcbiAgICAgICAgY29uc3QgbWlkZGxlVGlwUG9zID0gWzAsIDAsIDBdO1xuICAgICAgICBxdWF0Mi5nZXRUcmFuc2xhdGlvbihtaWRkbGVUaXBQb3MsIHRoaXMuam9pbnRzWydtaWRkbGUtZmluZ2VyLXRpcCddLnRyYW5zZm9ybUxvY2FsKTtcbiAgICBcbiAgICAgICAgLy8gRGVmaW5lIGEgdGhyZXNob2xkIGZvciBkaXN0YW5jZSB0aGF0IGluZGljYXRlcyBwb2ludGluZ1xuICAgICAgICBjb25zdCBwb2ludGluZ1RocmVzaG9sZCA9IDAuMDU7IC8vIFRoaXMgdmFsdWUgbWlnaHQgbmVlZCBhZGp1c3RtZW50XG4gICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGluZGV4IGZpbmdlciB0aXAgYW5kIG1pZGRsZSBmaW5nZXIgdGlwXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdmVjMy5zcXJEaXN0KGluZGV4VGlwUG9zLCBtaWRkbGVUaXBQb3MpO1xuICAgIFxuICAgICAgICAvLyBJZiB0aGUgZGlzdGFuY2UgaXMgZ3JlYXRlciB0aGFuIHRoZSB0aHJlc2hvbGQsIHdlIGNvbnNpZGVyIGl0IGFzIHBvaW50aW5nXG4gICAgICAgIHJldHVybiBkaXN0YW5jZSA+IHBvaW50aW5nVGhyZXNob2xkICogcG9pbnRpbmdUaHJlc2hvbGQ7XG4gICAgfVxuXG4gICAgc2V0dXBWUkV2ZW50cyhzKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHM7XG4gICAgfVxufVxuZXhwb3J0IHsgSGFuZFRyYWNraW5nIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCAnaG93bGVyJztcbi8qKlxuICogKFNwYXRpYWwpIGF1ZGlvIGxpc3RlbmVyIGJhc2VkIG9uIFtIb3dsZXIuanNdKGh0dHBzOi8vaG93bGVyanMuY29tLykuXG4gKlxuICogUmV0cmlldmVzIHRoZSBsb2NhdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlIG9iamVjdCBhbmQgcGFzc2VzIGl0XG4gKiB0byBbSG93bGVyLnBvcygpXShodHRwczovL2dpdGh1Yi5jb20vZ29sZGZpcmUvaG93bGVyLmpzI3Bvc3gteS16LWlkKVxuICogYW5kIFtIb3dsZXIub3JpZW50YXRpb24oKV0oaHR0cHM6Ly9naXRodWIuY29tL2dvbGRmaXJlL2hvd2xlci5qcyNvcmllbnRhdGlvbngteS16LWlkKS5cbiAqL1xuY2xhc3MgSG93bGVyQXVkaW9MaXN0ZW5lciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hvd2xlci1hdWRpby1saXN0ZW5lcic7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBXaGV0aGVyIGF1ZGlvIHNob3VsZCBiZSBzcGF0aWFsaXplZC9wb3NpdGlvbmFsLiAqL1xuICAgICAgICBzcGF0aWFsOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgIH07XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLmZ3ZCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMudXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5zcGF0aWFsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMub3JpZ2luKTtcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZCh0aGlzLmZ3ZCk7XG4gICAgICAgIHRoaXMub2JqZWN0LmdldFVwKHRoaXMudXApO1xuICAgICAgICBIb3dsZXIucG9zKHRoaXMub3JpZ2luWzBdLCB0aGlzLm9yaWdpblsxXSwgdGhpcy5vcmlnaW5bMl0pO1xuICAgICAgICBIb3dsZXIub3JpZW50YXRpb24odGhpcy5md2RbMF0sIHRoaXMuZndkWzFdLCB0aGlzLmZ3ZFsyXSwgdGhpcy51cFswXSwgdGhpcy51cFsxXSwgdGhpcy51cFsyXSk7XG4gICAgfVxufVxuZXhwb3J0IHsgSG93bGVyQXVkaW9MaXN0ZW5lciB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgJ2hvd2xlcic7XG4vKipcbiAqIChTcGF0aWFsKSBhdWRpbyBzb3VyY2UgYmFzZWQgb24gW0hvd2xlci5qc10oaHR0cHM6Ly9ob3dsZXJqcy5jb20vKS5cbiAqXG4gKiBDcmVhdGVzIGEgSG93bGVyIGF1ZGlvIHNvdXJjZSwgcGxheXMgYW4gYXVkaW8gZmlsZSBvbiBpdCBhbmQgdXBkYXRlc1xuICogaXRzIHBvc2l0aW9uLlxuICpcbiAqIE9wdGltaXplcyB0aGUgcG9zaXRpb24gdXBkYXRlIHRvIG9ubHkgdXBkYXRlIGlmIHRoZSBkaWZmZXJlbmNlIHRvIGxhc3RcbiAqIHBvc2l0aW9uIGlzIGxhcmdlciB0aGFuIGhhbGYgYSBjZW50aW1ldGVyLiBUbyBmb3JjZSB1cGRhdGVzIChlLmcuIGlmXG4gKiB0aGUgc291bmQgc291cmNlIGlzIF92ZXJ5XyBjbG9zZSB0byB0aGUgbGlzdGVuZXIpLFxuICogdXNlIGAudXBkYXRlUG9zaXRpb24oKWAuXG4gKi9cbmNsYXNzIEhvd2xlckF1ZGlvU291cmNlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaG93bGVyLWF1ZGlvLXNvdXJjZSc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBWb2x1bWUgKi9cbiAgICAgICAgdm9sdW1lOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEuMCB9LFxuICAgICAgICAvKiogV2hldGhlciBhdWRpbyBzaG91bGQgYmUgc3BhdGlhbGl6ZWQvcG9zaXRpb25hbCAqL1xuICAgICAgICBzcGF0aWFsOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgICAvKiogV2hldGhlciB0byBsb29wIHRoZSBzb3VuZCAqL1xuICAgICAgICBsb29wOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gc3RhcnQgcGxheWluZyBhdXRvbWF0aWNhbGx5ICovXG4gICAgICAgIGF1dG9wbGF5OiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgICAgLyoqIFVSTCB0byBhIHNvdW5kIGZpbGUgdG8gcGxheSAqL1xuICAgICAgICBzcmM6IHsgdHlwZTogVHlwZS5TdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gICAgfTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5hdWRpbyA9IG5ldyBIb3dsKHtcbiAgICAgICAgICAgIHNyYzogW3RoaXMuc3JjXSxcbiAgICAgICAgICAgIGxvb3A6IHRoaXMubG9vcCxcbiAgICAgICAgICAgIHZvbHVtZTogdGhpcy52b2x1bWUsXG4gICAgICAgICAgICBhdXRvcGxheTogdGhpcy5hdXRvcGxheSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGFzdFBsYXllZEF1ZGlvSWQgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMubGFzdE9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIGlmICh0aGlzLnNwYXRpYWwgJiYgdGhpcy5hdXRvcGxheSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3BhdGlhbCB8fCAhdGhpcy5sYXN0UGxheWVkQXVkaW9JZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLm9yaWdpbik7XG4gICAgICAgIC8qIE9ubHkgY2FsbCBwb3MoKSBpZiB0aGUgcG9zaXRpb24gbW92ZWQgbW9yZSB0aGFuIGhhbGYgYSBjZW50aW1ldGVyXG4gICAgICAgICAqIG90aGVyd2lzZSB0aGlzIGdldHMgdmVyeSBwZXJmb3JtYW5jZSBoZWF2eS5cbiAgICAgICAgICogU21hbGxlciBtb3ZlbWVudCBzaG91bGQgb25seSBiZSBwZXJjZWl2YWJsZSBpZiBjbG9zZSB0byB0aGVcbiAgICAgICAgICogZWFyIGFueXdheS4gKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMubGFzdE9yaWdpblswXSAtIHRoaXMub3JpZ2luWzBdKSA+IDAuMDA1IHx8XG4gICAgICAgICAgICBNYXRoLmFicyh0aGlzLmxhc3RPcmlnaW5bMV0gLSB0aGlzLm9yaWdpblsxXSkgPiAwLjAwNSB8fFxuICAgICAgICAgICAgTWF0aC5hYnModGhpcy5sYXN0T3JpZ2luWzJdIC0gdGhpcy5vcmlnaW5bMl0pID4gMC4wMDUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5hdWRpby5wb3ModGhpcy5vcmlnaW5bMF0sIHRoaXMub3JpZ2luWzFdLCB0aGlzLm9yaWdpblsyXSwgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCk7XG4gICAgICAgIHRoaXMubGFzdE9yaWdpbi5zZXQodGhpcy5vcmlnaW4pO1xuICAgIH1cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy5sYXN0UGxheWVkQXVkaW9JZClcbiAgICAgICAgICAgIHRoaXMuYXVkaW8uc3RvcCh0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKTtcbiAgICAgICAgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCA9IHRoaXMuYXVkaW8ucGxheSgpO1xuICAgICAgICBpZiAodGhpcy5zcGF0aWFsKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAoIXRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuYXVkaW8uc3RvcCh0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKTtcbiAgICAgICAgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCA9IG51bGw7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgLyogU3RvcCBzb3VuZCB3aGVuIGNvbXBvbmVudCBpcyBkZWFjdGl2YXRlZCBvciBkZXN0cm95ZWQsIGUuZy5cbiAgICAgICAgICogd2hlbiBzd2l0Y2hpbmcgc2NlbmVzICovXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH1cbn1cbmV4cG9ydCB7IEhvd2xlckF1ZGlvU291cmNlIH07XG4iLCAiLyoqXG4gKiBTZXQgdGhlIGRpZmZ1c2UvZmxhdCB0ZXh0dXJlIG9mIGtub3duIHBpcGVsaW5lcy5cbiAqXG4gKiBAcGFyYW0gbWF0IE1hdGVyaWFsIHRvIHNldCB0aGUgdGV4dHVyZSBvblxuICogQHBhcmFtIHRleHR1cmUgVGV4dHVyZSB0byBzZXRcbiAqIEBwYXJhbSBjdXN0b21UZXh0dXJlUHJvcGVydHkgVGV4dHVyZSBwcm9wZXJ0eSB0byBzZXQgb3IgYCdhdXRvJ2AgdG8gYXV0b21hdGljYWxseVxuICogICAgICBkZXRlY3QgdGhlIHJpZ2h0IHRleHR1cmUgcHJvcGVydHkgYmFzZWQgb24ga25vd24gcGlwZWxpbmUuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IHdhcyBzZXQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUobWF0LCB0ZXh0dXJlLCBjdXN0b21UZXh0dXJlUHJvcGVydHkpIHtcbiAgICBpZiAoY3VzdG9tVGV4dHVyZVByb3BlcnR5ICE9PSAnYXV0bycpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXRbY3VzdG9tVGV4dHVyZVByb3BlcnR5XSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBzaGFkZXIgPSBtYXQuc2hhZGVyO1xuICAgIGlmIChzaGFkZXIgPT09ICdGbGF0IE9wYXF1ZSBUZXh0dXJlZCcpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXQuZmxhdFRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGhvbmcgT3BhcXVlIFRleHR1cmVkJyB8fFxuICAgICAgICBzaGFkZXIgPT09ICdGb2xpYWdlJyB8fFxuICAgICAgICBzaGFkZXIgPT09ICdQaG9uZyBOb3JtYWxtYXBwZWQnIHx8XG4gICAgICAgIHNoYWRlciA9PT0gJ1Bob25nIExpZ2h0bWFwcGVkJykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG1hdC5kaWZmdXNlVGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdQYXJ0aWNsZScpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXQubWFpblRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnRGlzdGFuY2VGaWVsZFZlY3RvcicpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXQudmVjdG9yVGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdCYWNrZ3JvdW5kJyB8fCBzaGFkZXIgPT09ICdTa3knKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbWF0LnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGh5c2ljYWwgT3BhcXVlIFRleHR1cmVkJykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG1hdC5hbGJlZG9UZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlIH0gZnJvbSAnLi91dGlscy91dGlscy5qcyc7XG4vKipcbiAqIERvd25sb2FkcyBhbiBpbWFnZSBmcm9tIFVSTCBhbmQgYXBwbGllcyBpdCBhcyBgZGlmZnVzZVRleHR1cmVgIG9yIGBmbGF0VGV4dHVyZWBcbiAqIHRvIGFuIGF0dGFjaGVkIG1lc2ggY29tcG9uZW50LlxuICpcbiAqIE1hdGVyaWFscyBmcm9tIHRoZSBmb2xsb3dpbmcgc2hhZGVycyBhcmUgc3VwcG9ydGVkOlxuICogIC0gXCJQaG9uZyBPcGFxdWUgVGV4dHVyZWRcIlxuICogIC0gXCJGbGF0IE9wYXF1ZSBUZXh0dXJlZFwiXG4gKiAgLSBcIkJhY2tncm91bmRcIlxuICogIC0gXCJQaHlzaWNhbCBPcGFxdWUgVGV4dHVyZWRcIlxuICogIC0gXCJGb2xpYWdlXCJcbiAqL1xuY2xhc3MgSW1hZ2VUZXh0dXJlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaW1hZ2UtdGV4dHVyZSc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBVUkwgdG8gZG93bmxvYWQgdGhlIGltYWdlIGZyb20gKi9cbiAgICAgICAgdXJsOiBQcm9wZXJ0eS5zdHJpbmcoKSxcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHRoZSB2aWRlbyB0ZXh0dXJlIHRvICovXG4gICAgICAgIG1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxuICAgICAgICAvKiogTmFtZSBvZiB0aGUgdGV4dHVyZSBwcm9wZXJ0eSB0byBzZXQgKi9cbiAgICAgICAgdGV4dHVyZVByb3BlcnR5OiBQcm9wZXJ0eS5zdHJpbmcoJ2F1dG8nKSxcbiAgICB9O1xuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMubWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdpbWFnZS10ZXh0dXJlOiBtYXRlcmlhbCBwcm9wZXJ0eSBub3Qgc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmdpbmUudGV4dHVyZXNcbiAgICAgICAgICAgIC5sb2FkKHRoaXMudXJsLCAnYW5vbnltb3VzJylcbiAgICAgICAgICAgIC50aGVuKCh0ZXh0dXJlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYXQgPSB0aGlzLm1hdGVyaWFsO1xuICAgICAgICAgICAgaWYgKCFzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZShtYXQsIHRleHR1cmUsIHRoaXMudGV4dHVyZVByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NoYWRlcicsIG1hdC5zaGFkZXIsICdub3Qgc3VwcG9ydGVkIGJ5IGltYWdlLXRleHR1cmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycik7XG4gICAgfVxufVxuZXhwb3J0IHsgSW1hZ2VUZXh0dXJlIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xuLyoqXG4gKiBDb250cm9scyB0aGUgY2FtZXJhIHRocm91Z2ggbW91c2UgbW92ZW1lbnQuXG4gKlxuICogRWZmaWNpZW50bHkgaW1wbGVtZW50ZWQgdG8gYWZmZWN0IG9iamVjdCBvcmllbnRhdGlvbiBvbmx5XG4gKiB3aGVuIHRoZSBtb3VzZSBtb3Zlcy5cbiAqL1xuY2xhc3MgTW91c2VMb29rQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbW91c2UtbG9vayc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBNb3VzZSBsb29rIHNlbnNpdGl2aXR5ICovXG4gICAgICAgIHNlbnNpdGl0eTogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjI1IH0sXG4gICAgICAgIC8qKiBSZXF1aXJlIGEgbW91c2UgYnV0dG9uIHRvIGJlIHByZXNzZWQgdG8gY29udHJvbCB2aWV3LlxuICAgICAgICAgKiBPdGhlcndpc2UgdmlldyB3aWxsIGFsbHdheXMgZm9sbG93IG1vdXNlIG1vdmVtZW50ICovXG4gICAgICAgIHJlcXVpcmVNb3VzZURvd246IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgICAgIC8qKiBJZiBcIm1vdmVPbkNsaWNrXCIgaXMgZW5hYmxlZCwgbW91c2UgYnV0dG9uIHdoaWNoIHNob3VsZFxuICAgICAgICAgKiBiZSBoZWxkIGRvd24gdG8gY29udHJvbCB2aWV3ICovXG4gICAgICAgIG1vdXNlQnV0dG9uSW5kZXg6IHsgdHlwZTogVHlwZS5JbnQgfSxcbiAgICAgICAgLyoqIEVuYWJsZXMgcG9pbnRlciBsb2NrIG9uIFwibW91c2Vkb3duXCIgZXZlbnQgb24gY2FudmFzICovXG4gICAgICAgIHBvaW50ZXJMb2NrT25DbGljazogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgfTtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblkgPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblggPSAwO1xuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMucGFyZW50T3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5yb3RhdGlvblggPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IDA7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlICYmICh0aGlzLm1vdXNlRG93biB8fCAhdGhpcy5yZXF1aXJlTW91c2VEb3duKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRpb25ZID0gKC10aGlzLnNlbnNpdGl0eSAqIGUubW92ZW1lbnRYKSAvIDEwMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uWCA9ICgtdGhpcy5zZW5zaXRpdHkgKiBlLm1vdmVtZW50WSkgLyAxMDA7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25YICs9IHRoaXMucm90YXRpb25YO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWSArPSB0aGlzLnJvdGF0aW9uWTtcbiAgICAgICAgICAgICAgICAvKiAxLjUwNyA9IFBJLzIgPSA5MFx1MDBCMCAqL1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWCA9IE1hdGgubWluKDEuNTA3LCB0aGlzLmN1cnJlbnRSb3RhdGlvblgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWCA9IE1hdGgubWF4KC0xLjUwNywgdGhpcy5jdXJyZW50Um90YXRpb25YKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLm9iamVjdC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBhcmVudE9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRoaXMub3JpZ2luLCB0aGlzLm9yaWdpbiwgdGhpcy5wYXJlbnRPcmlnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5yZXNldFRyYW5zbGF0aW9uUm90YXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzEsIDAsIDBdLCB0aGlzLmN1cnJlbnRSb3RhdGlvblgpO1xuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHRoaXMuY3VycmVudFJvdGF0aW9uWSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlKHRoaXMub3JpZ2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZW5naW5lLmNhbnZhcztcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlckxvY2tPbkNsaWNrKSB7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2sgPVxuICAgICAgICAgICAgICAgICAgICBjYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMubW96UmVxdWVzdFBvaW50ZXJMb2NrIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVNb3VzZURvd24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlQnV0dG9uSW5kZXggPT0gMikge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5idXR0b24gPT0gdGhpcy5tb3VzZUJ1dHRvbkluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnZ3JhYmJpbmcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5idXR0b24gPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogUHJldmVudCBzY3JvbGxpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlLmJ1dHRvbiA9PSB0aGlzLm1vdXNlQnV0dG9uSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnaW5pdGlhbCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBNb3VzZUxvb2tDb21wb25lbnQgfTtcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG4vKipcbiAqIFNldCBwbGF5ZXIgaGVpZ2h0IGZvciBhIFktb2Zmc2V0IGFib3ZlIHRoZSBncm91bmQgZm9yXG4gKiAnbG9jYWwnIGFuZCAndmlld2VyJyByZWZlcmVuY2Ugc3BhY2VzLlxuICovXG5jbGFzcyBQbGF5ZXJIZWlnaHQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwbGF5ZXItaGVpZ2h0JztcbiAgICBoZWlnaHQgPSAxLjc1O1xuICAgIG9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2s7XG4gICAgb25TZXNzaW9uRW5kQ2FsbGJhY2s7XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChbMC4wLCB0aGlzLmhlaWdodCwgMC4wXSk7XG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25TdGFydC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvbkVuZC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvbkFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5hZGQodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xuICAgIH1cbiAgICBvblhSU2Vzc2lvblN0YXJ0KCkge1xuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5lbmdpbmUueHI/LmN1cnJlbnRSZWZlcmVuY2VTcGFjZVR5cGU7XG4gICAgICAgIGlmICh0eXBlICE9PSAnbG9jYWwnICYmIHR5cGUgIT09ICd2aWV3ZXInKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblhSU2Vzc2lvbkVuZCgpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZW5naW5lLnhyPy5jdXJyZW50UmVmZXJlbmNlU3BhY2VUeXBlO1xuICAgICAgICBpZiAodHlwZSAhPT0gJ2xvY2FsJyAmJiB0eXBlICE9PSAndmlld2VyJykge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChbMC4wLCB0aGlzLmhlaWdodCwgMC4wXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5mbG9hdCgwLjApXG5dLCBQbGF5ZXJIZWlnaHQucHJvdG90eXBlLCBcImhlaWdodFwiLCB2b2lkIDApO1xuZXhwb3J0IHsgUGxheWVySGVpZ2h0IH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbi8qKlxuICogU2V0cyB0aGUgdGFyZ2V0IGZyYW1lcmF0ZVxuICpcbiAqIFtVcGRhdGVzIHRoZSB0YXJnZXQgZnJhbWVyYXRlXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLyNkb20teHJzZXNzaW9uLXVwZGF0ZXRhcmdldGZyYW1lcmF0ZSlcbiAqIHRvIHRoZSBjbG9zZXN0IFtzdXBwb3J0ZWQgdGFyZ2V0IGZyYW1lcmF0ZV0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci8jZG9tLXhyc2Vzc2lvbi1zdXBwb3J0ZWRGcmFtZVJhdGVzKVxuICogdG8gdGhlIGdpdmVuIGBmcmFtZXJhdGVgLlxuICpcbiAqIFRoZSB0YXJnZXQgZnJhbWVyYXRlIGlzIHVzZWQgZm9yIHRoZSBkZXZpY2UncyBWUiBjb21wb3NpdG9yIGFzIGFuIGluZGljYXRpb24gb2YgaG93IG9mdGVuIHRvIHJlZnJlc2ggdGhlXG4gKiBzY3JlZW4gd2l0aCBuZXcgaW1hZ2VzLiBUaGlzIG1lYW5zIHRoZSBhcHAgd2lsbCBiZSBhc2tlZCB0byBwcm9kdWNlIGZyYW1lcyBpbiBtb3JlIHJlZ3VsYXIgaW50ZXJ2YWxzLFxuICogcG90ZW50aWFsbHkgc3BlbmRpbmcgbGVzcyB0aW1lIG9uIGZyYW1lcyB0aGF0IGFyZSBsaWtlbHkgdG8gYmUgZHJvcHBlZC5cbiAqXG4gKiBGb3IgYXBwcyB3aXRoIGhlYXZ5IGxvYWQsIHNldHRpbmcgYSB3ZWxsIG1hdGNoaW5nIHRhcmdldCBmcmFtZXJhdGUgY2FuIGltcHJvdmUgdGhlIGFwcHMgcmVuZGVyaW5nIHN0YWJpbGl0eVxuICogYW5kIHJlZHVjZSBzdHV0dGVyLlxuICpcbiAqIExpa2V3aXNlLCB0aGUgdGFyZ2V0IGZyYW1lcmF0ZSBjYW4gYmUgdXNlZCB0byBlbmFibGUgMTIwSHogcmVmcmVzaCByYXRlcyBvbiBPY3VsdXMgUXVlc3QgMiBvbiBzaW1wbGVyIGFwcHMuXG4gKi9cbmNsYXNzIFRhcmdldEZyYW1lcmF0ZSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RhcmdldC1mcmFtZXJhdGUnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICBmcmFtZXJhdGU6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogOTAuMCB9LFxuICAgIH07XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0VGFyZ2V0RnJhbWVyYXRlLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICB9XG4gICAgc2V0VGFyZ2V0RnJhbWVyYXRlKHMpIHtcbiAgICAgICAgaWYgKHMuc3VwcG9ydGVkRnJhbWVSYXRlcyAmJiBzLnVwZGF0ZVRhcmdldEZyYW1lUmF0ZSkge1xuICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMuZW5naW5lLnhyLnNlc3Npb24uc3VwcG9ydGVkRnJhbWVSYXRlcztcbiAgICAgICAgICAgIGEuc29ydCgoYSwgYikgPT4gTWF0aC5hYnMoYSAtIHRoaXMuZnJhbWVyYXRlKSAtIE1hdGguYWJzKGIgLSB0aGlzLmZyYW1lcmF0ZSkpO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi51cGRhdGVUYXJnZXRGcmFtZVJhdGUoYVswXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBUYXJnZXRGcmFtZXJhdGUgfTtcbiIsICJpbXBvcnQgeyB2ZWMzLCBxdWF0MiB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuLyoqXG4gKiBUZWxlcG9ydCBWUiBsb2NvbW90aW9uLlxuICpcbiAqIFNlZSBbVGVsZXBvcnQgRXhhbXBsZV0oL3Nob3djYXNlL3RlbGVwb3J0KS5cbiAqL1xuY2xhc3MgVGVsZXBvcnRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0ZWxlcG9ydCc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBPYmplY3QgdGhhdCB3aWxsIGJlIHBsYWNlZCBhcyBpbmRpY2lhdGlvbiBmb3J3aGVyZSB0aGUgcGxheWVyIHdpbGwgdGVsZXBvcnQgdG8uICovXG4gICAgICAgIHRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogUm9vdCBvZiB0aGUgcGxheWVyLCB0aGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBwb3NpdGlvbmVkIG9uIHRlbGVwb3J0YXRpb24uICovXG4gICAgICAgIGNhbVJvb3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIE5vbi12ciBjYW1lcmEgZm9yIHVzZSBvdXRzaWRlIG9mIFZSICovXG4gICAgICAgIGNhbTogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogTGVmdCBleWUgZm9yIHVzZSBpbiBWUiovXG4gICAgICAgIGV5ZUxlZnQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIFJpZ2h0IGV5ZSBmb3IgdXNlIGluIFZSKi9cbiAgICAgICAgZXllUmlnaHQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIEhhbmRlZG5lc3MgZm9yIFZSIGN1cnNvcnMgdG8gYWNjZXB0IHRyaWdnZXIgZXZlbnRzIG9ubHkgZnJvbSByZXNwZWN0aXZlIGNvbnRyb2xsZXIuICovXG4gICAgICAgIGhhbmRlZG5lc3M6IHtcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcbiAgICAgICAgICAgIHZhbHVlczogWydpbnB1dCBjb21wb25lbnQnLCAnbGVmdCcsICdyaWdodCcsICdub25lJ10sXG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5wdXQgY29tcG9uZW50JyxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqIENvbGxpc2lvbiBncm91cCBvZiB2YWxpZCBcImZsb29yXCIgb2JqZWN0cyB0aGF0IGNhbiBiZSB0ZWxlcG9ydGVkIG9uICovXG4gICAgICAgIGZsb29yR3JvdXA6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDEgfSxcbiAgICAgICAgLyoqIEhvdyBmYXIgdGhlIHRodW1ic3RpY2sgbmVlZHMgdG8gYmUgcHVzaGVkIHRvIGhhdmUgdGhlIHRlbGVwb3J0IHRhcmdldCBpbmRpY2F0b3Igc2hvdyB1cCAqL1xuICAgICAgICB0aHVtYnN0aWNrQWN0aXZhdGlvblRocmVzaGhvbGQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogLTAuNyB9LFxuICAgICAgICAvKiogSG93IGZhciB0aGUgdGh1bWJzdGljayBuZWVkcyB0byBiZSByZWxlYXNlZCB0byBleGVjdXRlIHRoZSB0ZWxlcG9ydCAqL1xuICAgICAgICB0aHVtYnN0aWNrRGVhY3RpdmF0aW9uVGhyZXNoaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjMgfSxcbiAgICAgICAgLyoqIE9mZnNldCB0byBhcHBseSB0byB0aGUgaW5kaWNhdG9yIG9iamVjdCwgZS5nLiB0byBhdm9pZCBpdCBmcm9tIFotZmlnaHRpbmcgd2l0aCB0aGUgZmxvb3IgKi9cbiAgICAgICAgaW5kaWNhdG9yWU9mZnNldDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjAxIH0sXG4gICAgICAgIC8qKiBNb2RlIGZvciByYXljYXN0aW5nLCB3aGV0aGVyIHRvIHVzZSBQaHlzWCBvciBzaW1wbGUgY29sbGlzaW9uIGNvbXBvbmVudHMgKi9cbiAgICAgICAgcmF5Q2FzdE1vZGU6IHtcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcbiAgICAgICAgICAgIHZhbHVlczogWydjb2xsaXNpb24nLCAncGh5c3gnXSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdjb2xsaXNpb24nLFxuICAgICAgICB9LFxuICAgICAgICAvKiogTWF4IGRpc3RhbmNlIGZvciBQaHlzWCByYXljYXN0ICovXG4gICAgICAgIG1heERpc3RhbmNlOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEwMC4wIH0sXG4gICAgfTtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLl9wcmV2VGh1bWJzdGlja0F4aXMgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICB0aGlzLl90ZW1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5fdGVtcFZlYzAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24gPSAwO1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xuICAgICAgICBpZiAoIXRoaXMuaW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBpbnB1dCBjb21wb25lbnQgaXMgcmVxdWlyZWQgb24gdGhlIG9iamVjdCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBUZWxlcG9ydCBpbmRpY2F0b3IgbWVzaCBpcyBtaXNzaW5nJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhbVJvb3QpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBjYW1Sb290IG5vdCBzZXQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuaGl0U3BvdCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMuX2hhc0hpdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9leHRyYVJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy5jYW0pIHtcbiAgICAgICAgICAgIHRoaXMuaXNNb3VzZUluZGljYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYW5kZWRuZXNzID09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0Q29tcCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGlmICghaW5wdXRDb21wKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd0ZWxlcG9ydCBjb21wb25lbnQgb24gb2JqZWN0JywgdGhpcy5vYmplY3QubmFtZSwgJ3dhcyBjb25maWd1cmVkIHdpdGggaGFuZGVkbmVzcyBcImlucHV0IGNvbXBvbmVudFwiLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2J1dCBvYmplY3QgaGFzIG5vIGlucHV0IGNvbXBvbmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IGlucHV0Q29tcC5oYW5kZWRuZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dENvbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBbJ2xlZnQnLCAncmlnaHQnXVt0aGlzLmhhbmRlZG5lc3MgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldHVwVlJFdmVudHMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICB9XG4gICAgLyogR2V0IGN1cnJlbnQgY2FtZXJhIFkgcm90YXRpb24gKi9cbiAgICBfZ2V0Q2FtUm90YXRpb24oKSB7XG4gICAgICAgIHRoaXMuZXllTGVmdC5nZXRGb3J3YXJkKHRoaXMuX3RlbXBWZWMpO1xuICAgICAgICB0aGlzLl90ZW1wVmVjWzFdID0gMDtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodGhpcy5fdGVtcFZlYywgdGhpcy5fdGVtcFZlYyk7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMuX3RlbXBWZWNbMF0sIHRoaXMuX3RlbXBWZWNbMl0pO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGxldCBpbnB1dExlbmd0aCA9IDA7XG4gICAgICAgIGlmICh0aGlzLmdhbWVwYWQgJiYgdGhpcy5nYW1lcGFkLmF4ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMF0gPSB0aGlzLmdhbWVwYWQuYXhlc1syXTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0gPSB0aGlzLmdhbWVwYWQuYXhlc1szXTtcbiAgICAgICAgICAgIGlucHV0TGVuZ3RoID1cbiAgICAgICAgICAgICAgICBNYXRoLmFicyh0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzBdKSArIE1hdGguYWJzKHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0luZGljYXRpbmcgJiZcbiAgICAgICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpc1sxXSA+PSB0aGlzLnRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZCAmJlxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSA8IHRoaXMudGh1bWJzdGlja0FjdGl2YXRpb25UaHJlc2hob2xkKSB7XG4gICAgICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc0luZGljYXRpbmcgJiZcbiAgICAgICAgICAgIGlucHV0TGVuZ3RoIDwgdGhpcy50aHVtYnN0aWNrRGVhY3RpdmF0aW9uVGhyZXNoaG9sZCkge1xuICAgICAgICAgICAgdGhpcy5pc0luZGljYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc0hpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RlbGVwb3J0UGxheWVyKHRoaXMuaGl0U3BvdCwgdGhpcy5fZXh0cmFSb3RhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNJbmRpY2F0aW5nICYmIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0ICYmIHRoaXMuaW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMuX3RlbXBWZWMwO1xuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZChvcmlnaW4pO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZFdvcmxkKHRoaXMuX3RlbXBWZWMpO1xuICAgICAgICAgICAgbGV0IHJheUhpdCA9ICh0aGlzLnJheUhpdCA9XG4gICAgICAgICAgICAgICAgdGhpcy5yYXlDYXN0TW9kZSA9PSAwXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5lbmdpbmUuc2NlbmUucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXApXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5lbmdpbmUucGh5c2ljcy5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cCwgdGhpcy5tYXhEaXN0YW5jZSkpO1xuICAgICAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhUm90YXRpb24gPVxuICAgICAgICAgICAgICAgICAgICBNYXRoLlBJICtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYXRhbjIodGhpcy5fY3VycmVudFN0aWNrQXhlc1swXSwgdGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0Q2FtUm90YXRpb24oKSArICh0aGlzLl9leHRyYVJvdGF0aW9uIC0gTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUocmF5SGl0LmxvY2F0aW9uc1swXSk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QudHJhbnNsYXRlKFtcbiAgICAgICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvcllPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0U3BvdC5zZXQocmF5SGl0LmxvY2F0aW9uc1swXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbmRpY2F0b3JIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QgJiYgdGhpcy5pc01vdXNlSW5kaWNhdGluZykge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlUHJlc3NlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpcy5zZXQodGhpcy5fY3VycmVudFN0aWNrQXhlcyk7XG4gICAgfVxuICAgIHNldHVwVlJFdmVudHMocykge1xuICAgICAgICAvKiBJZiBpbiBWUiwgb25lLXRpbWUgYmluZCB0aGUgbGlzdGVuZXIgKi9cbiAgICAgICAgdGhpcy5zZXNzaW9uID0gcztcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvKiBSZXNldCBjYWNoZSBvbmNlIHRoZSBzZXNzaW9uIGVuZHMgdG8gcmViaW5kIHNlbGVjdCBldGMsIGluIGNhc2VcbiAgICAgICAgICAgICAqIGl0IHN0YXJ0cyBhZ2FpbiAqL1xuICAgICAgICAgICAgdGhpcy5nYW1lcGFkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIGlmIChzLmlucHV0U291cmNlcyAmJiBzLmlucHV0U291cmNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5pbnB1dFNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRTb3VyY2UgPSBzLmlucHV0U291cmNlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkID0gaW5wdXRTb3VyY2UuZ2FtZXBhZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dHNvdXJjZXNjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUuYWRkZWQgJiYgZS5hZGRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUuYWRkZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0U291cmNlID0gZS5hZGRlZFtpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBpbnB1dFNvdXJjZS5nYW1lcGFkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBvbk1vdXNlRG93bigpIHtcbiAgICAgICAgdGhpcy5pc01vdXNlSW5kaWNhdGluZyA9IHRydWU7XG4gICAgfVxuICAgIG9uTW91c2VVcCgpIHtcbiAgICAgICAgdGhpcy5pc01vdXNlSW5kaWNhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2hhc0hpdCkge1xuICAgICAgICAgICAgdGhpcy5fdGVsZXBvcnRQbGF5ZXIodGhpcy5oaXRTcG90LCAwLjApO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uTW91c2VQcmVzc2VkKCkge1xuICAgICAgICBsZXQgb3JpZ2luID0gWzAsIDAsIDBdO1xuICAgICAgICB0aGlzLmNhbS5nZXRQb3NpdGlvbldvcmxkKG9yaWdpbik7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuY2FtLmdldEZvcndhcmQodGhpcy5fdGVtcFZlYyk7XG4gICAgICAgIGxldCByYXlIaXQgPSAodGhpcy5yYXlIaXQgPVxuICAgICAgICAgICAgdGhpcy5yYXlDYXN0TW9kZSA9PSAwXG4gICAgICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cClcbiAgICAgICAgICAgICAgICA6IHRoaXMuZW5naW5lLnBoeXNpY3MucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXAsIHRoaXMubWF4RGlzdGFuY2UpKTtcbiAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICBkaXJlY3Rpb25bMV0gPSAwO1xuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUoZGlyZWN0aW9uLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uID1cbiAgICAgICAgICAgICAgICAtTWF0aC5zaWduKGRpcmVjdGlvblsyXSkgKiBNYXRoLmFjb3MoZGlyZWN0aW9uWzBdKSAtIE1hdGguUEkgKiAwLjU7XG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbik7XG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUocmF5SGl0LmxvY2F0aW9uc1swXSk7XG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5oaXRTcG90ID0gcmF5SGl0LmxvY2F0aW9uc1swXTtcbiAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kaWNhdG9ySGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3RlbGVwb3J0UGxheWVyKG5ld1Bvc2l0aW9uLCByb3RhdGlvblRvQWRkKSB7XG4gICAgICAgIHRoaXMuY2FtUm9vdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzAsIDEsIDBdLCByb3RhdGlvblRvQWRkKTtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX3RlbXBWZWM7XG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5fdGVtcFZlYzA7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuZXllTGVmdC5nZXRQb3NpdGlvbldvcmxkKHApO1xuICAgICAgICAgICAgdGhpcy5leWVSaWdodC5nZXRQb3NpdGlvbldvcmxkKHAxKTtcbiAgICAgICAgICAgIHZlYzMuYWRkKHAsIHAsIHAxKTtcbiAgICAgICAgICAgIHZlYzMuc2NhbGUocCwgcCwgMC41KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FtLmdldFBvc2l0aW9uV29ybGQocCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW1Sb290LmdldFBvc2l0aW9uV29ybGQocDEpO1xuICAgICAgICB2ZWMzLnN1YihwLCBwMSwgcCk7XG4gICAgICAgIHBbMF0gKz0gbmV3UG9zaXRpb25bMF07XG4gICAgICAgIHBbMV0gPSBuZXdQb3NpdGlvblsxXTtcbiAgICAgICAgcFsyXSArPSBuZXdQb3NpdGlvblsyXTtcbiAgICAgICAgdGhpcy5jYW1Sb290LnNldFBvc2l0aW9uV29ybGQocCk7XG4gICAgfVxufVxuZXhwb3J0IHsgVGVsZXBvcnRDb21wb25lbnQgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUsIE1lc2gsIE1lc2hJbmRleFR5cGUsIE1lc2hBdHRyaWJ1dGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XG5jb25zdCBkaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3Qgb2Zmc2V0ID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IG5vcm1hbCA9IHZlYzMuY3JlYXRlKCk7XG4vKipcbiAqIER5bmFtaWMgbWVzaC1iYXNlZCB0cmFpbFxuICpcbiAqIFRoaXMgY29tcG9uZW50IGtlZXBzIHRyYWNrIG9mIHRoZSB3b3JsZCBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0IGl0J3MgYWRkZWQgdG8uXG4gKiBBdCBhIGZpeGVkIGludGVydmFsIHRoZSB3b3JsZCBwb3NpdGlvbiBpcyBzdG9yZWQgYXMgc3RhcnQgYW5kIGVuZCBwb2ludHMgb2YgdGhlIHRyYWlsIHNlZ21lbnRzLlxuICpcbiAqIFRoZSB0cmFpbCB0YXBlcnMgb2ZmIGFsb25nIGl0cyBsZW5ndGguIFVWIHRleHR1cmUgY29vcmRpbmF0ZXMgYXJlIHNldHVwIHN1Y2ggdGhhdCB0aGVcbiAqIFUtYXhpcyBjb3ZlcnMgdGhlIHdpZHRoIG9mIHRoZSB0cmFpbCBhbmQgdGhlIFYtYXhpcyBjb3ZlcnMgdGhlIGxlbmd0aCBvZiB0aGUgdHJhaWwuXG4gKiBUaGlzIGFsbG93cyB0aGUgdHJhaWwncyBhcHBlYXJhbmNlIHRvIGJlIGRlZmluZWQgdXNpbmcgYSB0ZXh0dXJlLlxuICovXG5jbGFzcyBUcmFpbCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RyYWlsJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFRoZSBtYXRlcmlhbCB0byBhcHBseSB0byB0aGUgdHJhaWwgbWVzaCAqL1xuICAgICAgICBtYXRlcmlhbDogeyB0eXBlOiBUeXBlLk1hdGVyaWFsIH0sXG4gICAgICAgIC8qKiBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSB0cmFpbCBtZXNoICovXG4gICAgICAgIHNlZ21lbnRzOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiA1MCB9LFxuICAgICAgICAvKiogVGhlIHRpbWUgaW50ZXJ2YWwgYmVmb3JlIHJlY29yZGluZyBhIG5ldyBwb2ludCAqL1xuICAgICAgICBpbnRlcnZhbDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjEgfSxcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgdHJhaWwgKGluIHdvcmxkIHNwYWNlKSAqL1xuICAgICAgICB3aWR0aDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAxLjAgfSxcbiAgICAgICAgLyoqIFdoZXRoZXIgb3Igbm90IHRoZSB0cmFpbCBzaG91bGQgdGFwZXIgb2ZmICovXG4gICAgICAgIHRhcGVyOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gZGVsdGEgdGltZSBpbiBzZWNvbmRzLCBhYm92ZSB3aGljaCB0aGUgdHJhaWwgcmVzZXRzLlxuICAgICAgICAgKiBUaGlzIHByZXZlbnRzIHRoZSB0cmFpbCBmcm9tIGp1bXBpbmcgYXJvdW5kIHdoZW4gdXBkYXRlcyBoYXBwZW5cbiAgICAgICAgICogaW5mcmVxdWVudGx5IChlLmcuIHdoZW4gdGhlIHRhYiBkb2Vzbid0IGhhdmUgZm9jdXMpLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVzZXRUaHJlc2hvbGQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC41IH0sXG4gICAgfTtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLnBvaW50cyA9IG5ldyBBcnJheSh0aGlzLnNlZ21lbnRzICsgMSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBUaGUgcG9pbnRzIGFycmF5IGlzIGNpcmN1bGFyLCBzbyBrZWVwIHRyYWNrIG9mIGl0cyBoZWFkICovXG4gICAgICAgIHRoaXMuY3VycmVudFBvaW50T2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy51cCA9IFswLCAxLCAwXTtcbiAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgPSB0aGlzLmludGVydmFsO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy50cmFpbENvbnRhaW5lciA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCgpO1xuICAgICAgICB0aGlzLm1lc2hDb21wID0gdGhpcy50cmFpbENvbnRhaW5lci5hZGRDb21wb25lbnQoJ21lc2gnKTtcbiAgICAgICAgdGhpcy5tZXNoQ29tcC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG4gICAgICAgIC8qIEVhY2ggcG9pbnQgd2lsbCBoYXZlIHR3byB2ZXJ0aWNlczsgb25lIG9uIGVpdGhlciBzaWRlICovXG4gICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gMiAqIHRoaXMucG9pbnRzLmxlbmd0aDtcbiAgICAgICAgLyogRWFjaCBzZWdtZW50IGNvbnNpc3RzIG9mIHR3byB0cmlhbmdsZXMgKi9cbiAgICAgICAgdGhpcy5pbmRleERhdGEgPSBuZXcgVWludDMyQXJyYXkoNiAqIHRoaXMuc2VnbWVudHMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgdiA9IDA7IGkgPCB2ZXJ0ZXhDb3VudCAtIDI7IGkgKz0gMiwgdiArPSA2KSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4RGF0YVxuICAgICAgICAgICAgICAgIC5zdWJhcnJheSh2LCB2ICsgNilcbiAgICAgICAgICAgICAgICAuc2V0KFtpICsgMSwgaSArIDAsIGkgKyAyLCBpICsgMiwgaSArIDMsIGkgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IE1lc2godGhpcy5lbmdpbmUsIHtcbiAgICAgICAgICAgIHZlcnRleENvdW50OiB2ZXJ0ZXhDb3VudCxcbiAgICAgICAgICAgIGluZGV4RGF0YTogdGhpcy5pbmRleERhdGEsXG4gICAgICAgICAgICBpbmRleFR5cGU6IE1lc2hJbmRleFR5cGUuVW5zaWduZWRJbnQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1lc2hDb21wLm1lc2ggPSB0aGlzLm1lc2g7XG4gICAgfVxuICAgIHVwZGF0ZVZlcnRpY2VzKCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSB0aGlzLm1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xuICAgICAgICBjb25zdCB0ZXhDb29yZHMgPSB0aGlzLm1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuVGV4dHVyZUNvb3JkaW5hdGUpO1xuICAgICAgICBjb25zdCBub3JtYWxzID0gdGhpcy5tZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLk5vcm1hbCk7XG4gICAgICAgIHZlYzMuc2V0KGRpcmVjdGlvbiwgMCwgMCwgMCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnIgPSB0aGlzLnBvaW50c1sodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIGkgKyAxKSAlIHRoaXMucG9pbnRzLmxlbmd0aF07XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5wb2ludHNbKHRoaXMuY3VycmVudFBvaW50SW5kZXggKyBpICsgMikgJSB0aGlzLnBvaW50cy5sZW5ndGhdO1xuICAgICAgICAgICAgLyogVGhlIGxhc3QgcG9pbnQgaGFzIG5vIG5leHQsIHNvIHJlLXVzZSB0aGUgZGlyZWN0aW9uIG9mIHRoZSBwcmV2aW91cyBzZWdtZW50ICovXG4gICAgICAgICAgICBpZiAoaSAhPT0gdGhpcy5wb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHZlYzMuc3ViKGRpcmVjdGlvbiwgbmV4dCwgY3Vycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2ZWMzLmNyb3NzKG9mZnNldCwgdGhpcy51cCwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG9mZnNldCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVGcmFjdGlvbiA9IDEuMCAtIHRoaXMudGltZVRpbGxOZXh0IC8gdGhpcy5pbnRlcnZhbDtcbiAgICAgICAgICAgIGNvbnN0IGZyYWN0aW9uID0gKGkgLSB0aW1lRnJhY3Rpb24pIC8gdGhpcy5zZWdtZW50cztcbiAgICAgICAgICAgIHZlYzMuc2NhbGUob2Zmc2V0LCBvZmZzZXQsICgodGhpcy50YXBlciA/IGZyYWN0aW9uIDogMS4wKSAqIHRoaXMud2lkdGgpIC8gMi4wKTtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5zZXQoaSAqIDIsIFtcbiAgICAgICAgICAgICAgICBjdXJyWzBdIC0gb2Zmc2V0WzBdLFxuICAgICAgICAgICAgICAgIGN1cnJbMV0gLSBvZmZzZXRbMV0sXG4gICAgICAgICAgICAgICAgY3VyclsyXSAtIG9mZnNldFsyXSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcG9zaXRpb25zLnNldChpICogMiArIDEsIFtcbiAgICAgICAgICAgICAgICBjdXJyWzBdICsgb2Zmc2V0WzBdLFxuICAgICAgICAgICAgICAgIGN1cnJbMV0gKyBvZmZzZXRbMV0sXG4gICAgICAgICAgICAgICAgY3VyclsyXSArIG9mZnNldFsyXSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgaWYgKG5vcm1hbHMpIHtcbiAgICAgICAgICAgICAgICB2ZWMzLmNyb3NzKG5vcm1hbCwgZGlyZWN0aW9uLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5vcm1hbCwgbm9ybWFsKTtcbiAgICAgICAgICAgICAgICBub3JtYWxzLnNldChpICogMiwgbm9ybWFsKTtcbiAgICAgICAgICAgICAgICBub3JtYWxzLnNldChpICogMiArIDEsIG5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGV4Q29vcmRzKSB7XG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzLnNldChpICogMiwgWzAsIGZyYWN0aW9uXSk7XG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzLnNldChpICogMiArIDEsIFsxLCBmcmFjdGlvbl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIE5vdGlmeSBXTEUgdGhhdCB0aGUgbWVzaCBoYXMgY2hhbmdlZCAqL1xuICAgICAgICB0aGlzLm1lc2gudXBkYXRlKCk7XG4gICAgfVxuICAgIHJlc2V0VHJhaWwoKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb2ludHNbMF0pO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2ZWMzLmNvcHkodGhpcy5wb2ludHNbaV0sIHRoaXMucG9pbnRzWzBdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRQb2ludEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgPSB0aGlzLmludGVydmFsO1xuICAgIH1cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgLT0gZHQ7XG4gICAgICAgIGlmIChkdCA+IHRoaXMucmVzZXRUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRUcmFpbCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRpbWVUaWxsTmV4dCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBvaW50SW5kZXggPSAodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIDEpICUgdGhpcy5wb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgPSAodGhpcy50aW1lVGlsbE5leHQgJSB0aGlzLmludGVydmFsKSArIHRoaXMuaW50ZXJ2YWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvaW50c1t0aGlzLmN1cnJlbnRQb2ludEluZGV4XSk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICB9XG4gICAgb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5yZXNldFRyYWlsKCk7XG4gICAgfVxuICAgIG9uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50cmFpbENvbnRhaW5lci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubWVzaC5kZXN0cm95KCk7XG4gICAgfVxufVxuZXhwb3J0IHsgVHJhaWwgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xuZnVuY3Rpb24gY2xhbXAodiwgYSwgYikge1xuICAgIHJldHVybiBNYXRoLm1heChhLCBNYXRoLm1pbih2LCBiKSk7XG59XG5jb25zdCByb290U2NhbGluZyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCB0ZW1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5jb25zdCBtaWRkbGVQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuY29uc3QgZW5kUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbmNvbnN0IHRhcmdldFBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCBoZWxwZXJQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuY29uc3Qgcm9vdFRyYW5zZm9ybSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG5jb25zdCBtaWRkbGVUcmFuc2Zvcm0gPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuY29uc3QgZW5kVHJhbnNmb3JtID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbi8qKlxuICogU29sdmUgaW52ZXJzZSBraW5lbWF0aWNzIGZvciBhIHR3byBqb2ludCBjaGFpbnNcbiAqXG4gKiBJbnNwaXJlZCBieSBodHRwOi8vdGhlb3JhbmdlZHVjay5jb20vcGFnZS9zaW1wbGUtdHdvLWpvaW50XG4gKi9cbmNvbnN0IHR3b0pvaW50SUsgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRhID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBjb25zdCBjYSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgY29uc3QgYmEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIGNvbnN0IGFiID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBjb25zdCBjYiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgY29uc3QgYXhpczAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIGNvbnN0IGF4aXMxID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBjb25zdCB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJvb3QsIG1pZGRsZSwgYiwgYywgdGFyZ2V0UG9zLCBlcHMsIGhlbHBlcikge1xuICAgICAgICAvKiBhID0gWzAsIDAsIDBdLCBzaW5jZSBldmVyeXRoaW5nIGlzIGNvbXB1dGVkIGluIHJvb3Qtc3BhY2UgKi9cbiAgICAgICAgYmEuc2V0KGIpO1xuICAgICAgICBjb25zdCBsYWIgPSB2ZWMzLmxlbmd0aChiYSk7XG4gICAgICAgIHZlYzMuc3ViKHRhLCBiLCBjKTtcbiAgICAgICAgY29uc3QgbGNiID0gdmVjMy5sZW5ndGgodGEpO1xuICAgICAgICB0YS5zZXQodGFyZ2V0UG9zKTtcbiAgICAgICAgY29uc3QgbGF0ID0gY2xhbXAodmVjMy5sZW5ndGgodGEpLCBlcHMsIGxhYiArIGxjYiAtIGVwcyk7XG4gICAgICAgIGNhLnNldChjKTtcbiAgICAgICAgdmVjMy5zY2FsZShhYiwgYiwgLTEpO1xuICAgICAgICB2ZWMzLnN1YihjYiwgYywgYik7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGNhLCBjYSk7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGJhLCBiYSk7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGFiLCBhYik7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGNiLCBjYik7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRhLCB0YSk7XG4gICAgICAgIC8qIFN1cHBvc2VkbHkgbnVtZXJpY2FsIGVycm9ycyBjYW4gY2F1c2UgdGhlIGRvdCB0byBnbyBvdXQgb2YgLTEsIDEgcmFuZ2UgKi9cbiAgICAgICAgY29uc3QgYWNfYWJfMCA9IE1hdGguYWNvcyhjbGFtcCh2ZWMzLmRvdChjYSwgYmEpLCAtMSwgMSkpO1xuICAgICAgICBjb25zdCBiYV9iY18wID0gTWF0aC5hY29zKGNsYW1wKHZlYzMuZG90KGFiLCBjYiksIC0xLCAxKSk7XG4gICAgICAgIGNvbnN0IGFjX2F0XzAgPSBNYXRoLmFjb3MoY2xhbXAodmVjMy5kb3QoY2EsIHRhKSwgLTEsIDEpKTtcbiAgICAgICAgY29uc3QgYWNfYWJfMSA9IE1hdGguYWNvcyhjbGFtcCgobGNiICogbGNiIC0gbGFiICogbGFiIC0gbGF0ICogbGF0KSAvICgtMiAqIGxhYiAqIGxhdCksIC0xLCAxKSk7XG4gICAgICAgIGNvbnN0IGJhX2JjXzEgPSBNYXRoLmFjb3MoY2xhbXAoKGxhdCAqIGxhdCAtIGxhYiAqIGxhYiAtIGxjYiAqIGxjYikgLyAoLTIgKiBsYWIgKiBsY2IpLCAtMSwgMSkpO1xuICAgICAgICBpZiAoaGVscGVyKSB7XG4gICAgICAgICAgICB2ZWMzLnN1YihiYSwgaGVscGVyLCBiKTtcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKGJhLCBiYSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVjMy5jcm9zcyhheGlzMCwgY2EsIGJhKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYXhpczAsIGF4aXMwKTtcbiAgICAgICAgdmVjMy5jcm9zcyhheGlzMSwgYywgdGFyZ2V0UG9zKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYXhpczEsIGF4aXMxKTtcbiAgICAgICAgbWlkZGxlLnRyYW5zZm9ybVZlY3RvckludmVyc2VMb2NhbCh0ZW1wLCBheGlzMCk7XG4gICAgICAgIHJvb3Qucm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGF4aXMxLCBhY19hdF8wKTtcbiAgICAgICAgcm9vdC5yb3RhdGVBeGlzQW5nbGVSYWRPYmplY3QoYXhpczAsIGFjX2FiXzEgLSBhY19hYl8wKTtcbiAgICAgICAgbWlkZGxlLnJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdChheGlzMCwgYmFfYmNfMSAtIGJhX2JjXzApO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBJbnZlcnNlIGtpbmVtYXRpY3MgZm9yIHR3by1qb2ludCBjaGFpbnMgKGUuZy4ga25lZXMgb3IgZWxib3dzKVxuICovXG5jbGFzcyBUd29Kb2ludElrU29sdmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndHdvLWpvaW50LWlrLXNvbHZlcic7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBSb290IGJvbmUsIG5ldmVyIG1vdmVzICovXG4gICAgICAgIHJvb3Q6IFByb3BlcnR5Lm9iamVjdCgpLFxuICAgICAgICAvKiogQm9uZSBhdHRhY2hlZCB0byB0aGUgcm9vdCAqL1xuICAgICAgICBtaWRkbGU6IFByb3BlcnR5Lm9iamVjdCgpLFxuICAgICAgICAvKiogQm9uZSBhdHRhY2hlZCB0byB0aGUgbWlkZGxlICovXG4gICAgICAgIGVuZDogUHJvcGVydHkub2JqZWN0KCksXG4gICAgICAgIC8qKiBUYXJnZXQgdGhlIGpvaW5zIHNob3VsZCByZWFjaCBmb3IgKi9cbiAgICAgICAgdGFyZ2V0OiBQcm9wZXJ0eS5vYmplY3QoKSxcbiAgICAgICAgLyoqIEZsYWcgZm9yIGNvcHlpbmcgcm90YXRpb24gZnJvbSB0YXJnZXQgdG8gZW5kICovXG4gICAgICAgIGNvcHlUYXJnZXRSb3RhdGlvbjogUHJvcGVydHkuYm9vbCh0cnVlKSxcbiAgICAgICAgLyoqIEhlbHBlciBvYmplY3QgdG8gdXNlIHRvIGRldGVybWluZSBqb2ludCByb3RhdGlvbiBheGlzICovXG4gICAgICAgIGhlbHBlcjogUHJvcGVydHkub2JqZWN0KCksXG4gICAgfTtcbiAgICB0aW1lID0gMDtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5yb290LmdldFRyYW5zZm9ybUxvY2FsKHJvb3RUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLm1pZGRsZS5nZXRUcmFuc2Zvcm1Mb2NhbChtaWRkbGVUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLmVuZC5nZXRUcmFuc2Zvcm1Mb2NhbChlbmRUcmFuc2Zvcm0pO1xuICAgIH1cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgdGhpcy50aW1lICs9IGR0O1xuICAgICAgICAvKiBSZXNldCB0byBvcmlnaW5hbCBwb3NlIGZvciBzdGFiaWxpdHkgKi9cbiAgICAgICAgdGhpcy5yb290LnNldFRyYW5zZm9ybUxvY2FsKHJvb3RUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLm1pZGRsZS5zZXRUcmFuc2Zvcm1Mb2NhbChtaWRkbGVUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLmVuZC5zZXRUcmFuc2Zvcm1Mb2NhbChlbmRUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLnJvb3QuZ2V0U2NhbGluZ1dvcmxkKHJvb3RTY2FsaW5nKTtcbiAgICAgICAgLyogR2V0IGpvaW50IHBvc2l0aW9ucyBpbiByb290LXNwYWNlICovXG4gICAgICAgIHRoaXMubWlkZGxlLmdldFBvc2l0aW9uTG9jYWwobWlkZGxlUG9zKTtcbiAgICAgICAgdGhpcy5lbmQuZ2V0UG9zaXRpb25Mb2NhbChlbmRQb3MpO1xuICAgICAgICB0aGlzLm1pZGRsZS50cmFuc2Zvcm1Qb2ludExvY2FsKGVuZFBvcywgZW5kUG9zKTtcbiAgICAgICAgaWYgKHRoaXMuaGVscGVyKSB7XG4gICAgICAgICAgICAvKiBHZXQgaGVscGVyIHBvc2l0aW9uIGluIHJvb3Qgc3BhY2UgKi9cbiAgICAgICAgICAgIHRoaXMuaGVscGVyLmdldFBvc2l0aW9uV29ybGQoaGVscGVyUG9zKTtcbiAgICAgICAgICAgIHRoaXMucm9vdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZChoZWxwZXJQb3MsIGhlbHBlclBvcyk7XG4gICAgICAgICAgICB2ZWMzLmRpdihoZWxwZXJQb3MsIGhlbHBlclBvcywgcm9vdFNjYWxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIC8qIEdldCB0YXJnZXQgcG9zaXRpb24gaW4gcm9vdCBzcGFjZSAqL1xuICAgICAgICB0aGlzLnRhcmdldC5nZXRQb3NpdGlvbldvcmxkKHRhcmdldFBvcyk7XG4gICAgICAgIHRoaXMucm9vdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0YXJnZXRQb3MsIHRhcmdldFBvcyk7XG4gICAgICAgIHZlYzMuZGl2KHRhcmdldFBvcywgdGFyZ2V0UG9zLCByb290U2NhbGluZyk7XG4gICAgICAgIHR3b0pvaW50SUsodGhpcy5yb290LCB0aGlzLm1pZGRsZSwgbWlkZGxlUG9zLCBlbmRQb3MsIHRhcmdldFBvcywgMC4wMSwgdGhpcy5oZWxwZXIgPyBoZWxwZXJQb3MgOiBudWxsLCB0aGlzLnRpbWUpO1xuICAgICAgICBpZiAodGhpcy5jb3B5VGFyZ2V0Um90YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZW5kLnNldFJvdGF0aW9uV29ybGQodGhpcy50YXJnZXQuZ2V0Um90YXRpb25Xb3JsZCh0ZW1wUXVhdCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IHsgVHdvSm9pbnRJa1NvbHZlciB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVGV4dHVyZSwgUHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUgfSBmcm9tICcuL3V0aWxzL3V0aWxzLmpzJztcbi8qKlxuICogRG93bmxvYWRzIGEgdmlkZW8gZnJvbSBVUkwgYW5kIGFwcGxpZXMgaXQgYXMgYGRpZmZ1c2VUZXh0dXJlYCBvciBgZmxhdFRleHR1cmVgXG4gKiBvbiBnaXZlbiBtYXRlcmlhbC5cbiAqXG4gKiBWaWRlbyB0ZXh0dXJlcyBuZWVkIHRvIGJlIHVwZGF0ZWQgcmVndWxhcmx5IHdoZW5ldmVyXG4gKiBhIG5ldyBmcmFtZSBpcyBhdmFpbGFibGUuIFRoaXMgY29tcG9uZW50IGhhbmRsZXMgdGhlXG4gKiBkZXRlY3Rpb24gb2YgYSBuZXcgZnJhbWUgYW5kIHVwZGF0ZXMgdGhlIHRleHR1cmUgdG9cbiAqIHJlZmxlY3QgdGhlIHZpZGVvJ3MgY3VycmVudCBmcmFtZS5cbiAqXG4gKiBNYXRlcmlhbHMgZnJvbSB0aGUgZm9sbG93aW5nIHNoYWRlcnMgYXJlIHN1cHBvcnRlZDpcbiAqICAtIFwiUGhvbmcgT3BhcXVlIFRleHR1cmVkXCJcbiAqICAtIFwiRmxhdCBPcGFxdWUgVGV4dHVyZWRcIlxuICogIC0gXCJCYWNrZ3JvdW5kXCJcbiAqICAtIFwiUGh5c2ljYWwgT3BhcXVlIFRleHR1cmVkXCJcbiAqICAtIFwiRm9saWFnZVwiXG4gKlxuICogVGhlIHZpZGVvIGNhbiBiZSBhY2Nlc3NlZCB0aHJvdWdoIGB0aGlzLnZpZGVvYDpcbiAqXG4gKiBgYGBqc1xuICogICBsZXQgdmlkZW9UZXh0dXJlID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCd2aWRlby10ZXh0dXJlJyk7XG4gKiAgIHZpZGVvVGV4dHVyZS52aWRlby5wbGF5KCk7XG4gKiAgIHZpZGVvVGV4dHVyZS52aWRlby5wYXVzZSgpO1xuICogYGBgXG4gKlxuICogU2VlIFtWaWRlbyBFeGFtcGxlXSgvc2hvd2Nhc2UvdmlkZW8pLlxuICovXG5jbGFzcyBWaWRlb1RleHR1cmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2aWRlby10ZXh0dXJlJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFVSTCB0byBkb3dubG9hZCB2aWRlbyBmcm9tICovXG4gICAgICAgIHVybDogUHJvcGVydHkuc3RyaW5nKCksXG4gICAgICAgIC8qKiBNYXRlcmlhbCB0byBhcHBseSB0aGUgdmlkZW8gdGV4dHVyZSB0byAqL1xuICAgICAgICBtYXRlcmlhbDogUHJvcGVydHkubWF0ZXJpYWwoKSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gbG9vcCB0aGUgdmlkZW8gKi9cbiAgICAgICAgbG9vcDogUHJvcGVydHkuYm9vbCh0cnVlKSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gYXV0b21hdGljYWxseSBzdGFydCBwbGF5aW5nIHRoZSB2aWRlbyAqL1xuICAgICAgICBhdXRvcGxheTogUHJvcGVydHkuYm9vbCh0cnVlKSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gbXV0ZSBzb3VuZCAqL1xuICAgICAgICBtdXRlZDogUHJvcGVydHkuYm9vbCh0cnVlKSxcbiAgICAgICAgLyoqIE5hbWUgb2YgdGhlIHRleHR1cmUgcHJvcGVydHkgdG8gc2V0ICovXG4gICAgICAgIHRleHR1cmVQcm9wZXJ0eTogUHJvcGVydHkuc3RyaW5nKCdhdXRvJyksXG4gICAgfTtcbiAgICBpbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMubWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCd2aWRlby10ZXh0dXJlOiBtYXRlcmlhbCBwcm9wZXJ0eSBub3Qgc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCA9IHRydWU7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgdGhpcy52aWRlby5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgdGhpcy52aWRlby5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICB0aGlzLnZpZGVvLnBsYXlzSW5saW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWRlby5sb29wID0gdGhpcy5sb29wO1xuICAgICAgICB0aGlzLnZpZGVvLm11dGVkID0gdGhpcy5tdXRlZDtcbiAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsYXlBZnRlclVzZXJHZXN0dXJlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5QWZ0ZXJVc2VyR2VzdHVyZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBseVRleHR1cmUoKSB7XG4gICAgICAgIGNvbnN0IG1hdCA9IHRoaXMubWF0ZXJpYWw7XG4gICAgICAgIGNvbnN0IHNoYWRlciA9IG1hdC5zaGFkZXI7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSAodGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5lbmdpbmUsIHRoaXMudmlkZW8pKTtcbiAgICAgICAgaWYgKCFzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZShtYXQsIHRleHR1cmUsIHRoaXMudGV4dHVyZVByb3BlcnR5KSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2hhZGVyJywgc2hhZGVyLCAnbm90IHN1cHBvcnRlZCBieSB2aWRlby10ZXh0dXJlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdyZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrJyBpbiB0aGlzLnZpZGVvKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sodGhpcy51cGRhdGVWaWRlby5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkZWQgJiYgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qIEFwcGx5IHRleHR1cmUgb24gZmlyc3QgZnJhbWUgdXBkYXRlIHJlcXVlc3QgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5VGV4dHVyZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVZpZGVvKCkge1xuICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWRlby5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMudXBkYXRlVmlkZW8uYmluZCh0aGlzKSk7XG4gICAgfVxufVxuZXhwb3J0IHsgVmlkZW9UZXh0dXJlIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbi8qKlxuICogQWxsb3dzIHN3aXRjaGluZyBhbGwgb3RoZXIgY29tcG9uZW50cyBvbiBhbiBvYmplY3QgdG8gYWN0aXZlL2luYWN0aXZlXG4gKiBkZXBlbmRpbmcgb24gd2hldGhlciBhIFZSL0FSIHNlc3Npb24gaXMgYWN0aXZlLlxuICpcbiAqIFVzZWZ1bCBmb3IgaGlkaW5nIGNvbnRyb2xsZXJzIHVudGlsIHRoZSB1c2VyIGVudGVycyBWUiBmb3IgZXhhbXBsZS5cbiAqL1xuY2xhc3MgVnJNb2RlQWN0aXZlU3dpdGNoIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndnItbW9kZS1hY3RpdmUtc3dpdGNoJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFdoZW4gY29tcG9uZW50cyBzaG91bGQgYmUgYWN0aXZlOiBJbiBWUiBvciB3aGVuIG5vdCBpbiBWUiAqL1xuICAgICAgICBhY3RpdmF0ZUNvbXBvbmVudHM6IHtcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcbiAgICAgICAgICAgIHZhbHVlczogWydpbiBWUicsICdpbiBub24tVlInXSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbiBWUicsXG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBXaGV0aGVyIGNoaWxkIG9iamVjdCdzIGNvbXBvbmVudHMgc2hvdWxkIGJlIGFmZmVjdGVkICovXG4gICAgICAgIGFmZmVjdENoaWxkcmVuOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgIH07XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmdldENvbXBvbmVudHModGhpcy5vYmplY3QpO1xuICAgICAgICAvKiBJbml0aWFsIGFjdGl2YXRpb24vZGVhY3RpdmF0aW9uICovXG4gICAgICAgIHRoaXMub25YUlNlc3Npb25FbmQoKTtcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvblN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uRW5kLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLmFkZCh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcbiAgICB9XG4gICAgb25EZWFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5yZW1vdmUodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XG4gICAgfVxuICAgIGdldENvbXBvbmVudHMob2JqKSB7XG4gICAgICAgIGNvbnN0IGNvbXBzID0gb2JqLmdldENvbXBvbmVudHMoKS5maWx0ZXIoKGMpID0+IGMudHlwZSAhPT0gJ3ZyLW1vZGUtYWN0aXZlLXN3aXRjaCcpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSB0aGlzLmNvbXBvbmVudHMuY29uY2F0KGNvbXBzKTtcbiAgICAgICAgaWYgKHRoaXMuYWZmZWN0Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IG9iai5jaGlsZHJlbjtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudHMoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNldENvbXBvbmVudHNBY3RpdmUoYWN0aXZlKSB7XG4gICAgICAgIGNvbnN0IGNvbXBzID0gdGhpcy5jb21wb25lbnRzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb21wc1tpXS5hY3RpdmUgPSBhY3RpdmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25YUlNlc3Npb25TdGFydCgpIHtcbiAgICAgICAgdGhpcy5zZXRDb21wb25lbnRzQWN0aXZlKHRoaXMuYWN0aXZhdGVDb21wb25lbnRzID09IDApO1xuICAgIH1cbiAgICBvblhSU2Vzc2lvbkVuZCgpIHtcbiAgICAgICAgdGhpcy5zZXRDb21wb25lbnRzQWN0aXZlKHRoaXMuYWN0aXZhdGVDb21wb25lbnRzICE9IDApO1xuICAgIH1cbn1cbmV4cG9ydCB7IFZyTW9kZUFjdGl2ZVN3aXRjaCB9O1xuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbGxpZGVyLCBDb2xsaXNpb25Db21wb25lbnQsIENvbXBvbmVudCwgRW1pdHRlciwgTWVzaCwgTWVzaEF0dHJpYnV0ZSwgTWVzaENvbXBvbmVudCwgTWVzaEluZGV4VHlwZSwgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcbi8vIEZJWE1FOiBlYXJjdXQgb3ZlcnJpZGVzIGRlZmF1bHQgZXhwb3J0LCBicmVha2luZyBvdXIgdGVzdHNcbmltcG9ydCBlYXJjdXQgZnJvbSAnZWFyY3V0JztcbmNvbnN0IHRlbXBWZWMzID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbi8qKiBDb21wdXRlIG1pbmltdW0gYW5kIG1heGl1bSBleHRlbnRzIG9mIGdpdmVuIGxpc3Qgb2YgY29udG91ciBwb2ludHMgKi9cbmZ1bmN0aW9uIGV4dGVudHNGcm9tQ29udG91cihvdXQsIHBvaW50cykge1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgbGV0IGFic01heFggPSBNYXRoLmFicyhwb2ludHNbMF0ueCk7XG4gICAgbGV0IGFic01heFogPSBNYXRoLmFicyhwb2ludHNbMF0ueik7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYWJzTWF4WCA9IE1hdGgubWF4KGFic01heFgsIE1hdGguYWJzKHBvaW50c1tpXS54KSk7XG4gICAgICAgIGFic01heFogPSBNYXRoLm1heChhYnNNYXhaLCBNYXRoLmFicyhwb2ludHNbaV0ueikpO1xuICAgIH1cbiAgICBvdXRbMF0gPSBhYnNNYXhYO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gYWJzTWF4Wjtcbn1cbi8qKiBDaGVjayB3aGV0aGVyIHggbGllcyBiZXR3ZWVuIGEgYW5kIGIgKi9cbmZ1bmN0aW9uIHdpdGhpbih4LCBhLCBiKSB7XG4gICAgaWYgKGEgPiBiKVxuICAgICAgICByZXR1cm4geCA8IGEgJiYgeCA+IGI7XG4gICAgcmV0dXJuIHggPiBhICYmIHggPCBiO1xufVxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGdpdmVuIHBvaW50IG9uIHBsYW5lJ3MgYm91bmRpbmcgYm94IGlzIGluc2lkZSBwbGFuZSdzIHBvbHlnb25cbiAqXG4gKiBAcGFyYW0gcCAzRCBwb2ludCBpbiBwbGFuZSdzIGxvY2FsIHNwYWNlLCBZIHZhbHVlIGlzIGlnbm9yZWQsIHNpbmNlIGl0IGlzIGFzc3VtZWRcbiAqICAgICB0aGF0IHRoZSBwb2ludCB3YXMgY2hlY2tlZCBhZ2FpbnN0IHRoZSBwbGFuZSdzIGJvdW5kaW5nIGJveC5cbiAqIEBwYXJhbSBwbGFuZSBYUlBsYW5lIHRoYXQgaGFzIGBYUlBsYW5lLnBvbHlnb25gXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHBvaW50IGxpZXMgb24gdGhlIHBsYW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BvaW50TG9jYWxPblhSUGxhbmVQb2x5Z29uKHAsIHBsYW5lKSB7XG4gICAgY29uc3QgcG9pbnRzID0gcGxhbmUucG9seWdvbjtcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDMpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvKiBDb3VudCByYXkgaW50ZXJzZWN0aW9uczogZXZlbiA9PSBpbnNpZGUsIG9kZCA9PSBvdXRzaWRlICovXG4gICAgY29uc3QgcFggPSBwWzBdO1xuICAgIGNvbnN0IHBaID0gcFsyXTtcbiAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IDA7XG4gICAgZm9yIChsZXQgbiA9IDAsIGwgPSBwb2ludHMubGVuZ3RoIC0gMTsgbiA8IHBvaW50cy5sZW5ndGg7ICsrbikge1xuICAgICAgICBjb25zdCBhWCA9IHBvaW50c1tsXS54O1xuICAgICAgICBjb25zdCBhWiA9IHBvaW50c1tsXS56O1xuICAgICAgICBjb25zdCBzID0gKHBvaW50c1tuXS56IC0gYVopIC8gKHBvaW50c1tuXS54IC0gYVgpO1xuICAgICAgICBjb25zdCB4ID0gTWF0aC5hYnMoKHBaIC0gYVopIC8gcyk7XG4gICAgICAgIGlmICh4ID49IDAuMCAmJiB4IDw9IDEuMCAmJiB3aXRoaW4oeCArIHBYLCBhWCwgcG9pbnRzW25dLngpKVxuICAgICAgICAgICAgKytpbnRlcnNlY3Rpb25zO1xuICAgICAgICBsID0gbjtcbiAgICB9XG4gICAgcmV0dXJuIChpbnRlcnNlY3Rpb25zICYgMSkgPT0gMDtcbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciBnaXZlbiBwb2ludCBvbiBwbGFuZSdzIGJvdW5kaW5nIGJveCBpcyBpbnNpZGUgcGxhbmUncyBwb2x5Z29uXG4gKlxuICogQHBhcmFtIHAgM0QgcG9pbnQgdG8gdGVzdC4gSXQgaXMgYXNzdW1lZCB0aGF0IHRoZSBwb2ludCB3YXMgY2hlY2tlZCBhZ2FpbnN0XG4gKiAgICAgdGhlIHBsYW5lJ3MgYm91bmRpbmcgYm94IGJlZm9yZWhhbmQuXG4gKiBAcGFyYW0gcGxhbmUgWFJQbGFuZSB0aGF0IGhhcyBgWFJQbGFuZS5wb2x5Z29uYFxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBwb2ludCBsaWVzIG9uIHRoZSBwbGFuZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQb2ludFdvcmxkT25YUlBsYW5lUG9seWdvbihvYmplY3QsIHAsIHBsYW5lKSB7XG4gICAgaWYgKHBsYW5lLnBvbHlnb24ubGVuZ3RoIDwgMylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlzUG9pbnRMb2NhbE9uWFJQbGFuZVBvbHlnb24ob2JqZWN0LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRlbXBWZWMzLCBwKSwgcGxhbmUpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBwbGFuZSBtZXNoIGZyb20gYSBsaXN0IG9mIGNvbnRvdXIgcG9pbnRzXG4gKlxuICogQHBhcmFtIGVuZ2luZSBFbmdpbmUgdG8gY3JlYXRlIHRoZSBtZXNoIHdpdGhcbiAqIEBwYXJhbSBwb2ludHMgQ29udG91ciBwb2ludHNcbiAqIEBwYXJhbSBtZXNoVG9VcGRhdGUgT3B0aW9uYWwgbWVzaCB0byB1cGRhdGUgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBvbmUuXG4gKi9cbmZ1bmN0aW9uIHBsYW5lTWVzaEZyb21Db250b3VyKGVuZ2luZSwgcG9pbnRzLCBtZXNoVG9VcGRhdGUgPSBudWxsKSB7XG4gICAgY29uc3QgdmVydGV4Q291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhDb3VudCAqIDIpO1xuICAgIGZvciAobGV0IGkgPSAwLCBkID0gMDsgaSA8IHZlcnRleENvdW50OyArK2ksIGQgKz0gMikge1xuICAgICAgICB2ZXJ0aWNlc1tkXSA9IHBvaW50c1tpXS54O1xuICAgICAgICB2ZXJ0aWNlc1tkICsgMV0gPSBwb2ludHNbaV0uejtcbiAgICB9XG4gICAgY29uc3QgdHJpYW5nbGVzID0gZWFyY3V0KHZlcnRpY2VzKTtcbiAgICBjb25zdCBtZXNoID0gbWVzaFRvVXBkYXRlIHx8XG4gICAgICAgIG5ldyBNZXNoKGVuZ2luZSwge1xuICAgICAgICAgICAgdmVydGV4Q291bnQsXG4gICAgICAgICAgICAvKiBBc3N1bXB0aW9uIGhlcmUgdGhhdCB3ZSB3aWxsIG5ldmVyIGhhdmUgbW9yZSB0aGFuIDI1NiBwb2ludHNcbiAgICAgICAgICAgICAqIGluIHRoZSBkZXRlY3RlZCBwbGFuZSBtZXNoZXMhICovXG4gICAgICAgICAgICBpbmRleFR5cGU6IE1lc2hJbmRleFR5cGUuVW5zaWduZWRCeXRlLFxuICAgICAgICAgICAgaW5kZXhEYXRhOiB0cmlhbmdsZXMsXG4gICAgICAgIH0pO1xuICAgIGlmIChtZXNoLnZlcnRleENvdW50ICE9PSB2ZXJ0ZXhDb3VudCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ3ZlcnRleENvdW50IG9mIG1lc2hUb1VwZGF0ZSBkaWQgbm90IG1hdGNoIHJlcXVpcmVkIHZlcnRleENvdW50Jyk7XG4gICAgICAgIHJldHVybiBtZXNoO1xuICAgIH1cbiAgICBjb25zdCBwb3NpdGlvbnMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcbiAgICBjb25zdCB0ZXh0dXJlQ29vcmRzID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5UZXh0dXJlQ29vcmRpbmF0ZSk7XG4gICAgY29uc3Qgbm9ybWFscyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuTm9ybWFsKTtcbiAgICB0ZW1wVmVjM1sxXSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIHMgPSAwOyBpIDwgdmVydGV4Q291bnQ7ICsraSwgcyArPSAyKSB7XG4gICAgICAgIHRlbXBWZWMzWzBdID0gdmVydGljZXNbc107XG4gICAgICAgIHRlbXBWZWMzWzJdID0gdmVydGljZXNbcyArIDFdO1xuICAgICAgICBwb3NpdGlvbnMuc2V0KGksIHRlbXBWZWMzKTtcbiAgICB9XG4gICAgdGV4dHVyZUNvb3Jkcz8uc2V0KDAsIHZlcnRpY2VzKTtcbiAgICBpZiAobm9ybWFscykge1xuICAgICAgICB0ZW1wVmVjM1swXSA9IDA7XG4gICAgICAgIHRlbXBWZWMzWzFdID0gMTtcbiAgICAgICAgdGVtcFZlYzNbMl0gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIG5vcm1hbHMuc2V0KGksIHRlbXBWZWMzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobWVzaFRvVXBkYXRlKVxuICAgICAgICBtZXNoLnVwZGF0ZSgpO1xuICAgIHJldHVybiBtZXNoO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBtZXNoZXMgYW5kIGNvbGxpc2lvbnMgZm9yIFhSUGxhbmVzIHVzaW5nIFtXZWJYUiBEZXZpY2UgQVBJIC0gUGxhbmUgRGV0ZWN0aW9uXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3JlYWwtd29ybGQtZ2VvbWV0cnkvcGxhbmUtZGV0ZWN0aW9uLmh0bWwpLlxuICovXG5jbGFzcyBQbGFuZURldGVjdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3BsYW5lLWRldGVjdGlvbic7XG4gICAgLyoqXG4gICAgICogTWF0ZXJpYWwgdG8gYXNzaWduIHRvIGNyZWF0ZWQgcGxhbmUgbWVzaGVzIG9yIGBudWxsYCBpZiBtZXNoZXMgc2hvdWxkIG5vdCBiZSBjcmVhdGVkLlxuICAgICAqL1xuICAgIHBsYW5lTWF0ZXJpYWwgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIENvbGxpc2lvbiBtYXNrIHRvIGFzc2lnbiB0byBuZXdseSBjcmVhdGVkIGNvbGxpc2lvbiBjb21wb25lbnRzIG9yIGEgbmVnYXRpdmUgdmFsdWUgaWZcbiAgICAgKiBjb2xsaXNpb24gY29tcG9uZW50cyBzaG91bGQgbm90IGJlIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY29sbGlzaW9uTWFzayA9IC0xO1xuICAgIC8qKiBNYXAgb2YgYWxsIHBsYW5lcyBhbmQgdGhlaXIgbGFzdCB1cGRhdGVkIHRpbWVzdGFtcHMgKi9cbiAgICBwbGFuZXMgPSBuZXcgTWFwKCk7XG4gICAgLyoqIE9iamVjdHMgZ2VuZXJhdGVkIGZvciBlYWNoIFhSUGxhbmUgKi9cbiAgICBwbGFuZU9iamVjdHMgPSBuZXcgTWFwKCk7XG4gICAgLyoqIENhbGxlZCB3aGVuIGEgcGxhbmUgc3RhcnRzIHRyYWNraW5nICovXG4gICAgb25QbGFuZUZvdW5kID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogQ2FsbGVkIHdoZW4gYSBwbGFuZSBzdG9wcyB0cmFja2luZyAqL1xuICAgIG9uUGxhbmVMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmdpbmUueHI/LmZyYW1lKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54ci5mcmFtZS5kZXRlY3RlZFBsYW5lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdwbGFuZS1kZXRlY3Rpb246IFdlYlhSIGZlYXR1cmUgbm90IGF2YWlsYWJsZS4nKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBkZXRlY3RlZFBsYW5lcyA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmRldGVjdGVkUGxhbmVzO1xuICAgICAgICBmb3IgKGNvbnN0IFtwbGFuZSwgX10gb2YgdGhpcy5wbGFuZXMpIHtcbiAgICAgICAgICAgIGlmICghZGV0ZWN0ZWRQbGFuZXMuaGFzKHBsYW5lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuI3BsYW5lTG9zdChwbGFuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGV0ZWN0ZWRQbGFuZXMuZm9yRWFjaCgocGxhbmUpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYW5lcy5oYXMocGxhbmUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYW5lLmxhc3RDaGFuZ2VkVGltZSA+IHRoaXMucGxhbmVzLmdldChwbGFuZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcGxhbmVVcGRhdGUocGxhbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuI3BsYW5lRm91bmQocGxhbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4jcGxhbmVVcGRhdGVQb3NlKHBsYW5lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgICNwbGFuZUxvc3QocGxhbmUpIHtcbiAgICAgICAgdGhpcy5wbGFuZXMuZGVsZXRlKHBsYW5lKTtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMucGxhbmVPYmplY3RzLmdldChwbGFuZSk7XG4gICAgICAgIHRoaXMub25QbGFuZUxvc3Qubm90aWZ5KHBsYW5lLCBvKTtcbiAgICAgICAgLyogVXNlciBtaWdodCBkZXN0cm95IHRoZSBvYmplY3QgKi9cbiAgICAgICAgaWYgKG8ub2JqZWN0SWQgPiAwKVxuICAgICAgICAgICAgby5kZXN0cm95KCk7XG4gICAgfVxuICAgICNwbGFuZUZvdW5kKHBsYW5lKSB7XG4gICAgICAgIHRoaXMucGxhbmVzLnNldChwbGFuZSwgcGxhbmUubGFzdENoYW5nZWRUaW1lKTtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCh0aGlzLm9iamVjdCk7XG4gICAgICAgIHRoaXMucGxhbmVPYmplY3RzLnNldChwbGFuZSwgbyk7XG4gICAgICAgIGlmICh0aGlzLnBsYW5lTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIG8uYWRkQ29tcG9uZW50KE1lc2hDb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICBtZXNoOiBwbGFuZU1lc2hGcm9tQ29udG91cih0aGlzLmVuZ2luZSwgcGxhbmUucG9seWdvbiksXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMucGxhbmVNYXRlcmlhbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbGxpc2lvbk1hc2sgPj0gMCkge1xuICAgICAgICAgICAgZXh0ZW50c0Zyb21Db250b3VyKHRlbXBWZWMzLCBwbGFuZS5wb2x5Z29uKTtcbiAgICAgICAgICAgIHRlbXBWZWMzWzFdID0gMC4wMjU7XG4gICAgICAgICAgICBvLmFkZENvbXBvbmVudChDb2xsaXNpb25Db21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICBncm91cDogdGhpcy5jb2xsaXNpb25NYXNrLFxuICAgICAgICAgICAgICAgIGNvbGxpZGVyOiBDb2xsaWRlci5Cb3gsXG4gICAgICAgICAgICAgICAgZXh0ZW50czogdGVtcFZlYzMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uUGxhbmVGb3VuZC5ub3RpZnkocGxhbmUsIG8pO1xuICAgIH1cbiAgICAjcGxhbmVVcGRhdGUocGxhbmUpIHtcbiAgICAgICAgdGhpcy5wbGFuZXMuc2V0KHBsYW5lLCBwbGFuZS5sYXN0Q2hhbmdlZFRpbWUpO1xuICAgICAgICBjb25zdCBwbGFuZU1lc2ggPSB0aGlzLnBsYW5lT2JqZWN0cy5nZXQocGxhbmUpLmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcbiAgICAgICAgaWYgKCFwbGFuZU1lc2gpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBsYW5lTWVzaEZyb21Db250b3VyKHRoaXMuZW5naW5lLCBwbGFuZS5wb2x5Z29uLCBwbGFuZU1lc2gubWVzaCk7XG4gICAgfVxuICAgICNwbGFuZVVwZGF0ZVBvc2UocGxhbmUpIHtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMucGxhbmVPYmplY3RzLmdldChwbGFuZSk7XG4gICAgICAgIGNvbnN0IHBvc2UgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRQb3NlKHBsYW5lLnBsYW5lU3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XG4gICAgICAgIGlmICghcG9zZSkge1xuICAgICAgICAgICAgby5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwobywgcG9zZS50cmFuc2Zvcm0pO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5Lm1hdGVyaWFsKClcbl0sIFBsYW5lRGV0ZWN0aW9uLnByb3RvdHlwZSwgXCJwbGFuZU1hdGVyaWFsXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5pbnQoKVxuXSwgUGxhbmVEZXRlY3Rpb24ucHJvdG90eXBlLCBcImNvbGxpc2lvbk1hc2tcIiwgdm9pZCAwKTtcbmV4cG9ydCB7IFBsYW5lRGV0ZWN0aW9uIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHZlYzMsIG1hdDQsIHF1YXQsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcbmNvbnN0IFZSTV9ST0xMX0FYRVMgPSB7XG4gICAgWDogWzEuMCwgMC4wLCAwLjBdLFxuICAgIFk6IFswLjAsIDEuMCwgMC4wXSxcbiAgICBaOiBbMC4wLCAwLjAsIDEuMF0sXG59O1xuY29uc3QgVlJNX0FJTV9BWEVTID0ge1xuICAgIFBvc2l0aXZlWDogWzEuMCwgMC4wLCAwLjBdLFxuICAgIE5lZ2F0aXZlWDogWy0xLjAsIDAuMCwgMC4wXSxcbiAgICBQb3NpdGl2ZVk6IFswLjAsIDEuMCwgMC4wXSxcbiAgICBOZWdhdGl2ZVk6IFswLjAsIC0xLjAsIDAuMF0sXG4gICAgUG9zaXRpdmVaOiBbMC4wLCAwLjAsIDEuMF0sXG4gICAgTmVnYXRpdmVaOiBbMC4wLCAwLjAsIC0xLjBdLFxufTtcbi8qKlxuICogQ29tcG9uZW50IGZvciBsb2FkaW5nIGFuZCBoYW5kbGluZyBWUk0gMS4wIG1vZGVscy5cbiAqXG4gKiBQb3Npbmcgb2YgdGhlIG1vZGVsIHNob3VsZCBiZSBkb25lIGV4Y2x1c2l2ZWx5IGJ5IHJvdGF0aW5nIHRoZSBib25lcy4gVGhlc2UgY2FuIGJlXG4gKiBhY2Nlc3NlZCB1c2luZyB0aGUgYC5ib25lc2AgcHJvcGVydHkgYW5kIGZvbGxvdyB0aGUgVlJNIGJvbmUgbmFtaW5nLiBOb3RlIHRoYXQgbm90XG4gKiBhbGwgVlJNIG1vZGVscyB3aWxsIGhhdmUgYWxsIHBvc3NpYmxlIGJvbmVzLiBUaGUgcmVzdCBwb3NlIChULXBvc2UpIGlzIGNhcHR1cmVkIGluXG4gKiB0aGUgYC5yZXN0UG9zZWAgcHJvcGVydHkuIFJlc2V0dGluZyBhIGJvbmUgdG8gaXRzIHJlc3QgcG9zZSBjYW4gYmUgZG9uZSBhcyBmb2xsb3dzOlxuICogYGBganNcbiAqIHZybUNvbXBvbmVudC5ib25lc1t2cm1Cb25lTmFtZV0ucm90YXRpb25Mb2NhbCA9IHZybUNvbXBvbmVudC5yZXN0UG9zZVt2cm1Cb25lTmFtZV07XG4gKiBgYGBcbiAqXG4gKiBNb3ZpbmcgdGhlIG1vZGVsIHRocm91Z2ggdGhlIHdvcmxkIHNob3VsZCBiZSBkb25lIGJ5IG1vdmluZyB0aGUgb2JqZWN0IHRoaXMgY29tcG9uZW50XG4gKiBpcyBhdHRhY2hlZCB0by4gSW4gb3RoZXIgd29yZHMsIGJ5IG1vdmluZyB0aGUgcm9vdCBvZiB0aGUgVlJNIG1vZGVsLiBUaGUgYm9uZXMgYW5kIGFueVxuICogZGVzY2VuZGFudCBvYmplY3RzIHNob3VsZCAqbm90KiBiZSB1c2VkIHRvIG1vdmUgdGhlIFZSTSBtb2RlbC5cbiAqXG4gKiBUaGUgY29yZSBleHRlbnNpb24gYFZSTUNfdnJtYCBhcyB3ZWxsIGFzIHRoZWBWUk1DX3NwcmluZ0JvbmVgIGFuZCBgVlJNQ19ub2RlX2NvbnN0cmFpbnRgXG4gKiBleHRlbnNpb25zIGFyZSBzdXBwb3J0ZWQuXG4gKlxuICogKipMaW1pdGF0aW9uczoqKlxuICogLSBObyBzdXBwb3J0IGZvciBgVlJNQ19tYXRlcmlhbF9tdG9vbmBcbiAqIC0gRXhwcmVzc2lvbnMgYXJlbid0IHN1cHBvcnRlZFxuICogLSBFeHByZXNzaW9uIGJhc2VkIGxvb2tBdCBpc24ndCBzdXBwb3J0ZWRcbiAqIC0gTWVzaCBhbm5vdGF0aW9uIG1vZGUgYGF1dG9gIGlzIG5vdCBzdXBwb3J0ZWQgKGZpcnN0IHBlcnNvbiBtb2RlKVxuICovXG5jbGFzcyBWcm0gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2cm0nO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogVVJMIHRvIGEgVlJNIGZpbGUgdG8gbG9hZCAqL1xuICAgICAgICBzcmM6IHsgdHlwZTogVHlwZS5TdHJpbmcgfSxcbiAgICAgICAgLyoqIE9iamVjdCB0aGUgVlJNIGlzIGxvb2tpbmcgYXQgKi9cbiAgICAgICAgbG9va0F0VGFyZ2V0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXG4gICAgfTtcbiAgICAvKiogTWV0YSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgVlJNIG1vZGVsICovXG4gICAgbWV0YSA9IG51bGw7XG4gICAgLyoqIFRoZSBodW1hbm9pZCBib25lcyBvZiB0aGUgVlJNIG1vZGVsICovXG4gICAgYm9uZXMgPSB7XG4gICAgICAgIC8qIFRvcnNvICovXG4gICAgICAgIGhpcHM6IG51bGwsXG4gICAgICAgIHNwaW5lOiBudWxsLFxuICAgICAgICBjaGVzdDogbnVsbCxcbiAgICAgICAgdXBwZXJDaGVzdDogbnVsbCxcbiAgICAgICAgbmVjazogbnVsbCxcbiAgICAgICAgLyogSGVhZCAqL1xuICAgICAgICBoZWFkOiBudWxsLFxuICAgICAgICBsZWZ0RXllOiBudWxsLFxuICAgICAgICByaWdodEV5ZTogbnVsbCxcbiAgICAgICAgamF3OiBudWxsLFxuICAgICAgICAvKiBMZWdzICovXG4gICAgICAgIGxlZnRVcHBlckxlZzogbnVsbCxcbiAgICAgICAgbGVmdExvd2VyTGVnOiBudWxsLFxuICAgICAgICBsZWZ0Rm9vdDogbnVsbCxcbiAgICAgICAgbGVmdFRvZXM6IG51bGwsXG4gICAgICAgIHJpZ2h0VXBwZXJMZWc6IG51bGwsXG4gICAgICAgIHJpZ2h0TG93ZXJMZWc6IG51bGwsXG4gICAgICAgIHJpZ2h0Rm9vdDogbnVsbCxcbiAgICAgICAgcmlnaHRUb2VzOiBudWxsLFxuICAgICAgICAvKiBBcm1zICovXG4gICAgICAgIGxlZnRTaG91bGRlcjogbnVsbCxcbiAgICAgICAgbGVmdFVwcGVyQXJtOiBudWxsLFxuICAgICAgICBsZWZ0TG93ZXJBcm06IG51bGwsXG4gICAgICAgIGxlZnRIYW5kOiBudWxsLFxuICAgICAgICByaWdodFNob3VsZGVyOiBudWxsLFxuICAgICAgICByaWdodFVwcGVyQXJtOiBudWxsLFxuICAgICAgICByaWdodExvd2VyQXJtOiBudWxsLFxuICAgICAgICByaWdodEhhbmQ6IG51bGwsXG4gICAgICAgIC8qIEZpbmdlcnMgKi9cbiAgICAgICAgbGVmdFRodW1iTWV0YWNhcnBhbDogbnVsbCxcbiAgICAgICAgbGVmdFRodW1iUHJveGltYWw6IG51bGwsXG4gICAgICAgIGxlZnRUaHVtYkRpc3RhbDogbnVsbCxcbiAgICAgICAgbGVmdEluZGV4UHJveGltYWw6IG51bGwsXG4gICAgICAgIGxlZnRJbmRleEludGVybWVkaWF0ZTogbnVsbCxcbiAgICAgICAgbGVmdEluZGV4RGlzdGFsOiBudWxsLFxuICAgICAgICBsZWZ0TWlkZGxlUHJveGltYWw6IG51bGwsXG4gICAgICAgIGxlZnRNaWRkbGVJbnRlcm1lZGlhdGU6IG51bGwsXG4gICAgICAgIGxlZnRNaWRkbGVEaXN0YWw6IG51bGwsXG4gICAgICAgIGxlZnRSaW5nUHJveGltYWw6IG51bGwsXG4gICAgICAgIGxlZnRSaW5nSW50ZXJtZWRpYXRlOiBudWxsLFxuICAgICAgICBsZWZ0UmluZ0Rpc3RhbDogbnVsbCxcbiAgICAgICAgbGVmdExpdHRsZVByb3hpbWFsOiBudWxsLFxuICAgICAgICBsZWZ0TGl0dGxlSW50ZXJtZWRpYXRlOiBudWxsLFxuICAgICAgICBsZWZ0TGl0dGxlRGlzdGFsOiBudWxsLFxuICAgICAgICByaWdodFRodW1iTWV0YWNhcnBhbDogbnVsbCxcbiAgICAgICAgcmlnaHRUaHVtYlByb3hpbWFsOiBudWxsLFxuICAgICAgICByaWdodFRodW1iRGlzdGFsOiBudWxsLFxuICAgICAgICByaWdodEluZGV4UHJveGltYWw6IG51bGwsXG4gICAgICAgIHJpZ2h0SW5kZXhJbnRlcm1lZGlhdGU6IG51bGwsXG4gICAgICAgIHJpZ2h0SW5kZXhEaXN0YWw6IG51bGwsXG4gICAgICAgIHJpZ2h0TWlkZGxlUHJveGltYWw6IG51bGwsXG4gICAgICAgIHJpZ2h0TWlkZGxlSW50ZXJtZWRpYXRlOiBudWxsLFxuICAgICAgICByaWdodE1pZGRsZURpc3RhbDogbnVsbCxcbiAgICAgICAgcmlnaHRSaW5nUHJveGltYWw6IG51bGwsXG4gICAgICAgIHJpZ2h0UmluZ0ludGVybWVkaWF0ZTogbnVsbCxcbiAgICAgICAgcmlnaHRSaW5nRGlzdGFsOiBudWxsLFxuICAgICAgICByaWdodExpdHRsZVByb3hpbWFsOiBudWxsLFxuICAgICAgICByaWdodExpdHRsZUludGVybWVkaWF0ZTogbnVsbCxcbiAgICAgICAgcmlnaHRMaXR0bGVEaXN0YWw6IG51bGwsXG4gICAgfTtcbiAgICAvKiogUm90YXRpb25zIG9mIHRoZSBib25lcyBpbiB0aGUgcmVzdCBwb3NlIChULXBvc2UpICovXG4gICAgcmVzdFBvc2UgPSB7fTtcbiAgICAvKiBBbGwgbm9kZSBjb25zdHJhaW50cywgb3JkZXJlZCB0byBkZWFsIHdpdGggZGVwZW5kZW5jaWVzICovXG4gICAgX25vZGVDb25zdHJhaW50cyA9IFtdO1xuICAgIC8qIFZSTUNfc3ByaW5nQm9uZSBjaGFpbnMgKi9cbiAgICBfc3ByaW5nQ2hhaW5zID0gW107XG4gICAgLyogU3BoZXJpY2FsIGNvbGxpZGVycyBmb3Igc3ByaW5nIGJvbmVzICovXG4gICAgX3NwaGVyZUNvbGxpZGVycyA9IFtdO1xuICAgIC8qIENhcHN1bGUgc2hhcGVkIGNvbGxpZGVycyBmb3Igc3ByaW5nIGJvbmVzICovXG4gICAgX2NhcHN1bGVDb2xsaWRlcnMgPSBbXTtcbiAgICAvKiBJbmRpY2F0ZXMgd2hpY2ggbWVzaGVzIGFyZSByZW5kZXJlZCBpbiBmaXJzdC90aGlyZCBwZXJzb24gdmlld3MgKi9cbiAgICBfZmlyc3RQZXJzb25Bbm5vdGF0aW9ucyA9IFtdO1xuICAgIC8qIENvbnRhaW5zIGRldGFpbHMgZm9yIChib25lIHR5cGUpIGxvb2tBdCBiZWhhdmlvdXIgKi9cbiAgICBfbG9va0F0ID0gbnVsbDtcbiAgICAvKiBXaGV0aGVyIG9yIG5vdCB0aGUgVlJNIGNvbXBvbmVudCBoYXMgYmVlbiBpbml0aWFsaXplZCB3aXRoIGBpbml0aWFsaXplVnJtYCAqL1xuICAgIF9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuX3RlbXBWMyA9IHZlYzMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3RlbXBWM0EgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wVjNCID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fdGVtcFF1YXQgPSBxdWF0LmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wUXVhdEEgPSBxdWF0LmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wUXVhdEIgPSBxdWF0LmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wTWF0NEEgPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wUXVhdDIgPSBxdWF0Mi5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fdGFpbFRvU2hhcGUgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl9oZWFkVG9UYWlsID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5faW5lcnRpYSA9IHZlYzMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3N0aWZmbmVzcyA9IHZlYzMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX2V4dGVybmFsID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fcmlnaHRWZWN0b3IgPSB2ZWMzLnNldCh2ZWMzLmNyZWF0ZSgpLCAxLCAwLCAwKTtcbiAgICAgICAgdGhpcy5fdXBWZWN0b3IgPSB2ZWMzLnNldCh2ZWMzLmNyZWF0ZSgpLCAwLCAxLCAwKTtcbiAgICAgICAgdGhpcy5fZm9yd2FyZFZlY3RvciA9IHZlYzMuc2V0KHZlYzMuY3JlYXRlKCksIDAsIDAsIDEpO1xuICAgICAgICB0aGlzLl9pZGVudGl0eVF1YXQgPSBxdWF0LmlkZW50aXR5KHF1YXQuY3JlYXRlKCkpO1xuICAgICAgICB0aGlzLl9yYWQyZGVnID0gMTgwLjAgLyBNYXRoLlBJO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNyYykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcigndnJtOiBzcmMgcHJvcGVydHkgbm90IHNldCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5naW5lLnNjZW5lXG4gICAgICAgICAgICAuYXBwZW5kKHRoaXMuc3JjLCB7IGxvYWRHbHRmRXh0ZW5zaW9uczogdHJ1ZSB9KVxuICAgICAgICAgICAgLnRoZW4oKHsgcm9vdCwgZXh0ZW5zaW9ucyB9KSA9PiB7XG4gICAgICAgICAgICByb290LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiAoY2hpbGQucGFyZW50ID0gdGhpcy5vYmplY3QpKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVWcm0oZXh0ZW5zaW9ucyk7XG4gICAgICAgICAgICByb290LmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgVlJNIGdsVEYgZXh0ZW5zaW9ucyBhbmQgaW5pdGlhbGl6ZXMgdGhlIHZybSBjb21wb25lbnQuXG4gICAgICogQHBhcmFtIHtHTFRGRXh0ZW5zaW9uc30gZXh0ZW5zaW9ucyBUaGUgZ2xURiBleHRlbnNpb25zIGZvciB0aGUgVlJNIG1vZGVsXG4gICAgICovXG4gICAgX2luaXRpYWxpemVWcm0oZXh0ZW5zaW9ucykge1xuICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdWUk0gY29tcG9uZW50IGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBWUk1DX3ZybSA9IGV4dGVuc2lvbnMucm9vdFsnVlJNQ192cm0nXTtcbiAgICAgICAgaWYgKCFWUk1DX3ZybSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ01pc3NpbmcgVlJNIGV4dGVuc2lvbnMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVlJNQ192cm0uc3BlY1ZlcnNpb24gIT09ICcxLjAnKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgVW5zdXBwb3J0ZWQgVlJNIHZlcnNpb24sIG9ubHkgMS4wIGlzIHN1cHBvcnRlZCwgYnV0IGVuY291bnRlcmVkICcke1ZSTUNfdnJtLnNwZWNWZXJzaW9ufSdgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1ldGEgPSBWUk1DX3ZybS5tZXRhO1xuICAgICAgICB0aGlzLl9wYXJzZUh1bWFub2lkKFZSTUNfdnJtLmh1bWFub2lkLCBleHRlbnNpb25zKTtcbiAgICAgICAgaWYgKFZSTUNfdnJtLmZpcnN0UGVyc29uKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUZpcnN0UGVyc29uKFZSTUNfdnJtLmZpcnN0UGVyc29uLCBleHRlbnNpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVlJNQ192cm0ubG9va0F0KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUxvb2tBdChWUk1DX3ZybS5sb29rQXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpbmRBbmRQYXJzZU5vZGVDb25zdHJhaW50cyhleHRlbnNpb25zKTtcbiAgICAgICAgY29uc3Qgc3ByaW5nQm9uZSA9IGV4dGVuc2lvbnMucm9vdFsnVlJNQ19zcHJpbmdCb25lJ107XG4gICAgICAgIGlmIChzcHJpbmdCb25lKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUFuZEluaXRpYWxpemVTcHJpbmdCb25lcyhzcHJpbmdCb25lLCBleHRlbnNpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZUh1bWFub2lkKGh1bWFub2lkLCBleHRlbnNpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3QgYm9uZU5hbWUgaW4gaHVtYW5vaWQuaHVtYW5Cb25lcykge1xuICAgICAgICAgICAgaWYgKCEoYm9uZU5hbWUgaW4gdGhpcy5ib25lcykpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVucmVjb2duaXplZCBib25lICcke2JvbmVOYW1lfSdgKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBodW1hbm9pZC5odW1hbkJvbmVzW2JvbmVOYW1lXS5ub2RlO1xuICAgICAgICAgICAgY29uc3Qgb2JqZWN0SWQgPSBleHRlbnNpb25zLmlkTWFwcGluZ1tub2RlXTtcbiAgICAgICAgICAgIHRoaXMuYm9uZXNbYm9uZU5hbWVdID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChvYmplY3RJZCk7XG4gICAgICAgICAgICB0aGlzLnJlc3RQb3NlW2JvbmVOYW1lXSA9IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCB0aGlzLmJvbmVzW2JvbmVOYW1lXS5yb3RhdGlvbkxvY2FsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcGFyc2VGaXJzdFBlcnNvbihmaXJzdFBlcnNvbiwgZXh0ZW5zaW9ucykge1xuICAgICAgICBmb3IgKGNvbnN0IG1lc2hBbm5vdGF0aW9uIG9mIGZpcnN0UGVyc29uLm1lc2hBbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW21lc2hBbm5vdGF0aW9uLm5vZGVdKSxcbiAgICAgICAgICAgICAgICBmaXJzdFBlcnNvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aGlyZFBlcnNvbjogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzd2l0Y2ggKG1lc2hBbm5vdGF0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdmaXJzdFBlcnNvbk9ubHknOlxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uLnRoaXJkUGVyc29uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RoaXJkUGVyc29uT25seSc6XG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24uZmlyc3RQZXJzb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm90aCc6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGaXJzdCBwZXJzb24gbWVzaCBhbm5vdGF0aW9uIHR5cGUgJ2F1dG8nIGlzIG5vdCBzdXBwb3J0ZWQsIHRyZWF0aW5nIGFzICdib3RoJyFcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgbWVzaCBhbm5vdGF0aW9uIHR5cGUgJyR7bWVzaEFubm90YXRpb24udHlwZX0nYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZmlyc3RQZXJzb25Bbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wYXJzZUxvb2tBdChsb29rQXQpIHtcbiAgICAgICAgaWYgKGxvb2tBdC50eXBlICE9PSAnYm9uZScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5zdXBwb3J0ZWQgbG9va0F0IHR5cGUgJyR7bG9va0F0LnR5cGV9Jywgb25seSAnYm9uZScgaXMgc3VwcG9ydGVkYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VSYW5nZU1hcCA9IChyYW5nZU1hcCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbnB1dE1heFZhbHVlOiByYW5nZU1hcC5pbnB1dE1heFZhbHVlLFxuICAgICAgICAgICAgICAgIG91dHB1dFNjYWxlOiByYW5nZU1hcC5vdXRwdXRTY2FsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2xvb2tBdCA9IHtcbiAgICAgICAgICAgIG9mZnNldEZyb21IZWFkQm9uZTogbG9va0F0Lm9mZnNldEZyb21IZWFkQm9uZSB8fCBbMCwgMCwgMF0sXG4gICAgICAgICAgICBob3Jpem9udGFsSW5uZXI6IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwSG9yaXpvbnRhbElubmVyKSxcbiAgICAgICAgICAgIGhvcml6b250YWxPdXRlcjogcGFyc2VSYW5nZU1hcChsb29rQXQucmFuZ2VNYXBIb3Jpem9udGFsT3V0ZXIpLFxuICAgICAgICAgICAgdmVydGljYWxEb3duOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcFZlcnRpY2FsRG93biksXG4gICAgICAgICAgICB2ZXJ0aWNhbFVwOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcFZlcnRpY2FsVXApLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfZmluZEFuZFBhcnNlTm9kZUNvbnN0cmFpbnRzKGV4dGVuc2lvbnMpIHtcbiAgICAgICAgY29uc3QgdHJhdmVyc2UgPSAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub2RlRXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMubm9kZVtvYmplY3Qub2JqZWN0SWRdO1xuICAgICAgICAgICAgaWYgKG5vZGVFeHRlbnNpb25zICYmICdWUk1DX25vZGVfY29uc3RyYWludCcgaW4gbm9kZUV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlQ29uc3RyYWludEV4dGVuc2lvbiA9IG5vZGVFeHRlbnNpb25zWydWUk1DX25vZGVfY29uc3RyYWludCddO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBub2RlQ29uc3RyYWludEV4dGVuc2lvbi5jb25zdHJhaW50O1xuICAgICAgICAgICAgICAgIGxldCB0eXBlLCBheGlzO1xuICAgICAgICAgICAgICAgIGlmICgncm9sbCcgaW4gY29uc3RyYWludCkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ3JvbGwnO1xuICAgICAgICAgICAgICAgICAgICBheGlzID0gVlJNX1JPTExfQVhFU1tjb25zdHJhaW50LnJvbGwucm9sbEF4aXNdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgnYWltJyBpbiBjb25zdHJhaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnYWltJztcbiAgICAgICAgICAgICAgICAgICAgYXhpcyA9IFZSTV9BSU1fQVhFU1tjb25zdHJhaW50LmFpbS5haW1BeGlzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJ3JvdGF0aW9uJyBpbiBjb25zdHJhaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAncm90YXRpb24nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW2NvbnN0cmFpbnRbdHlwZV0uc291cmNlXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25vZGVDb25zdHJhaW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogb2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpczogYXhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogY29uc3RyYWludFt0eXBlXS53ZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBSZXN0IHBvc2UgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uUmVzdExvY2FsUm90YXRpb246IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCBvYmplY3Qucm90YXRpb25Mb2NhbCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VSZXN0TG9jYWxSb3RhdGlvbjogcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIHNvdXJjZS5yb3RhdGlvbkxvY2FsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVJlc3RMb2NhbFJvdGF0aW9uSW52OiBxdWF0LmludmVydChxdWF0LmNyZWF0ZSgpLCBzb3VyY2Uucm90YXRpb25Mb2NhbCksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbnJlY29nbml6ZWQgb3IgaW52YWxpZCBWUk1DX25vZGVfY29uc3RyYWludCwgaWdub3JpbmcgaXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdHJhdmVyc2UodGhpcy5vYmplY3QpO1xuICAgIH1cbiAgICBfcGFyc2VBbmRJbml0aWFsaXplU3ByaW5nQm9uZXMoc3ByaW5nQm9uZSwgZXh0ZW5zaW9ucykge1xuICAgICAgICBjb25zdCBjb2xsaWRlcnMgPSAoc3ByaW5nQm9uZS5jb2xsaWRlcnMgfHwgW10pLm1hcCgoY29sbGlkZXIsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlVHlwZSA9ICdjYXBzdWxlJyBpbiBjb2xsaWRlci5zaGFwZSA/ICdjYXBzdWxlJyA6ICdzcGhlcmUnO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogaSxcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbY29sbGlkZXIubm9kZV0pLFxuICAgICAgICAgICAgICAgIHNoYXBlOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzQ2Fwc3VsZTogc2hhcGVUeXBlID09PSAnY2Fwc3VsZScsXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogY29sbGlkZXIuc2hhcGVbc2hhcGVUeXBlXS5yYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogY29sbGlkZXIuc2hhcGVbc2hhcGVUeXBlXS5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIHRhaWw6IGNvbGxpZGVyLnNoYXBlW3NoYXBlVHlwZV0udGFpbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhY2hlOiB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWQ6IHZlYzMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIHRhaWw6IHZlYzMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9zcGhlcmVDb2xsaWRlcnMgPSBjb2xsaWRlcnMuZmlsdGVyKChjKSA9PiAhYy5zaGFwZS5pc0NhcHN1bGUpO1xuICAgICAgICB0aGlzLl9jYXBzdWxlQ29sbGlkZXJzID0gY29sbGlkZXJzLmZpbHRlcigoYykgPT4gYy5zaGFwZS5pc0NhcHN1bGUpO1xuICAgICAgICBjb25zdCBjb2xsaWRlckdyb3VwcyA9IChzcHJpbmdCb25lLmNvbGxpZGVyR3JvdXBzIHx8IFtdKS5tYXAoKGdyb3VwKSA9PiAoe1xuICAgICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSxcbiAgICAgICAgICAgIGNvbGxpZGVyczogZ3JvdXAuY29sbGlkZXJzLm1hcCgoYykgPT4gY29sbGlkZXJzW2NdKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBmb3IgKGNvbnN0IHNwcmluZyBvZiBzcHJpbmdCb25lLnNwcmluZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGpvaW50cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBqb2ludCBvZiBzcHJpbmcuam9pbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nSm9pbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFJhZGl1czogMC4wLFxuICAgICAgICAgICAgICAgICAgICBzdGlmZm5lc3M6IDEuMCxcbiAgICAgICAgICAgICAgICAgICAgZ3Jhdml0eVBvd2VyOiAwLjAsXG4gICAgICAgICAgICAgICAgICAgIGdyYXZpdHlEaXI6IFswLjAsIC0xLjAsIDAuMF0sXG4gICAgICAgICAgICAgICAgICAgIGRyYWdGb3JjZTogMC41LFxuICAgICAgICAgICAgICAgICAgICBub2RlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3ByaW5nSm9pbnQsIGpvaW50KTtcbiAgICAgICAgICAgICAgICBzcHJpbmdKb2ludC5ub2RlID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tzcHJpbmdKb2ludC5ub2RlXSk7XG4gICAgICAgICAgICAgICAgam9pbnRzLnB1c2goc3ByaW5nSm9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3ByaW5nQ2hhaW5Db2xsaWRlcnMgPSAoc3ByaW5nLmNvbGxpZGVyR3JvdXBzIHx8IFtdKS5mbGF0TWFwKChjZykgPT4gY29sbGlkZXJHcm91cHNbY2ddLmNvbGxpZGVycyk7XG4gICAgICAgICAgICB0aGlzLl9zcHJpbmdDaGFpbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogc3ByaW5nLm5hbWUsXG4gICAgICAgICAgICAgICAgY2VudGVyOiBzcHJpbmcuY2VudGVyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tzcHJpbmcuY2VudGVyXSlcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgIGpvaW50cyxcbiAgICAgICAgICAgICAgICBzcGhlcmVDb2xsaWRlcnM6IHNwcmluZ0NoYWluQ29sbGlkZXJzLmZpbHRlcigoYykgPT4gIWMuc2hhcGUuaXNDYXBzdWxlKSxcbiAgICAgICAgICAgICAgICBjYXBzdWxlQ29sbGlkZXJzOiBzcHJpbmdDaGFpbkNvbGxpZGVycy5maWx0ZXIoKGMpID0+IGMuc2hhcGUuaXNDYXBzdWxlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qIEluaXRpYWxpemUgc3ByaW5nIGJvbmUgam9pbnQgc3RhdGUgKi9cbiAgICAgICAgZm9yIChjb25zdCBzcHJpbmdDaGFpbiBvZiB0aGlzLl9zcHJpbmdDaGFpbnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ByaW5nQ2hhaW4uam9pbnRzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwcmluZ0JvbmVKb2ludCA9IHNwcmluZ0NoYWluLmpvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFNwcmluZ0JvbmVKb2ludCA9IHNwcmluZ0NoYWluLmpvaW50c1tpICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nQm9uZVBvc2l0aW9uID0gc3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh2ZWMzLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbiA9IGNoaWxkU3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh2ZWMzLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBib25lRGlyZWN0aW9uID0gdmVjMy5zdWJ0cmFjdCh0aGlzLl90ZW1wVjNBLCBzcHJpbmdCb25lUG9zaXRpb24sIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHJldlRhaWw6IGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFpbDogdmVjMy5jb3B5KHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExvY2FsUm90YXRpb246IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCBzcHJpbmdCb25lSm9pbnQubm9kZS5yb3RhdGlvbkxvY2FsKSxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExvY2FsVHJhbnNmb3JtSW52ZXJ0OiBxdWF0Mi5pbnZlcnQocXVhdDIuY3JlYXRlKCksIHNwcmluZ0JvbmVKb2ludC5ub2RlLnRyYW5zZm9ybUxvY2FsKSxcbiAgICAgICAgICAgICAgICAgICAgYm9uZUF4aXM6IHZlYzMubm9ybWFsaXplKHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLl90ZW1wVjMpKSxcbiAgICAgICAgICAgICAgICAgICAgLyogRW5zdXJlIGJvbmUgbGVuZ3RoIGlzIGF0IGxlYXN0IDFjbSB0byBhdm9pZCBqaXR0ZXJ5IGJlaGF2aW91ciBmcm9tIHplcm8tbGVuZ3RoIGJvbmVzICovXG4gICAgICAgICAgICAgICAgICAgIGJvbmVMZW5ndGg6IE1hdGgubWF4KDAuMDEsIHZlYzMubGVuZ3RoKGJvbmVEaXJlY3Rpb24pKSxcbiAgICAgICAgICAgICAgICAgICAgLyogVGFpbCBwb3NpdGlvbnMgaW4gY2VudGVyIHNwYWNlLCBpZiBuZWVkZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgcHJldlRhaWxDZW50ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWlsQ2VudGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHNwcmluZ0NoYWluLmNlbnRlcikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcmV2VGFpbENlbnRlciA9IHNwcmluZ0NoYWluLmNlbnRlci50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh2ZWMzLmNyZWF0ZSgpLCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyID0gdmVjMy5jb3B5KHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3ByaW5nQm9uZUpvaW50LnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKGR0KSB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKiAxLiBSZXNvbHZlIGh1bWFub2lkIGJvbmVzIChwZXJmb3JtZWQgYnkgdXNlcikgKi9cbiAgICAgICAgLyogMi4gUmVzb2x2ZSBMb29rQXQgKGJvbmUgdHlwZSkgYXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBoZWFkIGlzIGRldGVybWluZWQgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZUxvb2tBdCgpO1xuICAgICAgICAvKiAzLiBFeHByZXNzaW9uIHVwZGF0ZSAoVE9ETykgKi9cbiAgICAgICAgLyogNC4gQXBwbHkgRXhwcmVzc2lvbiAoVE9ETykgKi9cbiAgICAgICAgLyogNS4gUmVzb2x2ZSBjb25zdHJhaW50cyAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlQ29uc3RyYWludHMoKTtcbiAgICAgICAgLyogNi4gUmVzb2x2ZSBTcHJpbmcgQm9uZSAqL1xuICAgICAgICB0aGlzLl91cGRhdGVTcHJpbmdCb25lcyhkdCk7XG4gICAgfVxuICAgIF9yYW5nZU1hcChyYW5nZU1hcCwgaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbWF4VmFsdWUgPSByYW5nZU1hcC5pbnB1dE1heFZhbHVlO1xuICAgICAgICBjb25zdCBvdXRwdXRTY2FsZSA9IHJhbmdlTWFwLm91dHB1dFNjYWxlO1xuICAgICAgICByZXR1cm4gKE1hdGgubWluKGlucHV0LCBtYXhWYWx1ZSkgLyBtYXhWYWx1ZSkgKiBvdXRwdXRTY2FsZTtcbiAgICB9XG4gICAgX3Jlc29sdmVMb29rQXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9va0F0IHx8ICF0aGlzLmxvb2tBdFRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvb2tBdFNvdXJjZSA9IHRoaXMuYm9uZXMuaGVhZC50cmFuc2Zvcm1Qb2ludFdvcmxkKHRoaXMuX3RlbXBWM0EsIHRoaXMuX2xvb2tBdC5vZmZzZXRGcm9tSGVhZEJvbmUpO1xuICAgICAgICBjb25zdCBsb29rQXRUYXJnZXQgPSB0aGlzLmxvb2tBdFRhcmdldC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0IpO1xuICAgICAgICBjb25zdCBsb29rQXREaXJlY3Rpb24gPSB2ZWMzLnN1Yih0aGlzLl90ZW1wVjNBLCBsb29rQXRUYXJnZXQsIGxvb2tBdFNvdXJjZSk7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGxvb2tBdERpcmVjdGlvbiwgbG9va0F0RGlyZWN0aW9uKTtcbiAgICAgICAgLyogQ29udmVydCB0aGUgZGlyZWN0aW9uIGludG8gTG9va0F0IHNwYWNlICovXG4gICAgICAgIHRoaXMuYm9uZXMuaGVhZC5wYXJlbnQudHJhbnNmb3JtVmVjdG9ySW52ZXJzZVdvcmxkKGxvb2tBdERpcmVjdGlvbik7XG4gICAgICAgIGNvbnN0IHogPSB2ZWMzLmRvdChsb29rQXREaXJlY3Rpb24sIHRoaXMuX2ZvcndhcmRWZWN0b3IpO1xuICAgICAgICBjb25zdCB4ID0gdmVjMy5kb3QobG9va0F0RGlyZWN0aW9uLCB0aGlzLl9yaWdodFZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHlhdyA9IE1hdGguYXRhbjIoeCwgeikgKiB0aGlzLl9yYWQyZGVnO1xuICAgICAgICBjb25zdCB4eiA9IE1hdGguc3FydCh4ICogeCArIHogKiB6KTtcbiAgICAgICAgY29uc3QgeSA9IHZlYzMuZG90KGxvb2tBdERpcmVjdGlvbiwgdGhpcy5fdXBWZWN0b3IpO1xuICAgICAgICBsZXQgcGl0Y2ggPSBNYXRoLmF0YW4yKC15LCB4eikgKiB0aGlzLl9yYWQyZGVnO1xuICAgICAgICAvKiBMaW1pdCBwaXRjaCAqL1xuICAgICAgICBpZiAocGl0Y2ggPiAwKSB7XG4gICAgICAgICAgICBwaXRjaCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC52ZXJ0aWNhbERvd24sIHBpdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBpdGNoID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC52ZXJ0aWNhbFVwLCAtcGl0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIC8qIExlZnQgZXllIChsaW1pdCB5YXcpICovXG4gICAgICAgIGlmICh0aGlzLmJvbmVzLmxlZnRFeWUpIHtcbiAgICAgICAgICAgIGxldCB5YXdMZWZ0ID0geWF3O1xuICAgICAgICAgICAgaWYgKHlhd0xlZnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgeWF3TGVmdCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsSW5uZXIsIHlhd0xlZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeWF3TGVmdCA9IC10aGlzLl9yYW5nZU1hcCh0aGlzLl9sb29rQXQuaG9yaXpvbnRhbE91dGVyLCAteWF3TGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleWVSb3RhdGlvbiA9IHF1YXQuZnJvbUV1bGVyKHRoaXMuX3RlbXBRdWF0QSwgcGl0Y2gsIHlhd0xlZnQsIDApO1xuICAgICAgICAgICAgdGhpcy5ib25lcy5sZWZ0RXllLnJvdGF0aW9uTG9jYWwgPSBxdWF0Lm11bHRpcGx5KGV5ZVJvdGF0aW9uLCB0aGlzLnJlc3RQb3NlLmxlZnRFeWUsIGV5ZVJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBSaWdodCBleWUgKGxpbWl0IHlhdykgKi9cbiAgICAgICAgaWYgKHRoaXMuYm9uZXMucmlnaHRFeWUpIHtcbiAgICAgICAgICAgIGxldCB5YXdSaWdodCA9IHlhdztcbiAgICAgICAgICAgIGlmICh5YXdSaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICB5YXdSaWdodCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsT3V0ZXIsIHlhd1JpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHlhd1JpZ2h0ID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsSW5uZXIsIC15YXdSaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleWVSb3RhdGlvbiA9IHF1YXQuZnJvbUV1bGVyKHRoaXMuX3RlbXBRdWF0QSwgcGl0Y2gsIHlhd1JpZ2h0LCAwKTtcbiAgICAgICAgICAgIHRoaXMuYm9uZXMucmlnaHRFeWUucm90YXRpb25Mb2NhbCA9IHF1YXQubXVsdGlwbHkoZXllUm90YXRpb24sIHRoaXMucmVzdFBvc2UucmlnaHRFeWUsIGV5ZVJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVzb2x2ZUNvbnN0cmFpbnRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGVDb25zdHJhaW50IG9mIHRoaXMuX25vZGVDb25zdHJhaW50cykge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUNvbnN0cmFpbnQobm9kZUNvbnN0cmFpbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZXNvbHZlQ29uc3RyYWludChub2RlQ29uc3RyYWludCkge1xuICAgICAgICBjb25zdCBkc3RSZXN0UXVhdCA9IG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uUmVzdExvY2FsUm90YXRpb247XG4gICAgICAgIGNvbnN0IHNyY1Jlc3RRdWF0SW52ID0gbm9kZUNvbnN0cmFpbnQuc291cmNlUmVzdExvY2FsUm90YXRpb25JbnY7XG4gICAgICAgIGNvbnN0IHRhcmdldFF1YXQgPSBxdWF0LmlkZW50aXR5KHRoaXMuX3RlbXBRdWF0QSk7XG4gICAgICAgIHN3aXRjaCAobm9kZUNvbnN0cmFpbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncm9sbCc6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXQgPSBxdWF0Lm11bHRpcGx5KHRoaXMuX3RlbXBRdWF0QSwgc3JjUmVzdFF1YXRJbnYsIG5vZGVDb25zdHJhaW50LnNvdXJjZS5yb3RhdGlvbkxvY2FsKTtcbiAgICAgICAgICAgICAgICAgICAgLyogc291cmNlIHRvIHBhcmVudCAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXRJblBhcmVudCA9IHF1YXQubXVsdGlwbHkodGhpcy5fdGVtcFF1YXRBLCBub2RlQ29uc3RyYWludC5zb3VyY2VSZXN0TG9jYWxSb3RhdGlvbiwgZGVsdGFTcmNRdWF0KTtcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwoZGVsdGFTcmNRdWF0SW5QYXJlbnQsIGRlbHRhU3JjUXVhdEluUGFyZW50LCBzcmNSZXN0UXVhdEludik7XG4gICAgICAgICAgICAgICAgICAgIC8qIHBhcmVudCB0byBkZXN0aW5hdGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkc3RSZXN0UXVhdEludiA9IHF1YXQuaW52ZXJ0KHRoaXMuX3RlbXBRdWF0QiwgZHN0UmVzdFF1YXQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXRJbkRzdCA9IHF1YXQubXVsdGlwbHkodGhpcy5fdGVtcFF1YXRCLCBkc3RSZXN0UXVhdEludiwgZGVsdGFTcmNRdWF0SW5QYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bHRpcGx5KGRlbHRhU3JjUXVhdEluRHN0LCBkZWx0YVNyY1F1YXRJbkRzdCwgZHN0UmVzdFF1YXQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1ZlYyA9IHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl90ZW1wVjNBLCBub2RlQ29uc3RyYWludC5heGlzLCBkZWx0YVNyY1F1YXRJbkRzdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Ub1F1YXQgPSBxdWF0LnJvdGF0aW9uVG8odGhpcy5fdGVtcFF1YXRBLCBub2RlQ29uc3RyYWludC5heGlzLCB0b1ZlYyk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCBxdWF0LmludmVydCh0aGlzLl90ZW1wUXVhdCwgZnJvbVRvUXVhdCkpO1xuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCB0YXJnZXRRdWF0LCBkZWx0YVNyY1F1YXRJbkRzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYWltJzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRzdFBhcmVudFdvcmxkUXVhdCA9IG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uLnBhcmVudC5yb3RhdGlvbldvcmxkO1xuICAgICAgICAgICAgICAgICAgICAvKiBmcm9tVmVjID0gYWltQXhpcy5hcHBseVF1YXRlcm5pb24oIGRzdFBhcmVudFdvcmxkUXVhdCAqIGRzdFJlc3RRdWF0ICkgKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVZlYyA9IHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl90ZW1wVjNBLCBub2RlQ29uc3RyYWludC5heGlzLCBkc3RSZXN0UXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdChmcm9tVmVjLCBmcm9tVmVjLCBkc3RQYXJlbnRXb3JsZFF1YXQpO1xuICAgICAgICAgICAgICAgICAgICAvKiB0b1ZlYyA9ICggc3JjV29ybGRQb3MgLSBkc3RXb3JsZFBvcyApLm5vcm1hbGl6ZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9WZWMgPSBub2RlQ29uc3RyYWludC5zb3VyY2UuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIodG9WZWMsIHRvVmVjLCBub2RlQ29uc3RyYWludC5kZXN0aW5hdGlvbi5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWMykpO1xuICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0b1ZlYywgdG9WZWMpO1xuICAgICAgICAgICAgICAgICAgICAvKiBmcm9tVG9RdWF0ID0gUXVhdGVybmlvbi5mcm9tVG9Sb3RhdGlvbiggZnJvbVZlYywgdG9WZWMgKSAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tVG9RdWF0ID0gcXVhdC5yb3RhdGlvblRvKHRoaXMuX3RlbXBRdWF0QSwgZnJvbVZlYywgdG9WZWMpO1xuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCBxdWF0LmludmVydCh0aGlzLl90ZW1wUXVhdCwgZHN0UGFyZW50V29ybGRRdWF0KSwgZnJvbVRvUXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHRhcmdldFF1YXQsIGRzdFBhcmVudFdvcmxkUXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyb3RhdGlvbic6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcmNEZWx0YVF1YXQgPSBxdWF0Lm11bCh0YXJnZXRRdWF0LCBzcmNSZXN0UXVhdEludiwgbm9kZUNvbnN0cmFpbnQuc291cmNlLnJvdGF0aW9uTG9jYWwpO1xuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCBkc3RSZXN0UXVhdCwgc3JjRGVsdGFRdWF0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLyogQXBwbHkgY29uc3RyYWludCAqL1xuICAgICAgICBxdWF0LnNsZXJwKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCB0YXJnZXRRdWF0LCBub2RlQ29uc3RyYWludC53ZWlnaHQpO1xuICAgICAgICBub2RlQ29uc3RyYWludC5kZXN0aW5hdGlvbi5yb3RhdGlvbkxvY2FsID0gdGFyZ2V0UXVhdDtcbiAgICB9XG4gICAgX3VwZGF0ZVNwcmluZ0JvbmVzKGR0KSB7XG4gICAgICAgIC8qIFByZS1jb21wdXRlIGNvbGxpZGVyIHBvc2l0aW9ucyAqL1xuICAgICAgICB0aGlzLl9zcGhlcmVDb2xsaWRlcnMuZm9yRWFjaCgoeyBvYmplY3QsIHNoYXBlLCBjYWNoZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB2ZWMzLmNvcHkoY2FjaGUuaGVhZCwgc2hhcGUub2Zmc2V0KTtcbiAgICAgICAgICAgIG9iamVjdC50cmFuc2Zvcm1WZWN0b3JXb3JsZChvZmZzZXQpO1xuICAgICAgICAgICAgdmVjMy5hZGQoY2FjaGUuaGVhZCwgb2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzKSwgb2Zmc2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NhcHN1bGVDb2xsaWRlcnMuZm9yRWFjaCgoeyBvYmplY3QsIHNoYXBlLCBjYWNoZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZUNlbnRlciA9IG9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0EpO1xuICAgICAgICAgICAgY29uc3QgaGVhZE9mZnNldCA9IHZlYzMuY29weShjYWNoZS5oZWFkLCBzaGFwZS5vZmZzZXQpO1xuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKGhlYWRPZmZzZXQpO1xuICAgICAgICAgICAgdmVjMy5hZGQoY2FjaGUuaGVhZCwgc2hhcGVDZW50ZXIsIGhlYWRPZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgdGFpbE9mZnNldCA9IHZlYzMuY29weShjYWNoZS50YWlsLCBzaGFwZS50YWlsKTtcbiAgICAgICAgICAgIG9iamVjdC50cmFuc2Zvcm1WZWN0b3JXb3JsZCh0YWlsT2Zmc2V0KTtcbiAgICAgICAgICAgIHZlYzMuYWRkKGNhY2hlLnRhaWwsIHNoYXBlQ2VudGVyLCB0YWlsT2Zmc2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8qIFVwZGF0ZSBzcHJpbmcgY2hhaW5zICovXG4gICAgICAgIHRoaXMuX3NwcmluZ0NoYWlucy5mb3JFYWNoKChzcHJpbmdDaGFpbikgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHJpbmdDaGFpbi5qb2ludHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9pbnQgPSBzcHJpbmdDaGFpbi5qb2ludHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50V29ybGRSb3RhdGlvbiA9IGpvaW50Lm5vZGUucGFyZW50XG4gICAgICAgICAgICAgICAgICAgID8gam9pbnQubm9kZS5wYXJlbnQucm90YXRpb25Xb3JsZFxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2lkZW50aXR5UXVhdDtcbiAgICAgICAgICAgICAgICAvKiAxLiBGb3JjZXMgKi9cbiAgICAgICAgICAgICAgICAvKiBpbmVydGlhID0gKGN1cnJlbnRUYWlsIC0gcHJldlRhaWwpICogKDEuMGYgLSBkcmFnRm9yY2UpOyAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhO1xuICAgICAgICAgICAgICAgIGlmIChzcHJpbmdDaGFpbi5jZW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIoaW5lcnRpYSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWxDZW50ZXIsIGpvaW50LnN0YXRlLnByZXZUYWlsQ2VudGVyKTtcbiAgICAgICAgICAgICAgICAgICAgc3ByaW5nQ2hhaW4uY2VudGVyLnRyYW5zZm9ybVZlY3RvcldvcmxkKGluZXJ0aWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIoaW5lcnRpYSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwsIGpvaW50LnN0YXRlLnByZXZUYWlsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZShpbmVydGlhLCBpbmVydGlhLCAxLjAgLSBqb2ludC5kcmFnRm9yY2UpO1xuICAgICAgICAgICAgICAgIC8qIHN0aWZmbmVzcyA9IGRlbHRhVGltZSAqIHBhcmVudFdvcmxkUm90YXRpb24gKiBsb2NhbFJvdGF0aW9uICogYm9uZUF4aXMgKiBzdGlmZm5lc3NGb3JjZTsgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBzdGlmZm5lc3MgPSB2ZWMzLmNvcHkodGhpcy5fc3RpZmZuZXNzLCBqb2ludC5zdGF0ZS5ib25lQXhpcyk7XG4gICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHN0aWZmbmVzcywgc3RpZmZuZXNzLCBqb2ludC5zdGF0ZS5pbml0aWFsTG9jYWxSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHN0aWZmbmVzcywgc3RpZmZuZXNzLCBwYXJlbnRXb3JsZFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlKHN0aWZmbmVzcywgc3RpZmZuZXNzLCBkdCAqIGpvaW50LnN0aWZmbmVzcyk7XG4gICAgICAgICAgICAgICAgLyogZXh0ZXJuYWwgPSBkZWx0YVRpbWUgKiBncmF2aXR5RGlyICogZ3Jhdml0eVBvd2VyOyAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVybmFsID0gdmVjMy5zY2FsZSh0aGlzLl9leHRlcm5hbCwgam9pbnQuZ3Jhdml0eURpciwgZHQgKiBqb2ludC5ncmF2aXR5UG93ZXIpO1xuICAgICAgICAgICAgICAgIC8qIG5leHRUYWlsID0gY3VycmVudFRhaWwgKyBpbmVydGlhICsgc3RpZmZuZXNzICsgZXh0ZXJuYWw7ICovXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhaWwgPSB2ZWMzLmNvcHkodGhpcy5fdGVtcFYzQSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwpO1xuICAgICAgICAgICAgICAgIHZlYzMuYWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgaW5lcnRpYSk7XG4gICAgICAgICAgICAgICAgdmVjMy5hZGQobmV4dFRhaWwsIG5leHRUYWlsLCBzdGlmZm5lc3MpO1xuICAgICAgICAgICAgICAgIHZlYzMuYWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgZXh0ZXJuYWwpO1xuICAgICAgICAgICAgICAgIC8qIGNvbnN0cmFpbiB0aGUgbGVuZ3RoICovXG4gICAgICAgICAgICAgICAgLyogbmV4dFRhaWwgPSB3b3JsZFBvc2l0aW9uICsgKG5leHRUYWlsIC0gd29ybGRQb3NpdGlvbikubm9ybWFsaXplZCAqIGJvbmVMZW5ndGg7ICovXG4gICAgICAgICAgICAgICAgY29uc3Qgd29ybGRQb3NpdGlvbiA9IGpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcbiAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgd29ybGRQb3NpdGlvbiwgbmV4dFRhaWwsIGpvaW50LnN0YXRlLmJvbmVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIC8qIDIuIENvbGxpc2lvbiB3aXRoIGNvbGxpZGVycyAqL1xuICAgICAgICAgICAgICAgIC8qIFNwaGVyZSBjb2xsaWRlcnMgKi9cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsgc2hhcGUsIGNhY2hlIH0gb2Ygc3ByaW5nQ2hhaW4uc3BoZXJlQ29sbGlkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWlsVG9TaGFwZSA9IHRoaXMuX3RhaWxUb1NoYXBlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGhlcmVDZW50ZXIgPSBjYWNoZS5oZWFkO1xuICAgICAgICAgICAgICAgICAgICB0YWlsVG9TaGFwZSA9IHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgc3BoZXJlQ2VudGVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gc2hhcGUucmFkaXVzICsgam9pbnQuaGl0UmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gdmVjMy5sZW5ndGgodGFpbFRvU2hhcGUpIC0gcmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA8IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIG5leHRUYWlsLCB0YWlsVG9TaGFwZSwgLWRpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogY29uc3RyYWludCB0aGUgbGVuZ3RoICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIHdvcmxkUG9zaXRpb24sIG5leHRUYWlsLCBqb2ludC5zdGF0ZS5ib25lTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBDYXBzdWxlIGNvbGxpZGVycyAqL1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeyBzaGFwZSwgY2FjaGUgfSBvZiBzcHJpbmdDaGFpbi5jYXBzdWxlQ29sbGlkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWlsVG9TaGFwZSA9IHRoaXMuX3RhaWxUb1NoYXBlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkID0gY2FjaGUuaGVhZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFpbCA9IGNhY2hlLnRhaWw7XG4gICAgICAgICAgICAgICAgICAgIC8qIE5haXZlbHkgc3RhcnQgd2l0aCBkaXN0YW5jZSB0byB0aGUgaGVhZCAqL1xuICAgICAgICAgICAgICAgICAgICB0YWlsVG9TaGFwZSA9IHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgaGVhZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRUb1RhaWwgPSB2ZWMzLnN1Yih0aGlzLl9oZWFkVG9UYWlsLCB0YWlsLCBoZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG90ID0gdmVjMy5kb3QoaGVhZFRvVGFpbCwgdGFpbFRvU2hhcGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVjMy5zcXVhcmVkTGVuZ3RoKGhlYWRUb1RhaWwpIDw9IGRvdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ2xvc2VzdCB0byB0YWlsICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1Yih0YWlsVG9TaGFwZSwgbmV4dFRhaWwsIHRhaWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRvdCA+IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ2xvc2VzdCB0byBtaWRkbGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGUoaGVhZFRvVGFpbCwgaGVhZFRvVGFpbCwgZG90IC8gdmVjMy5zcXVhcmVkTGVuZ3RoKGhlYWRUb1RhaWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRhaWxUb1NoYXBlLCB0YWlsVG9TaGFwZSwgaGVhZFRvVGFpbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gc2hhcGUucmFkaXVzICsgam9pbnQuaGl0UmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gdmVjMy5sZW5ndGgodGFpbFRvU2hhcGUpIC0gcmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA8IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIG5leHRUYWlsLCB0YWlsVG9TaGFwZSwgLWRpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogY29uc3RyYWludCB0aGUgbGVuZ3RoICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIHdvcmxkUG9zaXRpb24sIG5leHRUYWlsLCBqb2ludC5zdGF0ZS5ib25lTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiAzLiBBcHBseWluZyByb3RhdGlvbiAqL1xuICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5wcmV2VGFpbCwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwpO1xuICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCwgbmV4dFRhaWwpO1xuICAgICAgICAgICAgICAgIGlmIChzcHJpbmdDaGFpbi5jZW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLnByZXZUYWlsQ2VudGVyLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlciwgbmV4dFRhaWwpO1xuICAgICAgICAgICAgICAgICAgICBzcHJpbmdDaGFpbi5jZW50ZXIudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQoam9pbnQuc3RhdGUuY3VycmVudFRhaWxDZW50ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiB0byA9IChuZXh0VGFpbCAqIChub2RlLnBhcmVudC53b3JsZE1hdHJpeCAqIGluaXRpYWxMb2NhbE1hdHJpeCkuaW52ZXJzZSkubm9ybWFsaXplZCAqL1xuICAgICAgICAgICAgICAgIGpvaW50Lm5vZGUucGFyZW50LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKG5leHRUYWlsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFpbER1YWxRdWF0ID0gcXVhdDIuZnJvbVRyYW5zbGF0aW9uKHRoaXMuX3RlbXBRdWF0MiwgbmV4dFRhaWwpO1xuICAgICAgICAgICAgICAgIHF1YXQyLm11bHRpcGx5KG5leHRUYWlsRHVhbFF1YXQsIGpvaW50LnN0YXRlLmluaXRpYWxMb2NhbFRyYW5zZm9ybUludmVydCwgbmV4dFRhaWxEdWFsUXVhdCk7XG4gICAgICAgICAgICAgICAgcXVhdDIuZ2V0VHJhbnNsYXRpb24obmV4dFRhaWwsIG5leHRUYWlsRHVhbFF1YXQpO1xuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XG4gICAgICAgICAgICAgICAgLyogbm9kZS5yb3RhdGlvbiA9IGluaXRpYWxMb2NhbFJvdGF0aW9uICogUXVhdGVybmlvbi5mcm9tVG9RdWF0ZXJuaW9uKGJvbmVBeGlzLCB0byk7ICovXG4gICAgICAgICAgICAgICAgY29uc3Qgam9pbnRSb3RhdGlvbiA9IHF1YXQucm90YXRpb25Ubyh0aGlzLl90ZW1wUXVhdEEsIGpvaW50LnN0YXRlLmJvbmVBeGlzLCBuZXh0VGFpbCk7XG4gICAgICAgICAgICAgICAgam9pbnQubm9kZS5yb3RhdGlvbkxvY2FsID0gcXVhdC5tdWwodGhpcy5fdGVtcFF1YXRBLCBqb2ludC5zdGF0ZS5pbml0aWFsTG9jYWxSb3RhdGlvbiwgam9pbnRSb3RhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpcnN0UGVyc29uIFdoZXRoZXIgdGhlIG1vZGVsIHNob3VsZCByZW5kZXIgZm9yIGZpcnN0IHBlcnNvbiBvciB0aGlyZCBwZXJzb24gdmlld3NcbiAgICAgKi9cbiAgICBzZXQgZmlyc3RQZXJzb24oZmlyc3RQZXJzb24pIHtcbiAgICAgICAgdGhpcy5fZmlyc3RQZXJzb25Bbm5vdGF0aW9ucy5mb3JFYWNoKChhbm5vdGF0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID0gZmlyc3RQZXJzb24gPT0gYW5ub3RhdGlvbi5maXJzdFBlcnNvbiB8fFxuICAgICAgICAgICAgICAgIGZpcnN0UGVyc29uICE9IGFubm90YXRpb24udGhpcmRQZXJzb247XG4gICAgICAgICAgICBhbm5vdGF0aW9uLm5vZGUuZ2V0Q29tcG9uZW50cygnbWVzaCcpLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICBtZXNoLmFjdGl2ZSA9IHZpc2libGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IHsgVnJtIH07XG4iLCAiaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuY29uc3QgX2RpcmVjdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4vKipcbiAqIEJhc2ljIG1vdmVtZW50IHdpdGggVy9BL1MvRCBrZXlzLlxuICovXG5jbGFzcyBXYXNkQ29udHJvbHNDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd3YXNkLWNvbnRyb2xzJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIE1vdmVtZW50IHNwZWVkIGluIG0vcy4gKi9cbiAgICAgICAgc3BlZWQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4xIH0sXG4gICAgICAgIC8qKiBGbGFnIGZvciBvbmx5IG1vdmluZyB0aGUgb2JqZWN0IG9uIHRoZSBnbG9iYWwgeCAmIHogcGxhbmVzICovXG4gICAgICAgIGxvY2tZOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgICAgLyoqIE9iamVjdCBvZiB3aGljaCB0aGUgb3JpZW50YXRpb24gaXMgdXNlZCB0byBkZXRlcm1pbmUgZm9yd2FyZCBkaXJlY3Rpb24gKi9cbiAgICAgICAgaGVhZE9iamVjdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgIH07XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy51cCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLnByZXNzLmJpbmQodGhpcykpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlbGVhc2UuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmhlYWRPYmplY3QgPSB0aGlzLmhlYWRPYmplY3QgfHwgdGhpcy5vYmplY3Q7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdmVjMy56ZXJvKF9kaXJlY3Rpb24pO1xuICAgICAgICBpZiAodGhpcy51cClcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMl0gLT0gMS4wO1xuICAgICAgICBpZiAodGhpcy5kb3duKVxuICAgICAgICAgICAgX2RpcmVjdGlvblsyXSArPSAxLjA7XG4gICAgICAgIGlmICh0aGlzLmxlZnQpXG4gICAgICAgICAgICBfZGlyZWN0aW9uWzBdIC09IDEuMDtcbiAgICAgICAgaWYgKHRoaXMucmlnaHQpXG4gICAgICAgICAgICBfZGlyZWN0aW9uWzBdICs9IDEuMDtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoX2RpcmVjdGlvbiwgX2RpcmVjdGlvbik7XG4gICAgICAgIF9kaXJlY3Rpb25bMF0gKj0gdGhpcy5zcGVlZDtcbiAgICAgICAgX2RpcmVjdGlvblsyXSAqPSB0aGlzLnNwZWVkO1xuICAgICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQoX2RpcmVjdGlvbiwgX2RpcmVjdGlvbiwgdGhpcy5oZWFkT2JqZWN0LnRyYW5zZm9ybVdvcmxkKTtcbiAgICAgICAgaWYgKHRoaXMubG9ja1kpIHtcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMV0gPSAwO1xuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUoX2RpcmVjdGlvbiwgX2RpcmVjdGlvbik7XG4gICAgICAgICAgICB2ZWMzLnNjYWxlKF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24sIHRoaXMuc3BlZWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JqZWN0LnRyYW5zbGF0ZUxvY2FsKF9kaXJlY3Rpb24pO1xuICAgIH1cbiAgICBwcmVzcyhlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM4IC8qIHVwICovIHx8XG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDg3IC8qIHcgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gOTAgLyogeiAqLykge1xuICAgICAgICAgICAgdGhpcy51cCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDAgLyogZG93biAqLyB8fCBlLmtleUNvZGUgPT09IDgzIC8qIHMgKi8pIHtcbiAgICAgICAgICAgIHRoaXMuZG93biA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzNyAvKiBsZWZ0ICovIHx8XG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDY1IC8qIGEgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODEgLyogcSAqLykge1xuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWxlYXNlKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzggLyogdXAgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODcgLyogdyAqLyB8fFxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA5MCAvKiB6ICovKSB7XG4gICAgICAgICAgICB0aGlzLnVwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQwIC8qIGRvd24gKi8gfHwgZS5rZXlDb2RlID09PSA4MyAvKiBzICovKSB7XG4gICAgICAgICAgICB0aGlzLmRvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3IC8qIGxlZnQgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gNjUgLyogYSAqLyB8fFxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA4MSAvKiBxICovKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB7IFdhc2RDb250cm9sc0NvbXBvbmVudCB9O1xuIiwgImltcG9ydCB7Q29tcG9uZW50LCBUeXBlLCBQcm9wZXJ0eSwgTWF0ZXJpYWwsIFRleHRDb21wb25lbnR9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQge1JvYm90VGVsZW9wfSBmcm9tICcuL3JvYm90LXRlbGVvcCc7XG5pbXBvcnQge0dvYWxQb3NlQ29tcG9uZW50fSBmcm9tICcuL2dvYWwtcG9zZSc7XG5pbXBvcnQge1RlbGVwb3J0Q29tcG9uZW50fSBmcm9tICcuLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RlbGVwb3J0JztcbmltcG9ydCB7IFN3aXRjaCB9IGZyb20gJy4vc3dpdGNoJztcbmltcG9ydCB7QnV0dG9uQ29tcG9uZW50fSBmcm9tICcuL2J1dHRvbic7XG5pbXBvcnQgeyB2ZWMzLCBxdWF0IH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7Um9ib2NhbUdyYWJiZXJ9IGZyb20gJy4vcm9ib2NhbS1ncmFiYmVyJztcbmltcG9ydCB7U2NyZWVuMn0gZnJvbSAnLi9zY3JlZW4yJztcbmltcG9ydCB7U25hcFR1cm59IGZyb20gJy4vc25hcC10dXJuJztcbi8qKlxuICogYnV0dG9uLWhhbmRsZXJcbiAqL1xuZXhwb3J0IGNsYXNzIEJ1dHRvbkhhbmRsZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdidXR0b24taGFuZGxlcic7XG4gICAgLyogUHJvcGVydGllcyB0aGF0IGFyZSBjb25maWd1cmFibGUgaW4gdGhlIGVkaXRvciAqL1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogQ3Vyc29yTGVmdCBvYmplY3QgKi9cbiAgICAgICAgY3Vyc29yTGVmdE9iamVjdDogUHJvcGVydHkub2JqZWN0KCksXG4gICAgICAgIC8qKiBDdXJzb3JSaWdodCBvYmplY3QgKi9cbiAgICAgICAgY3Vyc29yUmlnaHRPYmplY3Q6IFByb3BlcnR5Lm9iamVjdCgpLFxuICAgICAgICAvKiogUm9vdCBvZiB0aGUgcGxheWVyJ3MgY2FtZXJhICovXG4gICAgICAgIGNhbVJvb3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIExlZnQgZXllIG9iamVjdCAqL1xuICAgICAgICBleWVMZWZ0OiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKiogVGVsZXBvcnQgYnV0dG9uIG9iamVjdCAqL1xuICAgICAgICB0ZWxlcG9ydFN3aXRjaDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFRlbGVvcCBidXR0b24gb2JqZWN0ICovXG4gICAgICAgIHRlbGVvcFN3aXRjaDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFJvYm90IFBPViBidXR0b24gb2JqZWN0ICovXG4gICAgICAgIGJvdFBPVkJ1dHRvbjoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIEZyZWUgUm9hbSBidXR0b24gb2JqZWN0ICovXG4gICAgICAgIGZyZWVSb2FtQnV0dG9uOiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKiogUm9ib3QgQ2FtZXJhIERpc3BsYXkgT2JqZWN0ICovXG4gICAgICAgIHJvYm90Q2FtRGlzcE9iamVjdDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFNjcmVlbiBvYmplY3QgKi9cbiAgICAgICAgc2NyZWVuT2JqZWN0OiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKiogUm9ib3QgU3dpdGNoIDEgb2JqZWN0ICovXG4gICAgICAgIHJvYm90MVN3aXRjaDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFJvYm90IFN3aXRjaCAyIG9iamVjdCAqL1xuICAgICAgICByb2JvdDJTd2l0Y2g6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgICAgIC8qKiBSb2JvdCBTd2l0Y2ggMyBvYmplY3QgKi9cbiAgICAgICAgcm9ib3QzU3dpdGNoOiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKipUZWxlb3AgTWVudSBPYmplY3QgKi9cbiAgICAgICAgdGVsZW9wTWVudU9iajoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqVGVsZXBvcnQgTWVudSBPYmplY3QgKi9cbiAgICAgICAgdGVsZXBvcnRNZW51T2JqOiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKipSb2JvdCBQT1YgTWVudSBPYmplY3QgKi9cbiAgICAgICAgcG92TWVudU9iajoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqRnJlZSBSb2FtIE1lbnUgT2JqZWN0ICovXG4gICAgICAgIHJvYW1NZW51T2JqOiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKiogR3JleSBUZXh0IE1hdGVyaWFsICovXG4gICAgICAgIGdyZXlUZXh0TWF0ZXJpYWw6IHt0eXBlOiBUeXBlLk1hdGVyaWFsfSxcbiAgICAgICAgLyoqIERlZmF1bHQgVGV4dCBNYXRlcmlhbCAqL1xuICAgICAgICBkZWZhdWx0VGV4dE1hdGVyaWFsOiB7dHlwZTogVHlwZS5NYXRlcmlhbH0sXG5cbiAgICB9O1xuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIC8qIExlZnQgY3Vyc29yIGNvbXBvbmVudHMgKi9cbiAgICAgICAgLy8gR29hbCBwb3NlIGNvbXBvbmVudFxuICAgICAgICB0aGlzLmdvYWxQb3NlQ29tcG9uZW50ID0gdGhpcy5jdXJzb3JMZWZ0T2JqZWN0LmdldENvbXBvbmVudChHb2FsUG9zZUNvbXBvbmVudCk7XG4gICAgICAgIC8vIFRlbGVvcCBjb21wb25lbnRcbiAgICAgICAgdGhpcy50ZWxlb3BDb21wb25lbnRMZWZ0ID0gdGhpcy5jdXJzb3JMZWZ0T2JqZWN0LmdldENvbXBvbmVudChSb2JvdFRlbGVvcCk7XG5cbiAgICAgICAgLyogUmlnaHQgY3Vyc29yIGNvbXBvbmVudHMgKi9cbiAgICAgICAgLy8gVGVsZXBvcnQgY29tcG9uZW50XG4gICAgICAgIHRoaXMudGVsZXBvcnRDb21wb25lbnQgPSB0aGlzLmN1cnNvclJpZ2h0T2JqZWN0LmdldENvbXBvbmVudChUZWxlcG9ydENvbXBvbmVudCk7XG4gICAgICAgIC8vIFRlbGVvcCBjb21wb25lbnRcbiAgICAgICAgdGhpcy50ZWxlb3BDb21wb25lbnRSaWdodCA9IHRoaXMuY3Vyc29yUmlnaHRPYmplY3QuZ2V0Q29tcG9uZW50KFJvYm90VGVsZW9wKTtcbiAgICAgICAgLy8gU25hcCBUdXJuIGNvbXBvbmVudFxuICAgICAgICB0aGlzLnNuYXBUdXJuQ29tcG9uZW50ID0gdGhpcy5jdXJzb3JSaWdodE9iamVjdC5nZXRDb21wb25lbnQoU25hcFR1cm4pO1xuXG4gICAgICAgIC8qKiBUZXh0IE1lbnUgQ29tcG9uZW50cyAqL1xuICAgICAgICB0aGlzLnRlbGVvcE1lbnVUZXh0ID0gdGhpcy50ZWxlb3BNZW51T2JqLmdldENvbXBvbmVudChUZXh0Q29tcG9uZW50KTtcbiAgICAgICAgdGhpcy50ZWxlcG9ydE1lbnVUZXh0ID0gdGhpcy50ZWxlcG9ydE1lbnVPYmouZ2V0Q29tcG9uZW50KFRleHRDb21wb25lbnQpO1xuICAgICAgICB0aGlzLnBvdk1lbnVUZXh0ID0gdGhpcy5wb3ZNZW51T2JqLmdldENvbXBvbmVudChUZXh0Q29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5yb2FtTWVudVRleHQgPSB0aGlzLnJvYW1NZW51T2JqLmdldENvbXBvbmVudChUZXh0Q29tcG9uZW50KTtcblxuICAgICAgICAvKiBSb2JvdCBDYW1lcmEgRGlzcGxheSBjb21wb25lbnRzKi9cbiAgICAgICAgdGhpcy5yb2JvY2FtR3JhYmJlckNvbXBvbmVudCA9IHRoaXMucm9ib3RDYW1EaXNwT2JqZWN0LmdldENvbXBvbmVudChSb2JvY2FtR3JhYmJlcik7XG5cbiAgICAgICAgLyogU2NyZWVuIE9iamVjdCBjb21wb25lbnRzICovXG4gICAgICAgIHRoaXMuc2NyZWVuQ29tcG9uZW50ID0gdGhpcy5zY3JlZW5PYmplY3QuZ2V0Q29tcG9uZW50KFNjcmVlbjIpO1xuXG4gICAgICAgIC8qIEZyZWUgcm9hbSBidXR0b24gICovXG4gICAgICAgIHRoaXMuZnJlZVJvYW1CdXR0b25Ub2dnbGUgPSB0aGlzLmZyZWVSb2FtQnV0dG9uLmdldENvbXBvbmVudChCdXR0b25Db21wb25lbnQpO1xuICAgICAgICB0aGlzLmZyZWVSb2FtU3Bhd24gPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgLyogRW1wdHkgdmVjdG9yIHVzZWQgdG8gY2FsY3VsYXRlIGNhbWVyYSByb3RhdGlvbiovXG4gICAgICAgIHRoaXMuX3RlbXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICAvKiBFbXB0eSB2ZWN0b3IgdXNlZCB0byByZXRyaWV2ZSBjYW1lcmEgcG9zaXRpb24qL1xuICAgICAgICB0aGlzLl90ZW1wVmVjMCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5cbiAgICAgICAgLyogQXJyYXlzIGZvciBwbGF5ZXIgcG9zaXRpb24gYW5kIHJvdGF0aW9uICovXG4gICAgICAgIHRoaXMubGFzdFBsYXllclBvc2l0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5sYXN0UGxheWVyUm90YXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4gICAgICAgIHRoaXMudGVsZXBvcnRTd2l0Y2hDb21wb25lbnQgPSB0aGlzLnRlbGVwb3J0U3dpdGNoLmdldENvbXBvbmVudChTd2l0Y2gpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy50ZWxlb3BTd2l0Y2hDb21wb25lbnQgPSB0aGlzLnRlbGVvcFN3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTsgICAgICAgIFxuXG4gICAgICAgIGNvbnN0IGJ1dHRvbjFDb21wb25lbnQgPSB0aGlzLnRlbGVvcFN3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgYnV0dG9uMUNvbXBvbmVudC5lbWl0dGVyLmFkZCgoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMubWVudUJlaGF2aW9yKGRhdGFbJ2lkJ10pXG4gICAgICAgIH0pO1xuXG4gICAgXG4gICAgICAgIGNvbnN0IGJ1dHRvbjJDb21wb25lbnQgPSB0aGlzLnRlbGVwb3J0U3dpdGNoLmdldENvbXBvbmVudChTd2l0Y2gpO1xuICAgICAgICBidXR0b24yQ29tcG9uZW50LmVtaXR0ZXIuYWRkKChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5tZW51QmVoYXZpb3IoZGF0YVsnaWQnXSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYnV0dG9uM0NvbXBvbmVudCA9IHRoaXMuYm90UE9WQnV0dG9uLmdldENvbXBvbmVudChCdXR0b25Db21wb25lbnQpO1xuICAgICAgICBidXR0b24zQ29tcG9uZW50LmVtaXR0ZXIuYWRkKChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5tZW51QmVoYXZpb3IoZGF0YVsnaWQnXSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYnV0dG9uNENvbXBvbmVudCA9IHRoaXMuZnJlZVJvYW1CdXR0b24uZ2V0Q29tcG9uZW50KEJ1dHRvbkNvbXBvbmVudCk7XG4gICAgICAgIGJ1dHRvbjRDb21wb25lbnQuZW1pdHRlci5hZGQoKGRhdGEpPT57XG4gICAgICAgICAgICB0aGlzLm1lbnVCZWhhdmlvcihkYXRhWydpZCddKVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmlzUE9WID0gZmFsc2U7IC8vIFRyYWNrIGlmIHRoZSB1c2VyIGlzIGFscmVhZHkgaW4gUm9ib3QgUE9WIG1vZGVcblxuICAgICAgICB0aGlzLnN3aXRjaDFDb21wb25lbnRUb2dnbGUgPSB0aGlzLnJvYm90MVN3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgdGhpcy5zd2l0Y2gyQ29tcG9uZW50VG9nZ2xlID0gdGhpcy5yb2JvdDJTd2l0Y2guZ2V0Q29tcG9uZW50KFN3aXRjaCk7XG4gICAgICAgIHRoaXMuc3dpdGNoM0NvbXBvbmVudFRvZ2dsZSA9IHRoaXMucm9ib3QzU3dpdGNoLmdldENvbXBvbmVudChTd2l0Y2gpO1xuICAgIH1cblxuICAgIHVwZGF0ZShkdCkge1xuICAgIH1cblxuICAgIF9nZXRDYW1Sb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5leWVMZWZ0LmdldEZvcndhcmRXb3JsZCh0aGlzLl90ZW1wVmVjKTtcbiAgICAgICAgdGhpcy5fdGVtcFZlY1sxXSA9IDA7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX3RlbXBWZWMsIHRoaXMuX3RlbXBWZWMpO1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLl90ZW1wVmVjWzBdLCB0aGlzLl90ZW1wVmVjWzJdKTtcbiAgICB9XG5cbiAgICBfZ2V0UGxheWVyUG9zaXRpb24oKXtcbiAgICAgICAgdGhpcy5jYW1Sb290LmdldFBvc2l0aW9uV29ybGQodGhpcy5fdGVtcFZlYzApO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcFZlYzA7XG4gICAgfVxuXG4gICAgX2dldFBsYXllclJvdGF0aW9uKCl7XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHJvdGF0aW9uIGluIHF1YXRlcm5pb25cbiAgICAgICAgY29uc3Qgcm90YXRpb25RdWF0ZXJuaW9uID0gcXVhdC5jcmVhdGUoKTtcbiAgICAgICAgcXVhdC5mcm9tRXVsZXIocm90YXRpb25RdWF0ZXJuaW9uLCAwLCB0aGlzLl9nZXRDYW1Sb3RhdGlvbigpICogKDE4MCAvIE1hdGguUEkpLCAwKTtcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uUXVhdGVybmlvbjtcbiAgICB9XG5cbiAgICBtZW51QmVoYXZpb3IoYnV0dG9uSWQpe1xuXG4gICAgICAgIGlmKGJ1dHRvbklkID09IDEpe1xuICAgICAgICAgICAgLyogVGhpcyBidXR0b24gYWN0aXZhdGVzIHJvYm90IFBPViAqL1xuICAgICAgICAgICAgaWYodGhpcy5pc1BPViA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgIHRoaXMuaXNQT1YgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgcm9ib3Qgc3dpdGNoZXNcbiAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaDFDb21wb25lbnRUb2dnbGUucmVzZXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaDJDb21wb25lbnRUb2dnbGUucmVzZXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaDNDb21wb25lbnRUb2dnbGUucmVzZXQoKTtcblxuICAgICAgICAgICAgICAgIC8vIFN0b3JlIHBsYXllcidzIGxhc3QgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UGxheWVyUG9zaXRpb24gPSB0aGlzLl9nZXRQbGF5ZXJQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFBsYXllclJvdGF0aW9uID0gdGhpcy5fZ2V0UGxheWVyUm90YXRpb24oKTtcblxuICAgICAgICAgICAgICAgIC8vIFRlbGVwb3J0IHBsYXllciB0byBza3lkb21lXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1Sb290LnNldFBvc2l0aW9uV29ybGQoWy04LDAsMF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtUm9vdC5zZXRSb3RhdGlvbldvcmxkKFswLCAtMC43MDcsIDAsIDAuNzA3XSk7IC8vIEZhY2UgdGhlIHNjcmVlbiB3aGVuIHRlbGVwb3J0ZWQgWzAsIC05MCwgMF0gaW4gZXVsZXIuXG5cbiAgICAgICAgICAgICAgICAvLyBEZWFjdGl2YXRlIHRlbGVvcCwgdGVsZXBvcnQgYW5kIGdvYWwgcG9zZSwgc25hcCB0dXJuXG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlb3BDb21wb25lbnRSaWdodC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVvcENvbXBvbmVudExlZnQuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydENvbXBvbmVudC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmdvYWxQb3NlQ29tcG9uZW50LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc25hcFR1cm5Db21wb25lbnQuYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBEZWFjdGl2YXRlIGJ1dHRvbnMgZm9yIHRlbGVvcCAmIHRlbGVwb3J0ICsgUmVzZXQgc3dpdGNoZXMgc3RhdGVcbiAgICAgICAgICAgICAgICAvLyAoUHJldmVudHMgdGhlIHVzZXIgZnJvbSBlc2NhcGluZyB0aGUgc3BoZXJlIC8gRHJpdmluZyB0aGUgcm9ib3QgYmxpbmRseSlcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0U3dpdGNoQ29tcG9uZW50LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZW9wU3dpdGNoQ29tcG9uZW50LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRTd2l0Y2hDb21wb25lbnQucmVzZXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVvcFN3aXRjaENvbXBvbmVudC5yZXNldCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIHRleHQgY29sb3JzIGFuZCB0ZXh0IGZvciBtZW51XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlb3BNZW51VGV4dC5tYXRlcmlhbCA9IHRoaXMuZ3JleVRleHRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0TWVudVRleHQubWF0ZXJpYWwgPSB0aGlzLmdyZXlUZXh0TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgdGhpcy5yb2FtTWVudVRleHQubWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRUZXh0TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3ZNZW51VGV4dC50ZXh0ID0gXCJSZWZyZXNoIGZyYW1lLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cIjtcblxuICAgICAgICAgICAgICAgIC8vIEFjdGl2YXRlIGZyZWUgcm9hbSBidXR0b25cbiAgICAgICAgICAgICAgICB0aGlzLmZyZWVSb2FtQnV0dG9uVG9nZ2xlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmVlUm9hbVNwYXduID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5mcmVlUm9hbVNwYXduKVxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMuaXNQT1YgPT09IHRydWUpe1xuICAgICAgICAgICAgICAgIC8vIERlYWN0aXZhdGUgU2NyZWVuIGZvciByZWZyZXNoXG4gICAgICAgICAgICAgICAgLy90aGlzLnNjcmVlbkNvbXBvbmVudC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvL0RlYWN0aXZhdGUgcm9ib3QgY2FtIGdyYWJiZXIgZm9yIHJlZnJlc2hcbiAgICAgICAgICAgICAgICB0aGlzLnJvYm9jYW1HcmFiYmVyQ29tcG9uZW50LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBY3RpdmF0ZSBTY3JlZW5cbiAgICAgICAgICAgIC8vdGhpcy5zY3JlZW5Db21wb25lbnQuYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gQWN0aXZhdGUgcm9ib3QgY2FtIGdyYWJiZXJcbiAgICAgICAgICAgIHRoaXMucm9ib2NhbUdyYWJiZXJDb21wb25lbnQuYWN0aXZlID0gdHJ1ZTsgXG5cbiAgICAgICAgICAgIFxuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGJ1dHRvbklkID09IDIpe1xuICAgICAgICAgICAgLyogVGhpcyBidXR0b24gYWN0aXZhdGVzIGZyZWUgcm9hbSBpbiB0aGUgc2NlbmUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWxyZWFkeSBpbiBmcmVlIHJvYW1cIik7XG4gICAgICAgICAgICBpZih0aGlzLmZyZWVSb2FtU3Bhd24gPT09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdvaW5nIHRvIGZyZWUgcm9hbVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUE9WID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBEZWFjdGl2YXRlIFJvYm9jYW1HcmFiYmVyXG4gICAgICAgICAgICAgICAgdGhpcy5yb2JvY2FtR3JhYmJlckNvbXBvbmVudC5hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIERlYWN0aXZhdGUgU2NyZWVuXG4gICAgICAgICAgICAgICAgLy90aGlzLnNjcmVlbkNvbXBvbmVudC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyAvLyBBY3RpdmF0ZSB0ZWxlcG9ydCBhbmQgZ29hbCBwb3NlIGFuZCBzbmFwIHR1cm5cbiAgICAgICAgICAgICAgICAvLyB0aGlzLnRlbGVwb3J0Q29tcG9uZW50LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5nb2FsUG9zZUNvbXBvbmVudC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuc25hcFR1cm5Db21wb25lbnQuYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIEFjdGl2YXRlIGJ1dHRvbnMgZm9yIHRlbGVvcCAmIHRlbGVwb3J0XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydFN3aXRjaENvbXBvbmVudC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZW9wU3dpdGNoQ29tcG9uZW50LmFjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgdGV4dCBjb2xvcnMgYW5kIHRleHQgZm9yIG1lbnVcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVvcE1lbnVUZXh0Lm1hdGVyaWFsID0gdGhpcy5kZWZhdWx0VGV4dE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRNZW51VGV4dC5tYXRlcmlhbCA9IHRoaXMuZGVmYXVsdFRleHRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvYW1NZW51VGV4dC5tYXRlcmlhbCA9IHRoaXMuZ3JleVRleHRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICB0aGlzLnBvdk1lbnVUZXh0LnRleHQgPSBcIlZpc3VhbGl6ZSByb2JvdCdzIFBPVi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cIjtcblxuXG4gICAgICAgICAgICAgICAgLy8gVGVsZXBvcnQgcGxheWVyIHRvIGxhc3QgcG9zaXRpb24gaW4gc2NlbmVcbiAgICAgICAgICAgICAgICB0aGlzLmNhbVJvb3Quc2V0UG9zaXRpb25Xb3JsZCh0aGlzLmxhc3RQbGF5ZXJQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1Sb290LnNldFJvdGF0aW9uV29ybGQodGhpcy5sYXN0UGxheWVyUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtUm9vdC5yb3RhdGVBeGlzQW5nbGVEZWdPYmplY3QoWzAsMSwwXSwgMTgwKTtcblxuICAgICAgICAgICAgICAgIC8vIERlYWN0aXZhdGUgZnJlZSByb2FtIGJ1dHRvblxuICAgICAgICAgICAgICAgIHRoaXMuZnJlZVJvYW1CdXR0b25Ub2dnbGUuYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBSZXNldCByb2JvdCBzd2l0Y2hlc1xuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoMUNvbXBvbmVudFRvZ2dsZS5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoMkNvbXBvbmVudFRvZ2dsZS5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoM0NvbXBvbmVudFRvZ2dsZS5yZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0gICAgIFxuICAgIH1cbn0iLCAiaW1wb3J0IHtDb21wb25lbnQsIFR5cGUsIFByb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgU3dpdGNoIH0gZnJvbSAnLi9zd2l0Y2gnO1xuXG5cbi8qKlxuICogcm9ib3QtdGVsZW9wXG4gKi9cbmV4cG9ydCBjbGFzcyBSb2JvdFRlbGVvcCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3JvYm90LXRlbGVvcCc7XG4gICAgLyogUHJvcGVydGllcyB0aGF0IGFyZSBjb25maWd1cmFibGUgaW4gdGhlIGVkaXRvciAqL1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICBcbiAgICAgICAgLyoqIEhhbmRlZG5lc3MgZm9yIFZSIGN1cnNvcnMgdG8gYWNjZXB0IGlucHV0IG9ubHkgZnJvbSByZXNwZWN0aXZlIGNvbnRyb2xsZXIgKi9cbiAgICAgICAgaGFuZGVkbmVzczoge3R5cGU6IFR5cGUuRW51bSwgdmFsdWVzOiBbJ2xlZnQnLCAncmlnaHQnXSwgZGVmYXVsdDogJ2xlZnQnfSxcbiAgICAgICAgXG4gICAgICAgIC8qKiBUZWxlb3AgVHlwZSAoTGluZWFyL0FuZ3VsYXIpICovXG4gICAgICAgIHRlbGVvcFR5cGU6IHt0eXBlOiBUeXBlLkVudW0sIHZhbHVlczogWydsaW5lYXInLCAnYW5ndWxhciddLCBkZWZhdWx0OiAnbGluZWFyJ30sXG5cbiAgICAgICAgLyoqIENydWlzZSBMaW5lYXIgdmVsb2NpdHkgKi9cbiAgICAgICAgbGluZWFyVmVsb2NpdHk6IHt0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjF9LFxuICAgICAgICBcbiAgICAgICAgLyoqIENydWlzZSBBbmd1bGFyIHZlbG9jaXR5ICovXG4gICAgICAgIGFuZ3VsYXJWZWxvY2l0eToge3R5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuM30sXG5cbiAgICAgICAgLyoqIFJvYm90MSBzd2l0Y2ggb2JqZWN0ICovXG4gICAgICAgIHJvYm90MVN3aXRjaDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFJvYm90MiBzd2l0Y2ggb2JqZWN0ICovXG4gICAgICAgIHJvYm90MlN3aXRjaDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFJvYm90MyBzd2l0Y2ggb2JqZWN0ICovXG4gICAgICAgIHJvYm90M1N3aXRjaDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFRodW1ic3RpY2sgZGVhZHpvbmUgKi9cbiAgICAgICAgc3RpY2tEZWFkem9uZToge3R5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6MC4wfSxcbiAgICB9O1xuXG4gICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XG4gICAgICAgIC8qIFRyaWdnZXJlZCB3aGVuIHRoaXMgY29tcG9uZW50IGNsYXNzIGlzIHJlZ2lzdGVyZWQuXG4gICAgICAgICAqIFlvdSBjYW4gZm9yIGluc3RhbmNlIHJlZ2lzdGVyIGV4dHJhIGNvbXBvbmVudCB0eXBlcyBoZXJlXG4gICAgICAgICAqIHRoYXQgeW91ciBjb21wb25lbnQgbWF5IGNyZWF0ZS4gKi9cbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICAvKiogRGVhZHpvbmUgZm9yIHRodW1ic3RpY2sgbGF0ZXJhbCBtb3ZlbWVudHMgKi9cbiAgICAgICAgdGhpcy5sYXRlcmFsRGVhZFpvbmUgPSAwLjg7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIC8vU3RhdFxuICAgICAgICAvKiogSW5pdGlhdGluZyB0aGUgV2ViU29ja2V0IGFkZHJlc3MgKi9cbiAgICAgICAgLy90aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3czovL2xvY2FsaG9zdDozMDAwXCIpO1xuICAgICAgICAvL3RoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzOi8vMTkyLjE2OC4xLjcxOjMwMDBcIik7XG4gICAgICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzOi8vMTkyLjE2OC4xNjUuMTg1OjMwMDBcIik7XG5cbiAgICAgICAgdGhpcy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN3aXRjaDFDb21wb25lbnQgPSB0aGlzLnJvYm90MVN3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgc3dpdGNoMUNvbXBvbmVudC5lbWl0dGVyLmFkZCgoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Um9ib3QoZGF0YVsnaWQnXSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3dpdGNoMkNvbXBvbmVudCA9IHRoaXMucm9ib3QyU3dpdGNoLmdldENvbXBvbmVudChTd2l0Y2gpO1xuICAgICAgICBzd2l0Y2gyQ29tcG9uZW50LmVtaXR0ZXIuYWRkKChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RSb2JvdChkYXRhWydpZCddKVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzd2l0Y2gzQ29tcG9uZW50ID0gdGhpcy5yb2JvdDNTd2l0Y2guZ2V0Q29tcG9uZW50KFN3aXRjaCk7XG4gICAgICAgIHN3aXRjaDNDb21wb25lbnQuZW1pdHRlci5hZGQoKGRhdGEpPT57XG4gICAgICAgICAgICB0aGlzLnNlbGVjdFJvYm90KGRhdGFbJ2lkJ10pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFJvYm90TmFtZXNwYWNlID0gXCJcIlxuICAgICAgICB0aGlzLnJvYm90TmFtZXNwYWNlcyA9IFsnd2FmZmxlMScsICd3YWZmbGUyJywgJ3dhZmZsZTMnXSBcbiAgICB9XG5cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLmVuZ2luZS54clNlc3Npb247XG4gICAgICAgIGlmICghcykgcmV0dXJuO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5pbnB1dFNvdXJjZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgbGV0IGlucHV0ID0gcy5pbnB1dFNvdXJjZXNbaV07XG4gICAgICAgICAgICBpZiAoaW5wdXQuaGFuZGVkbmVzcyA9PSBbJ2xlZnQnLCAncmlnaHQnXVt0aGlzLmhhbmRlZG5lc3NdKXtcbiAgICAgICAgICAgICAgICBsZXQgZ2FtZXBhZCA9IGlucHV0LmdhbWVwYWQ7XG4gICAgICAgICAgICAgICAgaWYoIWdhbWVwYWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgLy9HYXRoZXIgaW5wdXQgZnJvbSBjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgbGV0IHhBeGlzID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sU291cmNlID09ICd0aHVtYnN0aWNrJyA/IGdhbWVwYWQuYXhlc1swXSA6IGdhbWVwYWQuYXhlc1syXTtcbiAgICAgICAgICAgICAgICBsZXQgeUF4aXMgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xTb3VyY2UgPT0gJ3RodW1ic3RpY2snID8gZ2FtZXBhZC5heGVzWzFdIDogZ2FtZXBhZC5heGVzWzNdO1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgaWYodGhpcy50ZWxlb3BUeXBlID09IDApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVMaW5lYXIoeUF4aXMsIGR0KTsgLy8geUF4aXMgb24gdGhlIHRodW1ic3RpY2sgaXMgdmVydGljYWxcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudGVsZW9wVHlwZSA9PSAxKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlQW5ndWxhcih4QXhpcywgZHQpOyAvLyB4QXhpcyBvbiB0aGUgdGh1bWJzdGljayBpcyBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlTGluZWFyKHlBeGlzLCBkdCk7IC8vIHlBeGlzIG9uIHRoZSB0aHVtYnN0aWNrIGlzIHZlcnRpY2FsXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQW5ndWxhcih4QXhpcywgZHQpOyAvLyB4QXhpcyBvbiB0aGUgdGh1bWJzdGljayBpcyBob3Jpem9udGFsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlTGluZWFyKHlBeGlzLCBkdCl7XG4gICAgICAgIFxuICAgICAgICBpZih5QXhpcyA8IC10aGlzLnN0aWNrRGVhZHpvbmUgJiYgdGhpcy5zb2NrZXQucmVhZHlTdGF0ZSl7XG4gICAgICAgICAgICB2YXIgbXNnID0ge3ZlbDogdGhpcy5saW5lYXJWZWxvY2l0eSwgaWRlbnRpZmllciA6IHRoaXMuY3VycmVudFJvYm90TmFtZXNwYWNlICsgJy9saW5fdmVsJ307XG4gICAgICAgICAgICBtc2cgPSBKU09OLnN0cmluZ2lmeShtc2cpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChtc2cpO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmKHlBeGlzID4gdGhpcy5zdGlja0RlYWR6b25lICYmIHRoaXMuc29ja2V0LnJlYWR5U3RhdGUpe1xuICAgICAgICAgICAgdmFyIG1zZyA9IHt2ZWw6IC10aGlzLmxpbmVhclZlbG9jaXR5LCBpZGVudGlmaWVyIDogdGhpcy5jdXJyZW50Um9ib3ROYW1lc3BhY2UgKyAnL2xpbl92ZWwnfTtcbiAgICAgICAgICAgIG1zZyA9IEpTT04uc3RyaW5naWZ5KG1zZyk7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5zZW5kKG1zZyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmKHlBeGlzID4gLXRoaXMuc3RpY2tEZWFkem9uZSAmJiB5QXhpcyA8IHRoaXMuc3RpY2tEZWFkem9uZSAmJiB0aGlzLnNvY2tldC5yZWFkeVN0YXRlKXtcbiAgICAgICAgICAgIHZhciBtc2cgPSB7dmVsOiAwLjAsIGlkZW50aWZpZXIgOiB0aGlzLmN1cnJlbnRSb2JvdE5hbWVzcGFjZSArICcvbGluX3ZlbCd9O1xuICAgICAgICAgICAgbXNnID0gSlNPTi5zdHJpbmdpZnkobXNnKTtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LnNlbmQobXNnKTtcbiAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgfVxuXG4gICAgbW92ZUFuZ3VsYXIoeEF4aXMsIGR0KXtcbiAgICAgICAgXG4gICAgICAgIGlmKHhBeGlzIDwgLXRoaXMuc3RpY2tEZWFkem9uZSAmJiB0aGlzLnNvY2tldC5yZWFkeVN0YXRlKXtcbiAgICAgICAgICAgIHZhciBtc2cgPSB7dmVsOiB0aGlzLmFuZ3VsYXJWZWxvY2l0eSwgaWRlbnRpZmllciA6IHRoaXMuY3VycmVudFJvYm90TmFtZXNwYWNlICsgJy9hbmdfdmVsJ307XG4gICAgICAgICAgICBtc2cgPSBKU09OLnN0cmluZ2lmeShtc2cpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChtc2cpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZih4QXhpcyA+IHRoaXMuc3RpY2tEZWFkem9uZSAmJiB0aGlzLnNvY2tldC5yZWFkeVN0YXRlKXtcbiAgICAgICAgICAgIHZhciBtc2cgPSB7dmVsOiAtdGhpcy5hbmd1bGFyVmVsb2NpdHksIGlkZW50aWZpZXIgOiB0aGlzLmN1cnJlbnRSb2JvdE5hbWVzcGFjZSArICcvYW5nX3ZlbCd9O1xuICAgICAgICAgICAgbXNnID0gSlNPTi5zdHJpbmdpZnkobXNnKTtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LnNlbmQobXNnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYoeEF4aXMgPiAtdGhpcy5zdGlja0RlYWR6b25lICYmIHhBeGlzIDwgdGhpcy5zdGlja0RlYWR6b25lICYmIHRoaXMuc29ja2V0LnJlYWR5U3RhdGUpe1xuICAgICAgICAgICAgdmFyIG1zZyA9IHt2ZWw6IDAuMCwgaWRlbnRpZmllciA6IHRoaXMuY3VycmVudFJvYm90TmFtZXNwYWNlICsgJy9hbmdfdmVsJ307XG4gICAgICAgICAgICBtc2cgPSBKU09OLnN0cmluZ2lmeShtc2cpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChtc2cpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgXG4gICAgfVxuXG4gICAgc2VsZWN0Um9ib3Qocm9ib3RJZCl7XG4gICAgICAgIGlmKHJvYm90SWQgPD0gMyl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiU3dpdGNoZWQgdGVsZW9wIHJvYm90IHRvIFwiICsgcm9ib3RJZClcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJvYm90TmFtZXNwYWNlID0gdGhpcy5yb2JvdE5hbWVzcGFjZXNbcm9ib3RJZC0xXTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBJbnB1dENvbXBvbmVudCwgVHlwZSwgTWVzaENvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQge0VtaXR0ZXJ9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQge0N1cnNvclRhcmdldCwgSG93bGVyQXVkaW9Tb3VyY2V9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMnO1xuXG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHRyaWdnZXIgaGFwdGljIGZlZWRiYWNrIHB1bHNlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgQW4gb2JqZWN0IHdpdGggJ2lucHV0JyBjb21wb25lbnQgYXR0YWNoZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCBTdHJlbmd0aCBmcm9tIDAuMCAtIDEuMFxuICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIER1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaGFwdGljRmVlZGJhY2sob2JqZWN0LCBzdHJlbmd0aCwgZHVyYXRpb24pIHtcbiAgICBjb25zdCBpbnB1dCA9IG9iamVjdC5nZXRDb21wb25lbnQoSW5wdXRDb21wb25lbnQpO1xuICAgIGlmIChpbnB1dCAmJiBpbnB1dC54cklucHV0U291cmNlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVwYWQgPSBpbnB1dC54cklucHV0U291cmNlLmdhbWVwYWQ7XG4gICAgICAgIGlmIChnYW1lcGFkICYmIGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzKVxuICAgICAgICAgICAgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnNbMF0ucHVsc2Uoc3RyZW5ndGgsIGR1cmF0aW9uKTtcbiAgICB9XG59XG5cbi8qKlxuICogc3dpdGNoXG4gKi9cbmV4cG9ydCBjbGFzcyBTd2l0Y2ggZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdzd2l0Y2gnO1xuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIE9iamVjdCB0aGF0IGhhcyB0aGUgYnV0dG9uJ3MgbWVzaCBhdHRhY2hlZCAqL1xuICAgICAgICBzd2l0Y2hNZXNoT2JqZWN0OiBQcm9wZXJ0eS5vYmplY3QoKSxcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHdoZW4gdGhlIHVzZXIgaG92ZXJzIHRoZSBidXR0b24gKi9cbiAgICAgICAgaG92ZXJNYXRlcmlhbDogUHJvcGVydHkubWF0ZXJpYWwoKSxcbiAgICAgICAgLyoqIEJ1dHRvbiBJRCAqL1xuICAgICAgICBzd2l0Y2hJZDoge3R5cGU6IFR5cGUuSW50fSxcbiAgICAgICAgLyoqIFN3aXRjaCB0eXBlICovXG4gICAgICAgIHN3aXRjaFR5cGU6IHt0eXBlOiBUeXBlLkVudW0sIHZhbHVlczpbJ3JvYm90JywgJ21vZGUnXSwgZGVmYXVsdDogJ3JvYm90J31cbiAgICB9O1xuXG4gICAgLyogRGVjbGFyZSBhbiBpbnN0YW5jZSBvZiBlbWl0dGVyIGFzIGF0dHJpYnV0ZSBvZiBTd2l0Y2ggKi9cbiAgICBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcblxuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xuICAgICAgICAvKiBUcmlnZ2VyZWQgd2hlbiB0aGlzIGNvbXBvbmVudCBjbGFzcyBpcyByZWdpc3RlcmVkLlxuICAgICAgICAgKiBZb3UgY2FuIGZvciBpbnN0YW5jZSByZWdpc3RlciBleHRyYSBjb21wb25lbnQgdHlwZXMgaGVyZVxuICAgICAgICAgKiB0aGF0IHlvdXIgY29tcG9uZW50IG1heSBjcmVhdGUuICovXG4gICAgfVxuXG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5zd2l0Y2hNZXNoT2JqZWN0LmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5kZWZhdWx0TWF0ZXJpYWwgPSB0aGlzLm1lc2gubWF0ZXJpYWw7XG4gICAgICAgIHRoaXMuc3dpdGNoTWVzaE9iamVjdC5nZXRUcmFuc2xhdGlvbkxvY2FsKHRoaXMucmV0dXJuUG9zKTtcbiAgICAgICAgdGhpcy50b2dnbGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy50YXJnZXQgPVxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KEN1cnNvclRhcmdldCkgfHxcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xuXG4gICAgICAgIHRoaXMuc291bmRDbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xuICAgICAgICAgICAgc3JjOiAnc2Z4L2NsaWNrLndhdicsXG4gICAgICAgICAgICBzcGF0aWFsOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb3VuZFVuQ2xpY2sgPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoSG93bGVyQXVkaW9Tb3VyY2UsIHtcbiAgICAgICAgICAgIHNyYzogJ3NmeC91bmNsaWNrLndhdicsXG4gICAgICAgICAgICBzcGF0aWFsOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkFjdGl2YXRlKCl7XG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uSG92ZXIuYWRkKHRoaXMub25Ib3Zlcik7XG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVW5ob3Zlci5hZGQodGhpcy5vblVuaG92ZXIpO1xuICAgICAgICB0aGlzLnRhcmdldC5vbkRvd24uYWRkKHRoaXMub25Eb3duKTtcbiAgICAgICAgLy90aGlzLnRhcmdldC5vblVwLmFkZCh0aGlzLm9uVXApO1xuICAgIH1cblxuICAgIG9uRGVhY3RpdmF0ZSgpe1xuICAgICAgICB0aGlzLnRhcmdldC5vbkhvdmVyLnJlbW92ZSh0aGlzLm9uSG92ZXIpO1xuICAgICAgICB0aGlzLnRhcmdldC5vblVuaG92ZXIucmVtb3ZlKHRoaXMub25VbmhvdmVyKTtcbiAgICAgICAgdGhpcy50YXJnZXQub25Eb3duLnJlbW92ZSh0aGlzLm9uRG93bik7XG4gICAgICAgIC8vdGhpcy50YXJnZXQub25VcC5yZW1vdmUodGhpcy5vblVwKTtcbiAgICB9XG5cbiAgICAvKiBDYWxsZWQgYnkgJ2N1cnNvci10YXJnZXQnICovXG4gICAgb25Ib3ZlciA9IChfLCBjdXJzb3IpID0+IHtcbiAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsID0gdGhpcy5ob3Zlck1hdGVyaWFsO1xuICAgICAgICBpZiAoY3Vyc29yLnR5cGUgPT09ICdmaW5nZXItY3Vyc29yJykge1xuICAgICAgICAgICAgdGhpcy5vbkRvd24oXywgY3Vyc29yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNSwgNTApO1xuICAgIH1cblxuICAgIC8qIENhbGxlZCBieSAnY3Vyc29yLXRhcmdldCcgKi9cbiAgICBvbkRvd24gPSAoXywgY3Vyc29yKSA9PiB7XG4gICAgICAgIGlmKHRoaXMudG9nZ2xlZCA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgdGhpcy5zb3VuZENsaWNrLnBsYXkoKTtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbCA9IHRoaXMuaG92ZXJNYXRlcmlhbDtcbiAgICAgICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDEuMCwgMjApO1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLm5vdGlmeSh7J2lkJzp0aGlzLnN3aXRjaElkfSk7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN3aXRjaFR5cGUpXG4gICAgICAgICAgICB0aGlzLnNvdW5kVW5DbGljay5wbGF5KCk7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRNYXRlcmlhbDtcbiAgICAgICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDEuMCwgMjApO1xuICAgICAgICAgICAgaWYodGhpcy5zd2l0Y2hUeXBlID09PSAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIubm90aWZ5KHsnaWQnOjk5OX0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzZXRcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5zd2l0Y2hUeXBlID09PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIubm90aWZ5KHsnaWQnOjg4OH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2dnbGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgKi9cbiAgICB9XG5cbiAgICAvKiBDYWxsZWQgYnkgJ2N1cnNvci10YXJnZXQnICovXG4gICAgb25VbmhvdmVyID0gKF8sIGN1cnNvcikgPT4ge1xuICAgICAgICBpZih0aGlzLnRvZ2dsZWQ9PT1mYWxzZSl7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRNYXRlcmlhbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3Vyc29yLnR5cGUgPT09ICdmaW5nZXItY3Vyc29yJykge1xuICAgICAgICAgICAgdGhpcy5vblVwKF8sIGN1cnNvcik7XG4gICAgICAgIH1cblxuICAgICAgICBoYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjMsIDUwKTtcbiAgICB9XG5cbiAgICByZXNldCgpe1xuICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRNYXRlcmlhbDtcbiAgICAgICAgdGhpcy50b2dnbGVkID0gZmFsc2U7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IHZlYzMsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBTd2l0Y2hIYW5kbGVyIH0gZnJvbSAnLi9zd2l0Y2gtaGFuZGxlcic7XG5cbi8qKlxuICogVGVsZXBvcnQgVlIgbG9jb21vdGlvbi5cbiAqXG4gKiBTZWUgW1RlbGVwb3J0IEV4YW1wbGVdKC9zaG93Y2FzZS90ZWxlcG9ydCkuXG4gKi9cbmNsYXNzIEdvYWxQb3NlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZ29hbC1wb3NlJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIE9iamVjdCB0aGF0IHdpbGwgYmUgcGxhY2VkIGFzIGluZGljaWF0aW9uIGZvcndoZXJlIHRoZSBwbGF5ZXIgd2lsbCB0ZWxlcG9ydCB0by4gKi9cbiAgICAgICAgdGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXG4gICAgICAgIC8qKiBSb290IG9mIHRoZSBwbGF5ZXIsIHRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHBvc2l0aW9uZWQgb24gdGVsZXBvcnRhdGlvbi4gKi9cbiAgICAgICAgY2FtUm9vdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogTm9uLXZyIGNhbWVyYSBmb3IgdXNlIG91dHNpZGUgb2YgVlIgKi9cbiAgICAgICAgY2FtOiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXG4gICAgICAgIC8qKiBMZWZ0IGV5ZSBmb3IgdXNlIGluIFZSKi9cbiAgICAgICAgZXllTGVmdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogUmlnaHQgZXllIGZvciB1c2UgaW4gVlIqL1xuICAgICAgICBleWVSaWdodDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogSGFuZGVkbmVzcyBmb3IgVlIgY3Vyc29ycyB0byBhY2NlcHQgdHJpZ2dlciBldmVudHMgb25seSBmcm9tIHJlc3BlY3RpdmUgY29udHJvbGxlci4gKi9cbiAgICAgICAgaGFuZGVkbmVzczoge1xuICAgICAgICAgICAgdHlwZTogVHlwZS5FbnVtLFxuICAgICAgICAgICAgdmFsdWVzOiBbJ2lucHV0IGNvbXBvbmVudCcsICdsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnXSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbnB1dCBjb21wb25lbnQnLFxuICAgICAgICB9LFxuICAgICAgICAvKiogQ29sbGlzaW9uIGdyb3VwIG9mIHZhbGlkIFwiZmxvb3JcIiBvYmplY3RzIHRoYXQgY2FuIGJlIHRlbGVwb3J0ZWQgb24gKi9cbiAgICAgICAgZmxvb3JHcm91cDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMSB9LFxuICAgICAgICAvKiogSG93IGZhciB0aGUgdGh1bWJzdGljayBuZWVkcyB0byBiZSBwdXNoZWQgdG8gaGF2ZSB0aGUgdGVsZXBvcnQgdGFyZ2V0IGluZGljYXRvciBzaG93IHVwICovXG4gICAgICAgIHRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAtMC43IH0sXG4gICAgICAgIC8qKiBIb3cgZmFyIHRoZSB0aHVtYnN0aWNrIG5lZWRzIHRvIGJlIHJlbGVhc2VkIHRvIGV4ZWN1dGUgdGhlIHRlbGVwb3J0ICovXG4gICAgICAgIHRodW1ic3RpY2tEZWFjdGl2YXRpb25UaHJlc2hob2xkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMyB9LFxuICAgICAgICAvKiogT2Zmc2V0IHRvIGFwcGx5IHRvIHRoZSBpbmRpY2F0b3Igb2JqZWN0LCBlLmcuIHRvIGF2b2lkIGl0IGZyb20gWi1maWdodGluZyB3aXRoIHRoZSBmbG9vciAqL1xuICAgICAgICBpbmRpY2F0b3JZT2Zmc2V0OiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMDEgfSxcbiAgICAgICAgLyoqIE1vZGUgZm9yIHJheWNhc3RpbmcsIHdoZXRoZXIgdG8gdXNlIFBoeXNYIG9yIHNpbXBsZSBjb2xsaXNpb24gY29tcG9uZW50cyAqL1xuICAgICAgICByYXlDYXN0TW9kZToge1xuICAgICAgICAgICAgdHlwZTogVHlwZS5FbnVtLFxuICAgICAgICAgICAgdmFsdWVzOiBbJ2NvbGxpc2lvbicsICdwaHlzeCddLFxuICAgICAgICAgICAgZGVmYXVsdDogJ2NvbGxpc2lvbicsXG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBNYXggZGlzdGFuY2UgZm9yIFBoeXNYIHJheWNhc3QgKi9cbiAgICAgICAgbWF4RGlzdGFuY2U6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMTAwLjAgfSxcbiAgICAgICAgLyoqIE1lbnUgb2JqZWN0IGZvciBTd2l0Y2ggaGFuZGxlciBjb21wb25lbnQgKi9cbiAgICAgICAgbWVudU9iamVjdDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICB9O1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgICAgIHRoaXMuX3RlbXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLl90ZW1wVmVjMCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlmICghdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IGlucHV0IGNvbXBvbmVudCBpcyByZXF1aXJlZCBvbiB0aGUgb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IFRlbGVwb3J0IGluZGljYXRvciBtZXNoIGlzIG1pc3NpbmcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY2FtUm9vdCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IGNhbVJvb3Qgbm90IHNldCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNJbmRpY2F0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oaXRTcG90ID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2V4dHJhUm90YXRpb24gPSAwO1xuICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG5cbiAgICAgICAgLy90aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3czovL2xvY2FsaG9zdDozMDAwXCIpO1xuICAgICAgICAvL3RoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzOi8vMTkyLjE2OC4xLjcxOjMwMDBcIik7XG4gICAgICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzOi8vMTkyLjE2OC4xNjUuMTg1OjMwMDBcIik7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzd2l0Y2hIYW5kbGVyQ29tcG9uZW50ID0gdGhpcy5tZW51T2JqZWN0LmdldENvbXBvbmVudChTd2l0Y2hIYW5kbGVyKTtcbiAgICAgICAgc3dpdGNoSGFuZGxlckNvbXBvbmVudC5lbWl0dGVyLmFkZCgoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Um9ib3QoZGF0YVsnaWQnXSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmN1cnJlbnRSb2JvdE5hbWVzcGFjZSA9IFwiXCJcbiAgICAgICAgdGhpcy5yb2JvdE5hbWVzcGFjZXMgPSBbJ3dhZmZsZTEnLCAnd2FmZmxlMicsICd3YWZmbGUzJ10gXG5cbiAgICAgICAgLy8gQ29ubmVjdGlvbiBvcGVuZWRcbiAgICAgICAgdGhpcy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuY2FtKSB7XG4gICAgICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFuZGVkbmVzcyA9PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dENvbXAgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBpZiAoIWlucHV0Q29tcCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigndGVsZXBvcnQgY29tcG9uZW50IG9uIG9iamVjdCcsIHRoaXMub2JqZWN0Lm5hbWUsICd3YXMgY29uZmlndXJlZCB3aXRoIGhhbmRlZG5lc3MgXCJpbnB1dCBjb21wb25lbnRcIiwgJyArXG4gICAgICAgICAgICAgICAgICAgICdidXQgb2JqZWN0IGhhcyBubyBpbnB1dCBjb21wb25lbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBpbnB1dENvbXAuaGFuZGVkbmVzcztcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXRDb21wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gWydsZWZ0JywgJ3JpZ2h0J11bdGhpcy5oYW5kZWRuZXNzIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5zZXR1cFZSRXZlbnRzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBvbkFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgIH1cbiAgICBvbkRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgfVxuICAgIC8qIEdldCBjdXJyZW50IGNhbWVyYSBZIHJvdGF0aW9uICovXG4gICAgX2dldENhbVJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLmV5ZUxlZnQuZ2V0Rm9yd2FyZCh0aGlzLl90ZW1wVmVjKTtcbiAgICAgICAgdGhpcy5fdGVtcFZlY1sxXSA9IDA7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX3RlbXBWZWMsIHRoaXMuX3RlbXBWZWMpO1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLl90ZW1wVmVjWzBdLCB0aGlzLl90ZW1wVmVjWzJdKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBsZXQgaW5wdXRMZW5ndGggPSAwO1xuICAgICAgICBpZiAodGhpcy5nYW1lcGFkICYmIHRoaXMuZ2FtZXBhZC5heGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzBdID0gdGhpcy5nYW1lcGFkLmF4ZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdID0gdGhpcy5nYW1lcGFkLmF4ZXNbM107XG4gICAgICAgICAgICBpbnB1dExlbmd0aCA9XG4gICAgICAgICAgICAgICAgTWF0aC5hYnModGhpcy5fY3VycmVudFN0aWNrQXhlc1swXSkgKyBNYXRoLmFicyh0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNJbmRpY2F0aW5nICYmXG4gICAgICAgICAgICB0aGlzLl9wcmV2VGh1bWJzdGlja0F4aXNbMV0gPj0gdGhpcy50aHVtYnN0aWNrQWN0aXZhdGlvblRocmVzaGhvbGQgJiZcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0gPCB0aGlzLnRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZCkge1xuICAgICAgICAgICAgdGhpcy5pc0luZGljYXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNJbmRpY2F0aW5nICYmXG4gICAgICAgICAgICBpbnB1dExlbmd0aCA8IHRoaXMudGh1bWJzdGlja0RlYWN0aXZhdGlvblRocmVzaGhvbGQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNJbmRpY2F0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9oYXNIaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZWxlcG9ydFBsYXllcih0aGlzLmhpdFNwb3QsIHRoaXMuX2V4dHJhUm90YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzSW5kaWNhdGluZyAmJiB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdCAmJiB0aGlzLmlucHV0KSB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW4gPSB0aGlzLl90ZW1wVmVjMDtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQob3JpZ2luKTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMub2JqZWN0LmdldEZvcndhcmRXb3JsZCh0aGlzLl90ZW1wVmVjKTtcbiAgICAgICAgICAgIGxldCByYXlIaXQgPSAodGhpcy5yYXlIaXQgPVxuICAgICAgICAgICAgICAgIHRoaXMucmF5Q2FzdE1vZGUgPT0gMFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZW5naW5lLnNjZW5lLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZW5naW5lLnBoeXNpY3MucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXAsIHRoaXMubWF4RGlzdGFuY2UpKTtcbiAgICAgICAgICAgIGlmIChyYXlIaXQuaGl0Q291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHRyYVJvdGF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgTWF0aC5QSSArXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmF0YW4yKHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMF0sIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldENhbVJvdGF0aW9uKCkgKyAodGhpcy5fZXh0cmFSb3RhdGlvbiAtIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QudHJhbnNsYXRlKHJheUhpdC5sb2NhdGlvbnNbMF0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnRyYW5zbGF0ZShbXG4gICAgICAgICAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JZT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAwLjAsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdFNwb3Quc2V0KHJheUhpdC5sb2NhdGlvbnNbMF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5kaWNhdG9ySGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0ICYmIHRoaXMuaXNNb3VzZUluZGljYXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVByZXNzZWQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcmV2VGh1bWJzdGlja0F4aXMuc2V0KHRoaXMuX2N1cnJlbnRTdGlja0F4ZXMpO1xuICAgIH1cbiAgICBzZXR1cFZSRXZlbnRzKHMpIHtcbiAgICAgICAgLyogSWYgaW4gVlIsIG9uZS10aW1lIGJpbmQgdGhlIGxpc3RlbmVyICovXG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHM7XG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLyogUmVzZXQgY2FjaGUgb25jZSB0aGUgc2Vzc2lvbiBlbmRzIHRvIHJlYmluZCBzZWxlY3QgZXRjLCBpbiBjYXNlXG4gICAgICAgICAgICAgKiBpdCBzdGFydHMgYWdhaW4gKi9cbiAgICAgICAgICAgIHRoaXMuZ2FtZXBhZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICBpZiAocy5pbnB1dFNvdXJjZXMgJiYgcy5pbnB1dFNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMuaW5wdXRTb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlucHV0U291cmNlID0gcy5pbnB1dFNvdXJjZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXBhZCA9IGlucHV0U291cmNlLmdhbWVwYWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXRzb3VyY2VzY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmFkZGVkICYmIGUuYWRkZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLmFkZGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnB1dFNvdXJjZSA9IGUuYWRkZWRbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkID0gaW5wdXRTb3VyY2UuZ2FtZXBhZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgb25Nb3VzZURvd24oKSB7XG4gICAgICAgIHRoaXMuaXNNb3VzZUluZGljYXRpbmcgPSB0cnVlO1xuICAgIH1cbiAgICBvbk1vdXNlVXAoKSB7XG4gICAgICAgIHRoaXMuaXNNb3VzZUluZGljYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9oYXNIaXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbGVwb3J0UGxheWVyKHRoaXMuaGl0U3BvdCwgMC4wKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbk1vdXNlUHJlc3NlZCgpIHtcbiAgICAgICAgbGV0IG9yaWdpbiA9IFswLCAwLCAwXTtcbiAgICAgICAgdGhpcy5jYW0uZ2V0UG9zaXRpb25Xb3JsZChvcmlnaW4pO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmNhbS5nZXRGb3J3YXJkKHRoaXMuX3RlbXBWZWMpO1xuICAgICAgICBsZXQgcmF5SGl0ID0gKHRoaXMucmF5SGl0ID1cbiAgICAgICAgICAgIHRoaXMucmF5Q2FzdE1vZGUgPT0gMFxuICAgICAgICAgICAgICAgID8gdGhpcy5lbmdpbmUuc2NlbmUucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXApXG4gICAgICAgICAgICAgICAgOiB0aGlzLmVuZ2luZS5waHlzaWNzLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwLCB0aGlzLm1heERpc3RhbmNlKSk7XG4gICAgICAgIGlmIChyYXlIaXQuaGl0Q291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgZGlyZWN0aW9uWzFdID0gMDtcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKGRpcmVjdGlvbiwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbiA9XG4gICAgICAgICAgICAgICAgLU1hdGguc2lnbihkaXJlY3Rpb25bMl0pICogTWF0aC5hY29zKGRpcmVjdGlvblswXSkgLSBNYXRoLlBJICogMC41O1xuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzAsIDEsIDBdLCB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24pO1xuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QudHJhbnNsYXRlKHJheUhpdC5sb2NhdGlvbnNbMF0pO1xuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaGl0U3BvdCA9IHJheUhpdC5sb2NhdGlvbnNbMF07XG4gICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmluZGljYXRvckhpZGRlbikge1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF90ZWxlcG9ydFBsYXllcihuZXdQb3NpdGlvbiwgcm90YXRpb25Ub0FkZCkge1xuICAgICAgICBcbiAgICAgICAgLy90aGlzLmNhbVJvb3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgcm90YXRpb25Ub0FkZCk7XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLl90ZW1wVmVjO1xuICAgICAgICBjb25zdCBwMSA9IHRoaXMuX3RlbXBWZWMwO1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLmV5ZUxlZnQuZ2V0UG9zaXRpb25Xb3JsZChwKTtcbiAgICAgICAgICAgIHRoaXMuZXllUmlnaHQuZ2V0UG9zaXRpb25Xb3JsZChwMSk7XG4gICAgICAgICAgICB2ZWMzLmFkZChwLCBwLCBwMSk7XG4gICAgICAgICAgICB2ZWMzLnNjYWxlKHAsIHAsIDAuNSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbS5nZXRQb3NpdGlvbldvcmxkKHApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FtUm9vdC5nZXRQb3NpdGlvbldvcmxkKHAxKTtcbiAgICAgICAgdmVjMy5zdWIocCwgcDEsIHApO1xuICAgICAgICBwWzBdICs9IG5ld1Bvc2l0aW9uWzBdO1xuICAgICAgICBwWzFdID0gbmV3UG9zaXRpb25bMV07XG4gICAgICAgIHBbMl0gKz0gbmV3UG9zaXRpb25bMl07XG4gICAgICAgIHZhciBtc2dUeHQgPSBKU09OLnN0cmluZ2lmeShwKTtcbiAgICAgICAgdmFyIG1zZ0pTT04gPSBKU09OLnBhcnNlKG1zZ1R4dCk7XG4gICAgICAgIG1zZ0pTT05bJ2lkZW50aWZpZXInXSA9IHRoaXMuY3VycmVudFJvYm90TmFtZXNwYWNlICsgJy9nb2FsX3Bvc2UnO1xuICAgICAgICB2YXIgbXNnVHh0SWRlbnRpZmllZCA9IEpTT04uc3RyaW5naWZ5KG1zZ0pTT04pXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyBnb2FsIHRvIFwiICsgdGhpcy5jdXJyZW50Um9ib3ROYW1lc3BhY2UpXG4gICAgICAgIHRoaXMuc29ja2V0LnNlbmQobXNnVHh0SWRlbnRpZmllZCk7IC8vIFNlbmRzIGZvcm1hdCB7XCIwXCI6eC54eHgsXCIxXCI6eC54eHgsXCIyXCI6eC54eHgsIFwiaWRlbnRpZmllclwiOidnb2FsX3Bvc2UnfVxuXG4gICAgICAgIFxuICAgIH1cblxuICAgIHNlbGVjdFJvYm90KHJvYm90SWQpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU3dpdGNoZWQgZ29hbCByb2JvdCB0byBcIiArIHJvYm90SWQpXG4gICAgICAgIHRoaXMuY3VycmVudFJvYm90TmFtZXNwYWNlID0gdGhpcy5yb2JvdE5hbWVzcGFjZXNbcm9ib3RJZC0xXTtcbiAgICB9XG59XG5leHBvcnQgeyBHb2FsUG9zZUNvbXBvbmVudCB9O1xuIiwgImltcG9ydCB7Q29tcG9uZW50LCBUeXBlLCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IFN3aXRjaCB9IGZyb20gJy4vc3dpdGNoJztcbmltcG9ydCB7Um9ib3RUZWxlb3B9IGZyb20gJy4vcm9ib3QtdGVsZW9wJztcbmltcG9ydCB7R29hbFBvc2VDb21wb25lbnR9IGZyb20gJy4vZ29hbC1wb3NlJztcbmltcG9ydCB7R29hbFBvc2VGaW5nZXJ9IGZyb20gJy4vZ29hbF9wb3NlX2Zpbmdlcic7XG5pbXBvcnQge1RlbGVwb3J0Q29tcG9uZW50fSBmcm9tICcuLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RlbGVwb3J0JztcbmltcG9ydCB7RW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7U25hcFR1cm59IGZyb20gJy4vc25hcC10dXJuJ1xuXG5cblxuLyoqXG4gKiBzd2l0Y2gtaGFuZGxlclxuICovXG5leHBvcnQgY2xhc3MgU3dpdGNoSGFuZGxlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3N3aXRjaC1oYW5kbGVyJztcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBSb2JvdDEgc3dpdGNoIG9iamVjdCAqL1xuICAgICAgICByb2JvdDFTd2l0Y2g6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgICAgIC8qKiBSb2JvdDIgc3dpdGNoIG9iamVjdCAqL1xuICAgICAgICByb2JvdDJTd2l0Y2g6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgICAgIC8qKiBSb2JvdDMgc3dpdGNoIG9iamVjdCAqL1xuICAgICAgICByb2JvdDNTd2l0Y2g6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgICAgIC8qKiBUZWxlb3Agc3dpdGNoIG9iamVjdCAqL1xuICAgICAgICB0ZWxlb3BTd2l0Y2g6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgICAgIC8qKiBUZWxlcG9ydCB3aXRjaCBvYmplY3QgKi9cbiAgICAgICAgdGVsZXBvcnRTd2l0Y2g6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgICAgIC8qKiBjdXJzb3IgbGVmdCBvYmplY3QgKi9cbiAgICAgICAgY3Vyc29yTGVmdE9iamVjdDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIEN1cnNvciByaWdodCBvYmplY3QgKi9cbiAgICAgICAgY3Vyc29yUmlnaHRPYmplY3Q6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgfTtcblxuICAgIC8vIEFkZCBhbiBlbWl0dGVyIGNsYXNzIGF0dHJpYnV0ZSBmb3IgdGhlIGNsYXNzXG4gICAgZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG5cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zd2l0Y2gxQ29tcG9uZW50VG9nZ2xlID0gdGhpcy5yb2JvdDFTd2l0Y2guZ2V0Q29tcG9uZW50KFN3aXRjaCk7XG4gICAgICAgIHRoaXMuc3dpdGNoMkNvbXBvbmVudFRvZ2dsZSA9IHRoaXMucm9ib3QyU3dpdGNoLmdldENvbXBvbmVudChTd2l0Y2gpO1xuICAgICAgICB0aGlzLnN3aXRjaDNDb21wb25lbnRUb2dnbGUgPSB0aGlzLnJvYm90M1N3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgdGhpcy5zd2l0Y2hUZWxlb3BUb2dnbGUgPSB0aGlzLnRlbGVvcFN3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgdGhpcy5zd2l0Y2hUZWxlcG9ydFRvZ2dsZSA9IHRoaXMudGVsZXBvcnRTd2l0Y2guZ2V0Q29tcG9uZW50KFN3aXRjaCk7XG5cblxuICAgICAgICBjb25zdCBzd2l0Y2gxQ29tcG9uZW50ID0gdGhpcy5yb2JvdDFTd2l0Y2guZ2V0Q29tcG9uZW50KFN3aXRjaCk7XG4gICAgICAgIHN3aXRjaDFDb21wb25lbnQuZW1pdHRlci5hZGQoKGRhdGEpPT57XG4gICAgICAgICAgICB0aGlzLmJsb2NrU3dpdGNoZXMoZGF0YVsnaWQnXSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3dpdGNoMkNvbXBvbmVudCA9IHRoaXMucm9ib3QyU3dpdGNoLmdldENvbXBvbmVudChTd2l0Y2gpO1xuICAgICAgICBzd2l0Y2gyQ29tcG9uZW50LmVtaXR0ZXIuYWRkKChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5ibG9ja1N3aXRjaGVzKGRhdGFbJ2lkJ10pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN3aXRjaDNDb21wb25lbnQgPSB0aGlzLnJvYm90M1N3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgc3dpdGNoM0NvbXBvbmVudC5lbWl0dGVyLmFkZCgoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMuYmxvY2tTd2l0Y2hlcyhkYXRhWydpZCddKVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzd2l0Y2hUZWxlb3AgPSB0aGlzLnRlbGVvcFN3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgc3dpdGNoVGVsZW9wLmVtaXR0ZXIuYWRkKChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5ibG9ja1N3aXRjaGVzKGRhdGFbJ2lkJ10pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN3aXRjaFRlbGVwb3J0ID0gdGhpcy50ZWxlcG9ydFN3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgc3dpdGNoVGVsZXBvcnQuZW1pdHRlci5hZGQoKGRhdGEpPT57XG4gICAgICAgICAgICB0aGlzLmJsb2NrU3dpdGNoZXMoZGF0YVsnaWQnXSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogTGVmdCBjdXJzb3IgY29tcG9uZW50cyAqL1xuICAgICAgICAvLyBHb2FsIHBvc2UgY29tcG9uZW50XG4gICAgICAgIHRoaXMuZ29hbFBvc2VDb21wb25lbnQgPSB0aGlzLmN1cnNvckxlZnRPYmplY3QuZ2V0Q29tcG9uZW50KEdvYWxQb3NlQ29tcG9uZW50KTtcbiAgICAgICAgLy8gdGhpcy5nb2FsUG9zZUZpbmdlckNvbXBvbmVudCA9IHRoaXMuY3Vyc29yTGVmdE9iamVjdC5nZXRDb21wb25lbnQoR29hbFBvc2VGaW5nZXIpO1xuICAgICAgICAvLyBUZWxlb3AgY29tcG9uZW50XG4gICAgICAgIHRoaXMudGVsZW9wQ29tcG9uZW50TGVmdCA9IHRoaXMuY3Vyc29yTGVmdE9iamVjdC5nZXRDb21wb25lbnQoUm9ib3RUZWxlb3ApO1xuXG4gICAgICAgIC8qIFJpZ2h0IGN1cnNvciBjb21wb25lbnRzICovXG4gICAgICAgIC8vIFRlbGVwb3J0IGNvbXBvbmVudFxuICAgICAgICB0aGlzLnRlbGVwb3J0Q29tcG9uZW50ID0gdGhpcy5jdXJzb3JSaWdodE9iamVjdC5nZXRDb21wb25lbnQoVGVsZXBvcnRDb21wb25lbnQpO1xuICAgICAgICAvLyBUZWxlb3AgY29tcG9uZW50XG4gICAgICAgIHRoaXMudGVsZW9wQ29tcG9uZW50UmlnaHQgPSB0aGlzLmN1cnNvclJpZ2h0T2JqZWN0LmdldENvbXBvbmVudChSb2JvdFRlbGVvcCk7XG4gICAgICAgIC8vIFNuYXAgVHVybiBjb21wb25lbnRcbiAgICAgICAgdGhpcy5zbmFwVHVybkNvbXBvbmVudCA9IHRoaXMuY3Vyc29yUmlnaHRPYmplY3QuZ2V0Q29tcG9uZW50KFNuYXBUdXJuKTtcbiAgICB9XG4gICAgZGVhY3RpdmF0ZVRlbGVvcEFuZFRlbGVwb3J0KCl7XG4gICAgICAgIC8vIERlYWN0aXZhdGUgdGVsZXBvcnQgYW5kIGdvYWwgcG9zZSBhbmQgc25hcCB0dXJuXG4gICAgICAgIHRoaXMudGVsZXBvcnRDb21wb25lbnQuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ29hbFBvc2VDb21wb25lbnQuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc25hcFR1cm5Db21wb25lbnQuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIC8vIERlYWN0aXZhdGUgdGVsZW9wXG4gICAgICAgIHRoaXMudGVsZW9wQ29tcG9uZW50UmlnaHQuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGVsZW9wQ29tcG9uZW50TGVmdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgLy8gdGhpcy5nb2FsUG9zZUZpbmdlckNvbXBvbmVudC5hY3RpdmUgPSBmYWxzZTtcblxuICAgIH1cblxuICAgIGFjdGl2YXRlVGVsZW9wKCl7XG4gICAgICAgIC8qIFRoaXMgc3dpdGNoIGFjdGl2YXRlcyByb2JvdCB0ZWxlb3BlcmF0aW9uICovXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFjdGl2YXRlIHRlbGVvcCBmb3IgbGVmdCBhbmQgcmlnaHQgY29udHJvbGxlcnNcbiAgICAgICAgICAgIHRoaXMudGVsZW9wQ29tcG9uZW50TGVmdC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50ZWxlb3BDb21wb25lbnRSaWdodC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gRGVhY3RpdmF0ZSB0ZWxlcG9ydCBhbmQgZ29hbCBwb3NlIGFuZCBzbmFwIHR1cm5cbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRDb21wb25lbnQuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmdvYWxQb3NlQ29tcG9uZW50LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zbmFwVHVybkNvbXBvbmVudC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHRoaXMuZ29hbFBvc2VGaW5nZXJDb21wb25lbnQuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYWN0aXZhdGVUZWxlcG9ydCgpe1xuICAgICAgICAvKiBUaGlzIHN3aXRjaCBhY3RpdmF0ZXMgdGVsZXBvcnRhdGlvbiAqL1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBY3RpdmF0ZSB0ZWxlcG9ydCBhbmQgZ29hbCBwb3NlIGFuZCBzbmFwIHR1cm5cbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRDb21wb25lbnQuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ29hbFBvc2VDb21wb25lbnQuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc25hcFR1cm5Db21wb25lbnQuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHRoaXMuZ29hbFBvc2VGaW5nZXJDb21wb25lbnQuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIERlYWN0aXZhdGUgdGVsZW9wXG4gICAgICAgICAgICB0aGlzLnRlbGVvcENvbXBvbmVudFJpZ2h0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50ZWxlb3BDb21wb25lbnRMZWZ0LmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGJsb2NrU3dpdGNoZXMoc3dpdGNoSWQpe1xuICAgICAgICAvL1Jlc2V0IHJvYm90IHN3aXRjaGVzXG4gICAgICAgIGlmKHN3aXRjaElkPT09OTk5KXsgXG4gICAgICAgICAgICB0aGlzLnN3aXRjaDFDb21wb25lbnRUb2dnbGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoMkNvbXBvbmVudFRvZ2dsZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2gzQ29tcG9uZW50VG9nZ2xlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy9SZXNldCBtb2RlIHN3aXRjaGVzXG4gICAgICAgIGlmKHN3aXRjaElkPT09ODg4KXtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVGVsZXBvcnRUb2dnbGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVGVsZW9wVG9nZ2xlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGVUZWxlb3BBbmRUZWxlcG9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vQmxvY2sgb3RoZXIgc3dpdGNoZXNcbiAgICAgICAgZWxzZSBpZihzd2l0Y2hJZCA9PT0gMSl7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIubm90aWZ5KHsnaWQnOnN3aXRjaElkfSk7IC8vIEJyb2FkY2FzdCByb2JvdCBpbmRleFxuICAgICAgICAgICAgLy8gdGhpcy5zd2l0Y2gyQ29tcG9uZW50VG9nZ2xlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gdGhpcy5zd2l0Y2gzQ29tcG9uZW50VG9nZ2xlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2gyQ29tcG9uZW50VG9nZ2xlLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnN3aXRjaDNDb21wb25lbnRUb2dnbGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHN3aXRjaElkID09PSAyKXtcbiAgICAgICAgICAgIHRoaXMuZW1pdHRlci5ub3RpZnkoeydpZCc6c3dpdGNoSWR9KTtcbiAgICAgICAgICAgIC8vIHRoaXMuc3dpdGNoMUNvbXBvbmVudFRvZ2dsZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHRoaXMuc3dpdGNoM0NvbXBvbmVudFRvZ2dsZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoMUNvbXBvbmVudFRvZ2dsZS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2gzQ29tcG9uZW50VG9nZ2xlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihzd2l0Y2hJZCA9PT0gMyl7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIubm90aWZ5KHsnaWQnOnN3aXRjaElkfSk7XG4gICAgICAgICAgICAvLyB0aGlzLnN3aXRjaDFDb21wb25lbnRUb2dnbGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyB0aGlzLnN3aXRjaDJDb21wb25lbnRUb2dnbGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN3aXRjaDFDb21wb25lbnRUb2dnbGUucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoMkNvbXBvbmVudFRvZ2dsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoc3dpdGNoSWQgPT09IDQpe1xuICAgICAgICAgICAgLy90aGlzLnN3aXRjaFRlbGVwb3J0VG9nZ2xlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hUZWxlcG9ydFRvZ2dsZS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVRlbGVvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoc3dpdGNoSWQgPT09IDUpe1xuICAgICAgICAgICAgLy90aGlzLnN3aXRjaFRlbGVvcFRvZ2dsZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVGVsZW9wVG9nZ2xlLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlVGVsZXBvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwgImltcG9ydCB7IHZlYzMsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBIYW5kVHJhY2tpbmcgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzJztcbi8qKlxuICogVGVsZXBvcnQgVlIgbG9jb21vdGlvbi5cbiAqXG4gKiBTZWUgW1RlbGVwb3J0IEV4YW1wbGVdKC9zaG93Y2FzZS90ZWxlcG9ydCkuXG4gKi9cbmNsYXNzIEdvYWxQb3NlRmluZ2VyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZ29hbF9wb3NlX2Zpbmdlcic7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBPYmplY3QgdGhhdCB3aWxsIGJlIHBsYWNlZCBhcyBpbmRpY2lhdGlvbiBmb3J3aGVyZSB0aGUgcGxheWVyIHdpbGwgdGVsZXBvcnQgdG8uICovXG4gICAgICAgIHRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogUm9vdCBvZiB0aGUgcGxheWVyLCB0aGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBwb3NpdGlvbmVkIG9uIHRlbGVwb3J0YXRpb24uICovXG4gICAgICAgIGNhbVJvb3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIE5vbi12ciBjYW1lcmEgZm9yIHVzZSBvdXRzaWRlIG9mIFZSICovXG4gICAgICAgIGNhbTogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogTGVmdCBleWUgZm9yIHVzZSBpbiBWUiovXG4gICAgICAgIGV5ZUxlZnQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIFJpZ2h0IGV5ZSBmb3IgdXNlIGluIFZSKi9cbiAgICAgICAgZXllUmlnaHQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIEhhbmRlZG5lc3MgZm9yIFZSIGN1cnNvcnMgdG8gYWNjZXB0IHRyaWdnZXIgZXZlbnRzIG9ubHkgZnJvbSByZXNwZWN0aXZlIGNvbnRyb2xsZXIuICovXG4gICAgICAgIGhhbmRlZG5lc3M6IHtcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcbiAgICAgICAgICAgIHZhbHVlczogWydpbnB1dCBjb21wb25lbnQnLCAnbGVmdCcsICdyaWdodCcsICdub25lJ10sXG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5wdXQgY29tcG9uZW50JyxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqIENvbGxpc2lvbiBncm91cCBvZiB2YWxpZCBcImZsb29yXCIgb2JqZWN0cyB0aGF0IGNhbiBiZSB0ZWxlcG9ydGVkIG9uICovXG4gICAgICAgIGZsb29yR3JvdXA6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDEgfSxcbiAgICAgICAgLyoqIEhvdyBmYXIgdGhlIHRodW1ic3RpY2sgbmVlZHMgdG8gYmUgcHVzaGVkIHRvIGhhdmUgdGhlIHRlbGVwb3J0IHRhcmdldCBpbmRpY2F0b3Igc2hvdyB1cCAqL1xuICAgICAgICB0aHVtYnN0aWNrQWN0aXZhdGlvblRocmVzaGhvbGQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogLTAuNyB9LFxuICAgICAgICAvKiogSG93IGZhciB0aGUgdGh1bWJzdGljayBuZWVkcyB0byBiZSByZWxlYXNlZCB0byBleGVjdXRlIHRoZSB0ZWxlcG9ydCAqL1xuICAgICAgICB0aHVtYnN0aWNrRGVhY3RpdmF0aW9uVGhyZXNoaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjMgfSxcbiAgICAgICAgLyoqIE9mZnNldCB0byBhcHBseSB0byB0aGUgaW5kaWNhdG9yIG9iamVjdCwgZS5nLiB0byBhdm9pZCBpdCBmcm9tIFotZmlnaHRpbmcgd2l0aCB0aGUgZmxvb3IgKi9cbiAgICAgICAgaW5kaWNhdG9yWU9mZnNldDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjAxIH0sXG4gICAgICAgIC8qKiBNb2RlIGZvciByYXljYXN0aW5nLCB3aGV0aGVyIHRvIHVzZSBQaHlzWCBvciBzaW1wbGUgY29sbGlzaW9uIGNvbXBvbmVudHMgKi9cbiAgICAgICAgcmF5Q2FzdE1vZGU6IHtcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcbiAgICAgICAgICAgIHZhbHVlczogWydjb2xsaXNpb24nLCAncGh5c3gnXSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdjb2xsaXNpb24nLFxuICAgICAgICB9LFxuICAgICAgICAvKiogTWF4IGRpc3RhbmNlIGZvciBQaHlzWCByYXljYXN0ICovXG4gICAgICAgIG1heERpc3RhbmNlOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEwMC4wIH0sXG4gICAgICAgIGxlZnRIYW5kOiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgIH07XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5fcHJldlRodW1ic3RpY2tBeGlzID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICAgICAgdGhpcy5fdGVtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMuX3RlbXBWZWMwID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcbiAgICAgICAgaWYgKCF0aGlzLmlucHV0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMub2JqZWN0Lm5hbWUsICdnZW5lcmljLXRlbGVwb3J0LWNvbXBvbmVudC5qczogaW5wdXQgY29tcG9uZW50IGlzIHJlcXVpcmVkIG9uIHRoZSBvYmplY3QnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMub2JqZWN0Lm5hbWUsICdnZW5lcmljLXRlbGVwb3J0LWNvbXBvbmVudC5qczogVGVsZXBvcnQgaW5kaWNhdG9yIG1lc2ggaXMgbWlzc2luZycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jYW1Sb290KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMub2JqZWN0Lm5hbWUsICdnZW5lcmljLXRlbGVwb3J0LWNvbXBvbmVudC5qczogY2FtUm9vdCBub3Qgc2V0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0luZGljYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLmhpdFNwb3QgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLl9oYXNIaXQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZXh0cmFSb3RhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXMgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcblxuICAgICAgICAvL3RoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzOi8vbG9jYWxob3N0OjMwMDBcIik7XG4gICAgICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzOi8vMTkyLjE2OC4xLjcxOjMwMDBcIik7XG4gICAgICAgIC8vdGhpcy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KFwid3M6Ly8xOTIuMTY4LjIzMS4xODU6MzAwMFwiKTsgLy8gT24gaG90c3BvdFxuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBzd2l0Y2hIYW5kbGVyQ29tcG9uZW50ID0gdGhpcy5tZW51T2JqZWN0LmdldENvbXBvbmVudChTd2l0Y2hIYW5kbGVyKTtcbiAgICAgICAgc3dpdGNoSGFuZGxlckNvbXBvbmVudC5lbWl0dGVyLmFkZCgoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Um9ib3QoZGF0YVsnaWQnXSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmN1cnJlbnRSb2JvdE5hbWVzcGFjZSA9IFwiXCJcbiAgICAgICAgdGhpcy5yb2JvdE5hbWVzcGFjZXMgPSBbJ3dhZmZsZTEnLCAnd2FmZmxlMicsICd3YWZmbGUzJ10gXG5cbiAgICAgICAgLy8gQ29ubmVjdGlvbiBvcGVuZWRcbiAgICAgICAgdGhpcy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmNhbSkge1xuICAgICAgICAgICAgdGhpcy5pc01vdXNlSW5kaWNhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhbmRlZG5lc3MgPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRDb21wID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgaWYgKCFpbnB1dENvbXApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3RlbGVwb3J0IGNvbXBvbmVudCBvbiBvYmplY3QnLCB0aGlzLm9iamVjdC5uYW1lLCAnd2FzIGNvbmZpZ3VyZWQgd2l0aCBoYW5kZWRuZXNzIFwiaW5wdXQgY29tcG9uZW50XCIsICcgK1xuICAgICAgICAgICAgICAgICAgICAnYnV0IG9iamVjdCBoYXMgbm8gaW5wdXQgY29tcG9uZW50LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gaW5wdXRDb21wLmhhbmRlZG5lc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0Q29tcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCddW3RoaXMuaGFuZGVkbmVzcyAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0dXBWUkV2ZW50cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYW5kVHJhY2tlckwgPSB0aGlzLmxlZnRIYW5kLmdldENvbXBvbmVudChIYW5kVHJhY2tpbmcpO1xuICAgIH1cbiAgICBvbkFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgIH1cbiAgICBvbkRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgfVxuICAgIC8qIEdldCBjdXJyZW50IGNhbWVyYSBZIHJvdGF0aW9uICovXG4gICAgX2dldENhbVJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLmV5ZUxlZnQuZ2V0Rm9yd2FyZCh0aGlzLl90ZW1wVmVjKTtcbiAgICAgICAgdGhpcy5fdGVtcFZlY1sxXSA9IDA7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX3RlbXBWZWMsIHRoaXMuX3RlbXBWZWMpO1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLl90ZW1wVmVjWzBdLCB0aGlzLl90ZW1wVmVjWzJdKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBsZXQgaW5wdXRMZW5ndGggPSAwO1xuICAgICAgICAvKlxuICAgICAgICBpZiAodGhpcy5nYW1lcGFkICYmIHRoaXMuZ2FtZXBhZC5heGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzBdID0gdGhpcy5nYW1lcGFkLmF4ZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdID0gdGhpcy5nYW1lcGFkLmF4ZXNbM107XG4gICAgICAgICAgICBpbnB1dExlbmd0aCA9XG4gICAgICAgICAgICAgICAgTWF0aC5hYnModGhpcy5fY3VycmVudFN0aWNrQXhlc1swXSkgKyBNYXRoLmFicyh0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNJbmRpY2F0aW5nICYmXG4gICAgICAgICAgICB0aGlzLl9wcmV2VGh1bWJzdGlja0F4aXNbMV0gPj0gdGhpcy50aHVtYnN0aWNrQWN0aXZhdGlvblRocmVzaGhvbGQgJiZcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0gPCB0aGlzLnRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZCkge1xuICAgICAgICAgICAgdGhpcy5pc0luZGljYXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNJbmRpY2F0aW5nICYmXG4gICAgICAgICAgICBpbnB1dExlbmd0aCA8IHRoaXMudGh1bWJzdGlja0RlYWN0aXZhdGlvblRocmVzaGhvbGQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNJbmRpY2F0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9oYXNIaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZWxlcG9ydFBsYXllcih0aGlzLmhpdFNwb3QsIHRoaXMuX2V4dHJhUm90YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICovXG4gICAgICAgIGlmICghdGhpcy5pc0luZGljYXRpbmcgJiYgdGhpcy5oYW5kVHJhY2tlckwuaXNQb2ludGluZygpKXtcbiAgICAgICAgICAgIHRoaXMuaXNJbmRpY2F0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNJbmRpY2F0aW5nICYmICF0aGlzLmhhbmRUcmFja2VyTC5pc1BvaW50aW5nKCkpe1xuICAgICAgICAgICAgdGhpcy5pc0luZGljYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc0hpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RlbGVwb3J0UGxheWVyKHRoaXMuaGl0U3BvdCwgdGhpcy5fZXh0cmFSb3RhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0luZGljYXRpbmcgJiYgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QgJiYgdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gdGhpcy5fdGVtcFZlYzA7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRQb3NpdGlvbldvcmxkKG9yaWdpbik7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLm9iamVjdC5nZXRGb3J3YXJkV29ybGQodGhpcy5fdGVtcFZlYyk7XG4gICAgICAgICAgICBsZXQgcmF5SGl0ID0gKHRoaXMucmF5SGl0ID1cbiAgICAgICAgICAgICAgICB0aGlzLnJheUNhc3RNb2RlID09IDBcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cClcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmVuZ2luZS5waHlzaWNzLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwLCB0aGlzLm1heERpc3RhbmNlKSk7XG4gICAgICAgICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0Q2FtUm90YXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzAsIDEsIDBdLCB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnRyYW5zbGF0ZShyYXlIaXQubG9jYXRpb25zWzBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUoW1xuICAgICAgICAgICAgICAgICAgICAwLjAsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yWU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRTcG90LnNldChyYXlIaXQubG9jYXRpb25zWzBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluZGljYXRvckhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdCAmJiB0aGlzLmlzTW91c2VJbmRpY2F0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VQcmVzc2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJldlRodW1ic3RpY2tBeGlzLnNldCh0aGlzLl9jdXJyZW50U3RpY2tBeGVzKTtcbiAgICB9XG4gICAgc2V0dXBWUkV2ZW50cyhzKSB7XG4gICAgICAgIC8qIElmIGluIFZSLCBvbmUtdGltZSBiaW5kIHRoZSBsaXN0ZW5lciAqL1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzO1xuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8qIFJlc2V0IGNhY2hlIG9uY2UgdGhlIHNlc3Npb24gZW5kcyB0byByZWJpbmQgc2VsZWN0IGV0YywgaW4gY2FzZVxuICAgICAgICAgICAgICogaXQgc3RhcnRzIGFnYWluICovXG4gICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaWYgKHMuaW5wdXRTb3VyY2VzICYmIHMuaW5wdXRTb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmlucHV0U291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBpbnB1dFNvdXJjZSA9IHMuaW5wdXRTb3VyY2VzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBpbnB1dFNvdXJjZS5nYW1lcGFkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0c291cmNlc2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5hZGRlZCAmJiBlLmFkZGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS5hZGRlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRTb3VyY2UgPSBlLmFkZGVkW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXBhZCA9IGlucHV0U291cmNlLmdhbWVwYWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIG9uTW91c2VEb3duKCkge1xuICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgb25Nb3VzZVVwKCkge1xuICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5faGFzSGl0KSB7XG4gICAgICAgICAgICB0aGlzLl90ZWxlcG9ydFBsYXllcih0aGlzLmhpdFNwb3QsIDAuMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Nb3VzZVByZXNzZWQoKSB7XG4gICAgICAgIGxldCBvcmlnaW4gPSBbMCwgMCwgMF07XG4gICAgICAgIHRoaXMuY2FtLmdldFBvc2l0aW9uV29ybGQob3JpZ2luKTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5jYW0uZ2V0Rm9yd2FyZCh0aGlzLl90ZW1wVmVjKTtcbiAgICAgICAgbGV0IHJheUhpdCA9ICh0aGlzLnJheUhpdCA9XG4gICAgICAgICAgICB0aGlzLnJheUNhc3RNb2RlID09IDBcbiAgICAgICAgICAgICAgICA/IHRoaXMuZW5naW5lLnNjZW5lLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwKVxuICAgICAgICAgICAgICAgIDogdGhpcy5lbmdpbmUucGh5c2ljcy5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cCwgdGhpcy5tYXhEaXN0YW5jZSkpO1xuICAgICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGRpcmVjdGlvblsxXSA9IDA7XG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXJlY3Rpb24sIGRpcmVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24gPVxuICAgICAgICAgICAgICAgIC1NYXRoLnNpZ24oZGlyZWN0aW9uWzJdKSAqIE1hdGguYWNvcyhkaXJlY3Rpb25bMF0pIC0gTWF0aC5QSSAqIDAuNTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnRyYW5zbGF0ZShyYXlIaXQubG9jYXRpb25zWzBdKTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhpdFNwb3QgPSByYXlIaXQubG9jYXRpb25zWzBdO1xuICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRpY2F0b3JIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfdGVsZXBvcnRQbGF5ZXIobmV3UG9zaXRpb24sIHJvdGF0aW9uVG9BZGQpIHtcbiAgICAgICAgLy90aGlzLmNhbVJvb3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgcm90YXRpb25Ub0FkZCk7XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLl90ZW1wVmVjO1xuICAgICAgICBjb25zdCBwMSA9IHRoaXMuX3RlbXBWZWMwO1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLmV5ZUxlZnQuZ2V0UG9zaXRpb25Xb3JsZChwKTtcbiAgICAgICAgICAgIHRoaXMuZXllUmlnaHQuZ2V0UG9zaXRpb25Xb3JsZChwMSk7XG4gICAgICAgICAgICB2ZWMzLmFkZChwLCBwLCBwMSk7XG4gICAgICAgICAgICB2ZWMzLnNjYWxlKHAsIHAsIDAuNSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbS5nZXRQb3NpdGlvbldvcmxkKHApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FtUm9vdC5nZXRQb3NpdGlvbldvcmxkKHAxKTtcbiAgICAgICAgdmVjMy5zdWIocCwgcDEsIHApO1xuICAgICAgICBwWzBdICs9IG5ld1Bvc2l0aW9uWzBdO1xuICAgICAgICBwWzFdID0gbmV3UG9zaXRpb25bMV07XG4gICAgICAgIHBbMl0gKz0gbmV3UG9zaXRpb25bMl07XG4gICAgICAgIHZhciBtc2dUeHQgPSBKU09OLnN0cmluZ2lmeShwKTtcbiAgICAgICAgdmFyIG1zZ0pTT04gPSBKU09OLnBhcnNlKG1zZ1R4dCk7XG4gICAgICAgIG1zZ0pTT05bJ2lkZW50aWZpZXInXSA9IHRoaXMuY3VycmVudFJvYm90TmFtZXNwYWNlICsgJy9nb2FsX3Bvc2UnO1xuICAgICAgICB2YXIgbXNnVHh0SWRlbnRpZmllZCA9IEpTT04uc3RyaW5naWZ5KG1zZ0pTT04pXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyBnb2FsIHRvIFwiICsgdGhpcy5jdXJyZW50Um9ib3ROYW1lc3BhY2UpXG4gICAgICAgIHRoaXMuc29ja2V0LnNlbmQobXNnVHh0SWRlbnRpZmllZCk7IC8vIFNlbmRzIGZvcm1hdCB7XCIwXCI6eC54eHgsXCIxXCI6eC54eHgsXCIyXCI6eC54eHgsIFwiaWRlbnRpZmllclwiOidnb2FsX3Bvc2UnfVxuICAgIH1cblxuICAgIHNlbGVjdFJvYm90KHJvYm90SWQpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU3dpdGNoZWQgZ29hbCByb2JvdCB0byBcIiArIHJvYm90SWQpXG4gICAgICAgIHRoaXMuY3VycmVudFJvYm90TmFtZXNwYWNlID0gdGhpcy5yb2JvdE5hbWVzcGFjZXNbcm9ib3RJZC0xXTtcbiAgICB9XG59XG5leHBvcnQgeyBHb2FsUG9zZUZpbmdlciB9OyIsICJpbXBvcnQge0NvbXBvbmVudCwgVHlwZSwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5cbi8qKlxuICogc25hcC10dXJuXG4gKi9cbmV4cG9ydCBjbGFzcyBTbmFwVHVybiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3NuYXAtdHVybic7XG4gICAgLyogUHJvcGVydGllcyB0aGF0IGFyZSBjb25maWd1cmFibGUgaW4gdGhlIGVkaXRvciAqL1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogSGFuZGVkbmVzcyBmb3IgVlIgY3Vyc29ycyB0byBhY2NlcHQgaW5wdXQgb25seSBmcm9tIHJlc3BlY3RpdmUgY29udHJvbGxlciAqL1xuICAgICAgICBoYW5kZWRuZXNzOiB7dHlwZTogVHlwZS5FbnVtLCB2YWx1ZXM6IFsnbGVmdCcsICdyaWdodCddLCBkZWZhdWx0OiAnbGVmdCd9LFxuICAgICAgICAvKiogUm9vdCBvZiB0aGUgcGxheWVyJ3MgY2FtZXJhICovXG4gICAgICAgIGNhbVJvb3Q6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgICAgIC8qKiBTbmFwIHR1cm4gYW5nbGUgKi9cbiAgICAgICAgc25hcEFuZ2xlOiB7dHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6MzB9LFxuICAgICAgICAvKiogVGh1bWJzdGljayBkZWFkem9uZSAqL1xuICAgICAgICBzdGlja0RlYWR6b25lOiB7dHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDowLjB9LFxuICAgIH07XG5cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICAvKiBUdXJuaW5nIGJvb2xlYW4gKi9cbiAgICAgICAgdGhpcy50dXJuaW5nID0gZmFsc2U7XG4gICAgfVxuXG5cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLmVuZ2luZS54clNlc3Npb247XG4gICAgICAgIGlmICghcykgcmV0dXJuO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5pbnB1dFNvdXJjZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgbGV0IGlucHV0ID0gcy5pbnB1dFNvdXJjZXNbaV07XG4gICAgICAgICAgICBpZiAoaW5wdXQuaGFuZGVkbmVzcyA9PSBbJ2xlZnQnLCAncmlnaHQnXVt0aGlzLmhhbmRlZG5lc3NdKXtcbiAgICAgICAgICAgICAgICBsZXQgZ2FtZXBhZCA9IGlucHV0LmdhbWVwYWQ7XG4gICAgICAgICAgICAgICAgaWYoIWdhbWVwYWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgLy9HYXRoZXIgaW5wdXQgZnJvbSBjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgbGV0IHhBeGlzID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sU291cmNlID09ICd0aHVtYnN0aWNrJyA/IGdhbWVwYWQuYXhlc1swXSA6IGdhbWVwYWQuYXhlc1syXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc25hcFR1cm4oeEF4aXMsIGR0KTsgLy8geEF4aXMgb24gdGhlIHRodW1ic3RpY2sgaXMgaG9yaXpvbnRhbFxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzbmFwVHVybih4QXhpcywgZHQpe1xuICAgICAgICBpZih4QXhpcyA8IC10aGlzLnN0aWNrRGVhZHpvbmUgJiYgdGhpcy50dXJuaW5nID09PSBmYWxzZSl7XG4gICAgICAgICAgICB0aGlzLnR1cm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jYW1Sb290LnJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdChbMCwxLDBdLCB0aGlzLnNuYXBBbmdsZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlR1cm5pbmcgbGVmdC5cIilcblxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZih4QXhpcyA+IHRoaXMuc3RpY2tEZWFkem9uZSAmJiB0aGlzLnR1cm5pbmcgPT09IGZhbHNlKXtcbiAgICAgICAgICAgIHRoaXMudHVybmluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNhbVJvb3Qucm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0KFswLDEsMF0sIC10aGlzLnNuYXBBbmdsZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlR1cm5pbmcgcmlnaHQuXCIpXG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmKHhBeGlzID09PSAwKXtcbiAgICAgICAgICAgIHRoaXMudHVybmluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCAiaW1wb3J0IHtDb21wb25lbnQsIElucHV0Q29tcG9uZW50LFR5cGUsIE1lc2hDb21wb25lbnQsIFByb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHtDdXJzb3JUYXJnZXQsIEhvd2xlckF1ZGlvU291cmNlfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzJztcbmltcG9ydCB7RW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gdHJpZ2dlciBoYXB0aWMgZmVlZGJhY2sgcHVsc2UuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBBbiBvYmplY3Qgd2l0aCAnaW5wdXQnIGNvbXBvbmVudCBhdHRhY2hlZFxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoIFN0cmVuZ3RoIGZyb20gMC4wIC0gMS4wXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gRHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXB0aWNGZWVkYmFjayhvYmplY3QsIHN0cmVuZ3RoLCBkdXJhdGlvbikge1xuICAgIGNvbnN0IGlucHV0ID0gb2JqZWN0LmdldENvbXBvbmVudChJbnB1dENvbXBvbmVudCk7XG4gICAgaWYgKGlucHV0ICYmIGlucHV0LnhySW5wdXRTb3VyY2UpIHtcbiAgICAgICAgY29uc3QgZ2FtZXBhZCA9IGlucHV0LnhySW5wdXRTb3VyY2UuZ2FtZXBhZDtcbiAgICAgICAgaWYgKGdhbWVwYWQgJiYgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpXG4gICAgICAgICAgICBnYW1lcGFkLmhhcHRpY0FjdHVhdG9yc1swXS5wdWxzZShzdHJlbmd0aCwgZHVyYXRpb24pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBCdXR0b24gY29tcG9uZW50LlxuICpcbiAqIFNob3dzIGEgJ2hvdmVyTWF0ZXJpYWwnIG9uIGN1cnNvciBob3ZlciwgbW92ZXMgYmFja3dhcmQgb24gY3Vyc29yIGRvd24sXG4gKiByZXR1cm5zIHRvIGl0cyBwb3NpdGlvbiBvbiBjdXJzb3IgdXAsIHBsYXlzIGNsaWNrL3VuY2xpY2sgc291bmRzIGFuZCBoYXB0aWNcbiAqIGZlZWRiYWNrIG9uIGhvdmVyLlxuICpcbiAqIFVzZSBgdGFyZ2V0Lm9uQ2xpY2suYWRkKCgpID0+IHt9KWAgb24gdGhlIGBjdXJzb3ItdGFyZ2V0YCBjb21wb25lbnQgdXNlZFxuICogd2l0aCB0aGUgYnV0dG9uIHRvIGRlZmluZSB0aGUgYnV0dG9uJ3MgYWN0aW9uLlxuICpcbiAqIFN1cHBvcnRzIGludGVyYWN0aW9uIHdpdGggYGZpbmdlci1jdXJzb3JgIGNvbXBvbmVudCBmb3IgaGFuZCB0cmFja2luZy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJ1dHRvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2J1dHRvbic7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBPYmplY3QgdGhhdCBoYXMgdGhlIGJ1dHRvbidzIG1lc2ggYXR0YWNoZWQgKi9cbiAgICAgICAgYnV0dG9uTWVzaE9iamVjdDogUHJvcGVydHkub2JqZWN0KCksXG4gICAgICAgIC8qKiBNYXRlcmlhbCB0byBhcHBseSB3aGVuIHRoZSB1c2VyIGhvdmVycyB0aGUgYnV0dG9uICovXG4gICAgICAgIGhvdmVyTWF0ZXJpYWw6IFByb3BlcnR5Lm1hdGVyaWFsKCksXG4gICAgICAgIC8qKiBCdXR0b24gSUQgKi9cbiAgICAgICAgYnV0dG9uSWQ6IHt0eXBlOiBUeXBlLkludH0sXG4gICAgfTtcblxuICAgIC8qIERlY2xhcmUgYW4gaW5zdGFuY2Ugb2YgZW1pdHRlciBhcyBhdHRyaWJ1dGUgb2YgQnV0dG9uQ29tcG9uZW50ICovXG4gICAgZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG5cbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KEhvd2xlckF1ZGlvU291cmNlKTtcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KEN1cnNvclRhcmdldCk7XG4gICAgfVxuXG4gICAgLyogUG9zaXRpb24gdG8gcmV0dXJuIHRvIHdoZW4gXCJ1bnByZXNzaW5nXCIgdGhlIGJ1dHRvbiAqL1xuICAgIHJldHVyblBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5idXR0b25NZXNoT2JqZWN0LmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5kZWZhdWx0TWF0ZXJpYWwgPSB0aGlzLm1lc2gubWF0ZXJpYWw7XG4gICAgICAgIHRoaXMuYnV0dG9uTWVzaE9iamVjdC5nZXRUcmFuc2xhdGlvbkxvY2FsKHRoaXMucmV0dXJuUG9zKTtcblxuICAgICAgICB0aGlzLnRhcmdldCA9XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoQ3Vyc29yVGFyZ2V0KSB8fFxuICAgICAgICAgICAgdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEN1cnNvclRhcmdldCk7XG5cbiAgICAgICAgdGhpcy5zb3VuZENsaWNrID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEhvd2xlckF1ZGlvU291cmNlLCB7XG4gICAgICAgICAgICBzcmM6ICdzZngvY2xpY2sud2F2JyxcbiAgICAgICAgICAgIHNwYXRpYWw6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvdW5kVW5DbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xuICAgICAgICAgICAgc3JjOiAnc2Z4L3VuY2xpY2sud2F2JyxcbiAgICAgICAgICAgIHNwYXRpYWw6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIFxuICAgIH1cblxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uSG92ZXIuYWRkKHRoaXMub25Ib3Zlcik7XG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVW5ob3Zlci5hZGQodGhpcy5vblVuaG92ZXIpO1xuICAgICAgICB0aGlzLnRhcmdldC5vbkRvd24uYWRkKHRoaXMub25Eb3duKTtcbiAgICAgICAgdGhpcy50YXJnZXQub25VcC5hZGQodGhpcy5vblVwKTtcbiAgICB9XG5cbiAgICBvbkRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uSG92ZXIucmVtb3ZlKHRoaXMub25Ib3Zlcik7XG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVW5ob3Zlci5yZW1vdmUodGhpcy5vblVuaG92ZXIpO1xuICAgICAgICB0aGlzLnRhcmdldC5vbkRvd24ucmVtb3ZlKHRoaXMub25Eb3duKTtcbiAgICAgICAgdGhpcy50YXJnZXQub25VcC5yZW1vdmUodGhpcy5vblVwKTtcbiAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsID0gdGhpcy5kZWZhdWx0TWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xuICAgIG9uSG92ZXIgPSAoXywgY3Vyc29yKSA9PiB7XG4gICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbCA9IHRoaXMuaG92ZXJNYXRlcmlhbDtcbiAgICAgICAgaWYgKGN1cnNvci50eXBlID09PSAnZmluZ2VyLWN1cnNvcicpIHtcbiAgICAgICAgICAgIHRoaXMub25Eb3duKF8sIGN1cnNvcik7XG4gICAgICAgIH1cblxuICAgICAgICBoYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjUsIDUwKTtcbiAgICB9XG5cbiAgICAvKiBDYWxsZWQgYnkgJ2N1cnNvci10YXJnZXQnICovXG4gICAgb25Eb3duID0gKF8sIGN1cnNvcikgPT4ge1xuICAgICAgICB0aGlzLnNvdW5kQ2xpY2sucGxheSgpO1xuICAgICAgICAvL3RoaXMuYnV0dG9uTWVzaE9iamVjdC50cmFuc2xhdGUoWzAuMCwgLTAuMSwgMC4wXSk7XG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDEuMCwgMjApO1xuICAgICAgICB0aGlzLmVtaXR0ZXIubm90aWZ5KHsnaWQnOnRoaXMuYnV0dG9uSWR9KTtcbiAgICB9XG5cbiAgICAvKiBDYWxsZWQgYnkgJ2N1cnNvci10YXJnZXQnICovXG4gICAgb25VcCA9IChfLCBjdXJzb3IpID0+IHtcbiAgICAgICAgdGhpcy5zb3VuZFVuQ2xpY2sucGxheSgpO1xuICAgICAgICAvL3RoaXMuYnV0dG9uTWVzaE9iamVjdC5zZXRUcmFuc2xhdGlvbkxvY2FsKHRoaXMucmV0dXJuUG9zKTtcbiAgICAgICAgaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC43LCAyMCk7XG4gICAgfVxuXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xuICAgIG9uVW5ob3ZlciA9IChfLCBjdXJzb3IpID0+IHtcbiAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsID0gdGhpcy5kZWZhdWx0TWF0ZXJpYWw7XG4gICAgICAgIGlmIChjdXJzb3IudHlwZSA9PT0gJ2Zpbmdlci1jdXJzb3InKSB7XG4gICAgICAgICAgICB0aGlzLm9uVXAoXywgY3Vyc29yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuMywgNTApO1xuICAgIH1cbn1cbiIsICJpbXBvcnQge0NvbXBvbmVudCwgVHlwZX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7RW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IFN3aXRjaCB9IGZyb20gJy4vc3dpdGNoJztcblxuXG4vKipcbiAqIHJvYm9jYW0tZ3JhYmJlclxuICovXG5leHBvcnQgY2xhc3MgUm9ib2NhbUdyYWJiZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdyb2JvY2FtLWdyYWJiZXInO1xuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFJvYm90MSBzd2l0Y2ggb2JqZWN0ICovXG4gICAgICAgIHJvYm90MVN3aXRjaDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFJvYm90MiBzd2l0Y2ggb2JqZWN0ICovXG4gICAgICAgIHJvYm90MlN3aXRjaDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFJvYm90MyBzd2l0Y2ggb2JqZWN0ICovXG4gICAgICAgIHJvYm90M1N3aXRjaDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICB9O1xuXG4gICAgLy8gQWRkIGFuIGVtaXR0ZXIgY2xhc3MgYXR0cmlidXRlIGZvciB0aGUgY2xhc3NcbiAgICBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcblxuICAgIGluaXQoKSB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIG9uQWN0aXZhdGUoKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJBY3RpdmF0aW5nIHRoZSBjYW0gZ3JhYmJlci4uLlwiKTtcbiAgICB9XG5cbiAgICBvbkRlYWN0aXZhdGUoKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJEZWFjdGl2YXRpbmcgdGhlIGNhbSBncmFiYmVyLi4uXCIpO1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICBjb25zdCBzd2l0Y2gxQ29tcG9uZW50ID0gdGhpcy5yb2JvdDFTd2l0Y2guZ2V0Q29tcG9uZW50KFN3aXRjaCk7XG4gICAgICAgIHN3aXRjaDFDb21wb25lbnQuZW1pdHRlci5hZGQoKGRhdGEpPT57XG4gICAgICAgICAgICB0aGlzLnNlbGVjdFJvYm90KGRhdGFbJ2lkJ10pO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN3aXRjaDJDb21wb25lbnQgPSB0aGlzLnJvYm90MlN3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgc3dpdGNoMkNvbXBvbmVudC5lbWl0dGVyLmFkZCgoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Um9ib3QoZGF0YVsnaWQnXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN3aXRjaDNDb21wb25lbnQgPSB0aGlzLnJvYm90M1N3aXRjaC5nZXRDb21wb25lbnQoU3dpdGNoKTtcbiAgICAgICAgc3dpdGNoM0NvbXBvbmVudC5lbWl0dGVyLmFkZCgoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Um9ib3QoZGF0YVsnaWQnXSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50Um9ib3ROYW1lc3BhY2UgPSBcIlwiXG4gICAgICAgIHRoaXMucm9ib3ROYW1lc3BhY2VzID0gWyd3YWZmbGUxJywgJ3dhZmZsZTInLCAnd2FmZmxlMyddXG5cblxuICAgIH1cblxuXG4gICAgdXBkYXRlKGR0KSB7XG4gICAgICAgIFxuICAgIH1cbiAgICB0YWtlU25hcHNob3QoKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlRha2luZyBzbmFwc2hvdCBmcm9tIFwiICsgdGhpcy5jdXJyZW50Um9ib3ROYW1lc3BhY2UgKTtcbiAgICAgICAgdGhpcy5lbWl0dGVyLm5vdGlmeSh7Y29tbWFuZDpcInNuYXBzaG90XCIsIG5hbWVzcGFjZTp0aGlzLmN1cnJlbnRSb2JvdE5hbWVzcGFjZX0pOyAvLyBFbWl0IHNuYXBzaG90IHJlcXVlc3QgZm9yIHRoZSBzY3JlZW4gY29tcG9uZW50LlxuICAgIH1cblxuICAgIHNlbGVjdFJvYm90KHJvYm90SWQpe1xuICAgICAgICBpZihyb2JvdElkIDw9IDMpe1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlN3aXRjaGVkIGNhbSByb2JvdCB0byBcIiArIHJvYm90SWQpXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSb2JvdE5hbWVzcGFjZSA9IHRoaXMucm9ib3ROYW1lc3BhY2VzW3JvYm90SWQtMV07XG4gICAgICAgICAgICB0aGlzLnRha2VTbmFwc2hvdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgXG59XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wZXJ0eSwgVHlwZSwgVGV4dHVyZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQge1JvYm9jYW1HcmFiYmVyfSBmcm9tICcuL3JvYm9jYW0tZ3JhYmJlcic7XG5cblxuZXhwb3J0IGNsYXNzIFNjcmVlbjIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdzY3JlZW4yJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFNjcmVlbiBtYXRlcmlhbCB0byB3aGljaCB0aGUgdGV4dHVyZS9mcmFtZSBzaG91bGQgYmUgYXR0YWNoZWQgKi9cbiAgICAgICAgbWF0ZXJpYWw6IFByb3BlcnR5Lm1hdGVyaWFsKCksXG4gICAgICAgIC8qKiBPYmplY3QgdG8gd2hpY2ggdGhlIHJvYm90IGNhbSBncmFiYmVyIGlzIGF0dGFjaGVkICovXG4gICAgICAgIHJvYm90Q2FtR3JhYmJlcjogUHJvcGVydHkub2JqZWN0KCksXG4gICAgICAgIFxuICAgIH07XG5cbiAgICAvLyBEZWZpbmUgcmdiOEFycmF5IGFuZCBjYW52YXNUZXh0dXJlIGFzIGNsYXNzIHByb3BlcnRpZXNcbiAgICAvL3JnYjhBcnJheSA9IG51bGw7XG4gICAgLy9jYW52YXNUZXh0dXJlID0gbnVsbDtcblxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2NyZWVuIGlzIGFjdGl2ZSFcIik7XG5cbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgbGV0IHJnYjhBcnJheTsgLy8gRGVjbGFyZSByZ2I4QXJyYXkgaGVyZSB0byBhdm9pZCB1bmRlY2xhcmVkIHZhcmlhYmxlIGVycm9yXG5cbiAgICAgICAgLy9jb25zdCBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KFwid3M6Ly8xOTIuMTY4LjEuNTg6MzAwMFwiKTtcbiAgICAgICAgLy9jb25zdCBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KFwid3M6Ly8xOTIuMTY4LjEuNzE6MzAwMFwiKTtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzOi8vMTkyLjE2OC4xNjUuMTg1OjMwMDBcIik7XG4gICAgICAgIFxuXG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiV2ViU29ja2V0IGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBcblxuICAgICAgICBjb25zdCByb2JvdENhbUdyYWJiZXJDb21wb25lbnQgPSB0aGlzLnJvYm90Q2FtR3JhYmJlci5nZXRDb21wb25lbnQoUm9ib2NhbUdyYWJiZXIpO1xuICAgICAgICByb2JvdENhbUdyYWJiZXJDb21wb25lbnQuZW1pdHRlci5hZGQoKGRhdGEpPT57XG4gICAgICAgICAgICBpZihkYXRhW1wiY29tbWFuZFwiXSA9PT0gXCJzbmFwc2hvdFwiKXtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlVHJpZ2dlciA9IEpTT04uc3RyaW5naWZ5KHtcImlkZW50aWZpZXJcIjpkYXRhW1wibmFtZXNwYWNlXCJdK1wiL2NhbWVyYV90cmlnZ2VyXCIsIFwiY29tbWFuZFwiOlwiY2FwdHVyZV9PTlwifSlcbiAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZChtZXNzYWdlVHJpZ2dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZU1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGZpbGVSZWFkZXIucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmdiOEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gdGhpcy5fY29udmVydFJHQjhUb0ltYWdlRGF0YShyZ2I4QXJyYXksIDEyODAsIDcyMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IGltYWdlRGF0YS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgdGV4dHVyZS4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzVGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuZW5naW5lLCB0aGlzLmNhbnZhcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGVyaWFsLmZsYXRUZXh0dXJlID0gdGhpcy5jYW52YXNUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNUZXh0dXJlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL3NvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBoYW5kbGVNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlTWVzc2FnZSk7XG4gICAgfVxuXG4gICAgb25EZWFjdGl2YXRlKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlNjcmVlbiBpcyBpbmFjdGl2ZSFcIik7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICAvLyBDYWxsZWQgZXZlcnkgZnJhbWUuXG4gICAgICAgIFxuXG4gICAgfVxuXG4gICAgX2NvbnZlcnRSR0I4VG9JbWFnZURhdGEocmdiOEFycmF5LCBpbWFnZVdpZHRoLCBpbWFnZUhlaWdodCkge1xuICAgICAgICBjb25zdCBwaXhlbENvdW50ID0gcmdiOEFycmF5Lmxlbmd0aCAvIDM7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IG5ldyBJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwaXhlbENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSByZ2I4QXJyYXlbaSAqIDNdO1xuICAgICAgICAgICAgY29uc3QgZyA9IHJnYjhBcnJheVtpICogMyArIDFdO1xuICAgICAgICAgICAgY29uc3QgYiA9IHJnYjhBcnJheVtpICogMyArIDJdO1xuICAgICAgICAgICAgY29uc3QgYSA9IDI1NTsgLy8gQWxwaGEgY2hhbm5lbCAoZnVsbHkgb3BhcXVlKVxuICAgICAgICAgICAgY29uc3QgeCA9IGkgJSB3aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKGkgLyB3aWR0aCk7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9ICh5ICogd2lkdGggKyB4KSAqIDQ7XG5cbiAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2luZGV4XSA9IHI7XG4gICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpbmRleCArIDFdID0gZztcbiAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2luZGV4ICsgMl0gPSBiO1xuICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAzXSA9IGE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW1hZ2VEYXRhO1xuICAgIH1cbn1cbiIsICJpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHksIFR5cGV9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyB2ZWMzLCBxdWF0IH0gZnJvbSAnZ2wtbWF0cml4JztcblxuLyoqXG4gKiBtZW51LWJyaW5ndXBcbiAqL1xuZXhwb3J0IGNsYXNzIE1lbnVCcmluZ3VwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbWVudS1icmluZ3VwJztcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qIE1lbnUgT2JqZWN0ICovXG4gICAgICAgIG1lbnVPYmplY3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyogQ2FtZXJhIHJvb3Qgb2JqZWN0ICovXG4gICAgICAgIGNhbVJvb3RPYmo6IHsgdHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKiBIYW5kZWRuZXNzIGZvciBWUiBjdXJzb3JzIHRvIGFjY2VwdCBpbnB1dCBvbmx5IGZyb20gcmVzcGVjdGl2ZSBjb250cm9sbGVyICovXG4gICAgICAgIGhhbmRlZG5lc3M6IHt0eXBlOiBUeXBlLkVudW0sIHZhbHVlczogWydsZWZ0JywgJ3JpZ2h0J10sIGRlZmF1bHQ6ICdsZWZ0J30sXG4gICAgICAgIC8qIExlZnQgZXllIG9iamVjdCAqL1xuICAgICAgICBleWVMZWZ0OiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKiBSaWdodCBleWUgb2JqZWN0ICovXG4gICAgICAgIGV5ZVJpZ2h0OiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKiBEaXN0YW5jZSBmcm9tIHBsYXllciAqL1xuICAgICAgICBkaXN0YW5jZVBsYXllcjoge3R5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6MX0sXG4gICAgfTtcblxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpbml0KCkgd2l0aCBwYXJhbScsIHRoaXMucGFyYW0pO1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICBjb25zb2xlLmxvZygnc3RhcnQoKSB3aXRoIHBhcmFtJywgdGhpcy5wYXJhbSk7XG4gICAgICAgIC8vIENsb3NlIG1lbnUgYnkgZGVmYXVsdCBhdCBzdGFydHVwXG4gICAgICAgIHRoaXMubWVudU9iamVjdC5zY2FsZUxvY2FsKFswLDAsMF0pO1xuICAgICAgICAvLyBGbGFnIGZvciBtZW51IGFscmVhZHkgb3BlblxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAvLyBQb3NpdGlvbiBhcnJheSBvZiBQbGF5ZXJcbiAgICAgICAgdGhpcy5wbGF5ZXJQb3MgPSBbMCwgMCwgMF07XG4gICAgICAgIC8vIFBvc2l0aW9uIGFycmF5IG9mIE1lbnVcbiAgICAgICAgdGhpcy5tZW51UG9zID0gWzAsIDAsIDBdO1xuICAgICAgICAvLyBWZWN0b3IgdXNlZCB0byBjYWxjdWxhdGUgaGVhZCByb3RhdGlvblxuICAgICAgICB0aGlzLl90ZW1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5fdGVtcFZlYzAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIH1cblxuICAgIF9nZXRDYW1Sb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5leWVMZWZ0LmdldEZvcndhcmRXb3JsZCh0aGlzLl90ZW1wVmVjKTtcbiAgICAgICAgdGhpcy5fdGVtcFZlY1sxXSA9IDA7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX3RlbXBWZWMsIHRoaXMuX3RlbXBWZWMpO1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLl90ZW1wVmVjWzBdLCB0aGlzLl90ZW1wVmVjWzJdKTtcbiAgICB9XG5cbiAgICBfZ2V0UGxheWVyUG9zaXRpb24oKXtcbiAgICAgICAgdGhpcy5jYW1Sb290T2JqLmdldFBvc2l0aW9uV29ybGQodGhpcy5wbGF5ZXJQb3MpO1xuICAgICAgICByZXR1cm4odGhpcy5wbGF5ZXJQb3MpO1xuICAgIH1cblxuICAgIF9zZXRNZW51UG9zZSgpe1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IE1hdGguc2luKHRoaXMuX2dldENhbVJvdGF0aW9uKCkpICogdGhpcy5kaXN0YW5jZVBsYXllcjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IDE7XG4gICAgICAgIGNvbnN0IG9mZnNldFogPSBNYXRoLmNvcyh0aGlzLl9nZXRDYW1Sb3RhdGlvbigpKSAqIHRoaXMuZGlzdGFuY2VQbGF5ZXI7XG5cbiAgICAgICAgY29uc3QgbWVudVBvc2UgPSBbXG4gICAgICAgICAgICB0aGlzLl9nZXRQbGF5ZXJQb3NpdGlvbigpWzBdICsgb2Zmc2V0WCxcbiAgICAgICAgICAgIHRoaXMuX2dldFBsYXllclBvc2l0aW9uKClbMV0gKyBvZmZzZXRZLFxuICAgICAgICAgICAgdGhpcy5fZ2V0UGxheWVyUG9zaXRpb24oKVsyXSArIG9mZnNldFosXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5tZW51T2JqZWN0LnNldFBvc2l0aW9uV29ybGQobWVudVBvc2UpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcm90YXRpb24gaW4gcXVhdGVybmlvblxuICAgICAgICBjb25zdCByb3RhdGlvblF1YXRlcm5pb24gPSBxdWF0LmNyZWF0ZSgpO1xuICAgICAgICBxdWF0LmZyb21FdWxlcihyb3RhdGlvblF1YXRlcm5pb24sIDAsIHRoaXMuX2dldENhbVJvdGF0aW9uKCkgKiAoMTgwIC8gTWF0aC5QSSksIDApO1xuICAgICAgICB0aGlzLm1lbnVPYmplY3Quc2V0Um90YXRpb25Xb3JsZChyb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICB0aGlzLm1lbnVPYmplY3Qucm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0KFswLDEsMF0sIDE4MCk7XG5cbiAgICB9XG5cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgLyogQ2FsbGVkIGV2ZXJ5IGZyYW1lLiAqL1xuICAgICAgICBsZXQgcyA9IHRoaXMuZW5naW5lLnhyU2Vzc2lvbjtcbiAgICAgICAgaWYgKCFzKSByZXR1cm47XG5cbiAgICAgICAgLy9IYW5kbGUgaW5wdXRcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmlucHV0U291cmNlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbGV0IGlucHV0ID0gcy5pbnB1dFNvdXJjZXNbaV07XG4gICAgICAgICAgICBpZiAoaW5wdXQuaGFuZGVkbmVzcyA9PSBbJ2xlZnQnLCAncmlnaHQnXVt0aGlzLmhhbmRlZG5lc3NdKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdhbWVwYWQgPSBpbnB1dC5nYW1lcGFkO1xuICAgICAgICAgICAgICAgIGlmICghZ2FtZXBhZCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAvL0dhdGhlciBpbnB1dCBmcm9tIGNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICBsZXQgYnV0dG9uUHJlc3NlZCA9IGdhbWVwYWQuYnV0dG9uc1s0XS5wcmVzc2VkO1xuXG4gICAgICAgICAgICAgICAgLy9IYW5kbGUgYnV0dG9uIHByZXNzZXNcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uUHJlc3NlZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNPcGVuID09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIE9wZW4gdGhlIG1lbnUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQgb2YgMjAwbXMgdG8gZGVib3VuY2UgdGhlIGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGxhY2UgdGhlIG1lbnUgaW4gZnJvbnQgb2YgdGhlIHBsYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldE1lbnVQb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgc2NhbGluZyB0byBpZGVudGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVudU9iamVjdC5yZXNldFNjYWxpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTY2FsZSBkb3duIHRvIGRlc2lyZWQgc2l6ZSAoZWRpdG9yIHNpemUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51T2JqZWN0LnNjYWxlTG9jYWwoWzAuMywwLjMsMC4zXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLmlzT3BlbiA9PSB0cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsb3NlIHRoZSBtZW51XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51T2JqZWN0LnNjYWxlTG9jYWwoWzAsMCwwXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICB9LDIwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsICJpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5cblxuXG4vKipcbiAqIHJvYm90LWNvbXBvbmVudFxuICovXG5leHBvcnQgY2xhc3MgUm9ib3RDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdyb2JvdC1jb21wb25lbnQnO1xuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgbmFtZXNwYWNlOiBQcm9wZXJ0eS5zdHJpbmcoXCJcIiksXG4gICAgfTtcblxuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xuICAgICAgICAvKiBUcmlnZ2VyZWQgd2hlbiB0aGlzIGNvbXBvbmVudCBjbGFzcyBpcyByZWdpc3RlcmVkLlxuICAgICAgICAgKiBZb3UgY2FuIGZvciBpbnN0YW5jZSByZWdpc3RlciBleHRyYSBjb21wb25lbnQgdHlwZXMgaGVyZVxuICAgICAgICAgKiB0aGF0IHlvdXIgY29tcG9uZW50IG1heSBjcmVhdGUuICovXG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2luaXQoKSB3aXRoIHBhcmFtJywgdGhpcy5wYXJhbSk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIC8vdGhpcy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KFwid3M6Ly9sb2NhbGhvc3Q6MzAwMFwiKTtcbiAgICAgICAgLy90aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3czovLzE5Mi4xNjguMS43MTozMDAwXCIpO1xuICAgICAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3czovLzE5Mi4xNjguMTY1LjE4NTozMDAwXCIpO1xuICAgICAgICAvLyBDb25uZWN0aW9uIG9wZW5lZFxuICAgICAgICB0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vc29ja2V0LnNlbmQoXCJIZWxsbyBTZXJ2ZXIhXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMaXN0ZW4gZm9yIG1lc3NhZ2VzXG4gICAgICAgIHRoaXMuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIk1lc3NhZ2UgZnJvbSBzZXJ2ZXIgXCIsIGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgaWYoIShldmVudC5kYXRhIGluc3RhbmNlb2YgQmxvYikgJiYgdHlwZW9mIGV2ZW50LmRhdGEgIT0gXCJvYmplY3RcIil7XG4gICAgICAgICAgICAgICAgdmFyIG1zZ1BhcnNlZCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYobXNnUGFyc2VkLmlkZW50aWZpZXIgPT09ICdyb2JvdF9wb3NlJyl7XG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgdHJhbnNmb3JtIG9mIG1zZ1BhcnNlZC50cmFuc2Zvcm1zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codHJhbnNmb3JtWydjaGlsZF9mcmFtZV9pZCddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRyYW5zZm9ybVsnY2hpbGRfZnJhbWVfaWQnXSA9PT0gdGhpcy5uYW1lc3BhY2UrJy9iYXNlX2Zvb3RwcmludCcgJiYgdHJhbnNmb3JtWydoZWFkZXInXVsnZnJhbWVfaWQnXSA9PT0gdGhpcy5uYW1lc3BhY2UrJy9vZG9tJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHhwID0gdHJhbnNmb3JtWyd0cmFuc2Zvcm0nXVsndHJhbnNsYXRpb24nXVsneCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5cCA9IHRyYW5zZm9ybVsndHJhbnNmb3JtJ11bJ3RyYW5zbGF0aW9uJ11bJ3knXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgenAgPSB0cmFuc2Zvcm1bJ3RyYW5zZm9ybSddWyd0cmFuc2xhdGlvbiddWyd6J107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeHIgPSB0cmFuc2Zvcm1bJ3RyYW5zZm9ybSddWydyb3RhdGlvbiddWyd4J107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHlyID0gdHJhbnNmb3JtWyd0cmFuc2Zvcm0nXVsncm90YXRpb24nXVsneSddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB6ciA9IHRyYW5zZm9ybVsndHJhbnNmb3JtJ11bJ3JvdGF0aW9uJ11bJ3onXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3IgPSB0cmFuc2Zvcm1bJ3RyYW5zZm9ybSddWydyb3RhdGlvbiddWyd3J107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nICh4ciwgeXIsIHpyLCB3cilcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNldFBvc2l0aW9uV29ybGQoW3hwLCAwLjEyNSwgLXlwXSk7IC8vTmVnYXRpbmcgeiBjb29yZGluYXRlIHRvIG1hdGNoIFJ2aXogZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zZXRSb3RhdGlvbldvcmxkKFswLCB6ciwgMCwgd3JdKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG4gICAgXG4gICAgXG4gICAgdXBkYXRlKGR0KSB7XG4gICAgICAgIC8qIENhbGxlZCBldmVyeSBmcmFtZS4gKi9cbiAgICB9XG59XG4iLCAiaW1wb3J0IHtDb21wb25lbnQsIFByb3BlcnR5LCBUeXBlLCBUZXh0Q29tcG9uZW50fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHtTd2l0Y2hIYW5kbGVyfSBmcm9tICcuL3N3aXRjaC1oYW5kbGVyJ1xuXG4vKipcbiAqIHNlbnNvci1zY3JlZW5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlbnNvclNjcmVlbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3NlbnNvci1zY3JlZW4nO1xuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFJvYm90IGxhYmVsIG9iamVjdCBmb3IgdGhlIHNlbnNvciBzY3JlZW4gKi9cbiAgICAgICAgcm9ib3RWYWx1ZToge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIFNlbnNvciBsYWJlbCBvYmplY3QgZm9yIHRoZSBzZW5zb3Igc2NyZWVuICovXG4gICAgICAgIHNlbnNvclZhbHVlOiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKiogVmFsdWUgbGFiZWwgb2JqZWN0IGZvciB0aGUgc2Vuc29yIHNjcmVlbiAqL1xuICAgICAgICB2YWx1ZVZhbHVlOiB7dHlwZTogVHlwZS5PYmplY3R9LFxuICAgICAgICAvKiogV2FybmluZyBsYWJlbCBvYmplY3QgZm9yIHRoZSBzZW5zb3Igc2NyZWVuICovXG4gICAgICAgIHdhcm5pbmdPYmo6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgICAgIC8qKiBNZW51IG9iamVjdCBmb3IgU3dpdGNoIGhhbmRsZXIgY29tcG9uZW50ICovXG4gICAgICAgIG1lbnVPYmplY3Q6IHt0eXBlOiBUeXBlLk9iamVjdH0sXG4gICAgfTtcblxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc2Vuc29ycyA9IFtcIkdhc1wiLCBcIlRlbXBlcmF0dXJlXCIsIFwiSHVtaWRpdHlcIl07XG4gICAgICAgIHRoaXMudW5pdHMgPSBbXCIlXCIsIFwiXHUwMEIwQ1wiLCBcIiVcIl1cbiAgICAgICAgdGhpcy52YWx1ZXMgPSBbMTAwLCAyNywgODBdXG4gICAgICAgIHRoaXMucm9ib3RWYWx1ZVRleHQgPSB0aGlzLnJvYm90VmFsdWUuZ2V0Q29tcG9uZW50KFRleHRDb21wb25lbnQpO1xuICAgICAgICB0aGlzLnNlbnNvclZhbHVlVGV4dCA9IHRoaXMuc2Vuc29yVmFsdWUuZ2V0Q29tcG9uZW50KFRleHRDb21wb25lbnQpO1xuICAgICAgICB0aGlzLnZhbHVlVmFsdWVUZXh0ID0gdGhpcy52YWx1ZVZhbHVlLmdldENvbXBvbmVudChUZXh0Q29tcG9uZW50KTtcbiAgICAgICAgdGhpcy53YXJuaW5nVGV4dCA9IHRoaXMud2FybmluZ09iai5nZXRDb21wb25lbnQoVGV4dENvbXBvbmVudCk7XG4gICAgICAgIHRoaXMud2FybmluZ1RleHQudGV4dCA9IFwiXCI7XG5cbiAgICAgICAgY29uc3Qgc3dpdGNoSGFuZGxlckNvbXBvbmVudCA9IHRoaXMubWVudU9iamVjdC5nZXRDb21wb25lbnQoU3dpdGNoSGFuZGxlcik7XG4gICAgICAgIHN3aXRjaEhhbmRsZXJDb21wb25lbnQuZW1pdHRlci5hZGQoKGRhdGEpPT57XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxhYmVscyhkYXRhWydpZCddKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHVwZGF0ZUxhYmVscyhyb2JvdElkKXtcbiAgICAgICAgdGhpcy5yb2JvdFZhbHVlVGV4dC50ZXh0ID0gU3RyaW5nKHJvYm90SWQpO1xuICAgICAgICB0aGlzLnNlbnNvclZhbHVlVGV4dC50ZXh0ID0gdGhpcy5zZW5zb3JzW3JvYm90SWQgLSAxXTtcbiAgICAgICAgdGhpcy52YWx1ZVZhbHVlVGV4dC50ZXh0ID0gU3RyaW5nKHRoaXMudmFsdWVzW3JvYm90SWQgLSAxXSkrIHRoaXMudW5pdHNbcm9ib3RJZCAtIDFdO1xuICAgICAgICBpZih0aGlzLnZhbHVlc1tyb2JvdElkIC0gMV0gPiA1MCl7XG4gICAgICAgICAgICB0aGlzLndhcm5pbmdUZXh0LnRleHQgPSBcIldBUk5JTkchXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHRoaXMud2FybmluZ1RleHQudGV4dCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiLyoqXG4gICAgQ29weXJpZ2h0IFx1MDBBOSAyMDIwIERhbmllbCBBZGFtcyA8bXN1YjJvZmZpY2lhbEBnbWFpbC5jb20+XG5cbiAgICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICAgIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAgICB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uXG4gICAgdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gICAgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gICAgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuICAgIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gICAgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gICAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gICAgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTExcbiAgICBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICAgIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gICAgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUlxuICAgIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiovXG5pbXBvcnQge0NvbXBvbmVudCwgVHlwZX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7dmVjMywgcXVhdDJ9IGZyb20gJ2dsLW1hdHJpeCc7XG5cbi8qKiBTbW9vdGggbG9jb21vdGlvbiBjaGFyYWN0ZXIgY29udHJvbGxlciBmb3IgVlIuICovXG5leHBvcnQgY2xhc3MgU21vb3RoTG9jb21vdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3Ntb290aC1sb2NvbW90aW9uJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIEhhbmRlZG5lc3MgZm9yIFZSIGN1cnNvcnMgdG8gYWNjZXB0IGlucHV0IG9ubHkgZnJvbSByZXNwZWN0aXZlIGNvbnRyb2xsZXIgKi9cbiAgICAgICAgaGFuZGVkbmVzczoge3R5cGU6IFR5cGUuRW51bSwgdmFsdWVzOiBbJ2xlZnQnLCAncmlnaHQnXSwgZGVmYXVsdDogJ2xlZnQnfSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdGhpcyBjb250cm9sbGVyIHJvdGF0ZXMgb3IgbW92ZXMgdGhlIGNoYXJhY3RlciAqL1xuICAgICAgICBjb250cm9sVHlwZToge3R5cGU6IFR5cGUuRW51bSwgdmFsdWVzOiBbJ21vdmUnLCAncm90YXRlJ10sIGRlZmF1bHQ6ICdtb3ZlJ30sXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIHVzZSB0aHVtYnN0aWNrIG9yIHRvdWNocGFkIGZvciBpbnB1dCAqL1xuICAgICAgICBjb250cm9sU291cmNlOiB7XG4gICAgICAgICAgICB0eXBlOiBUeXBlLkVudW0sXG4gICAgICAgICAgICB2YWx1ZXM6IFsndGh1bWJzdGljaycsICd0b3VjaHBhZCddLFxuICAgICAgICAgICAgZGVmYXVsdDogJ3RodW1ic3RpY2snLFxuICAgICAgICB9LFxuICAgICAgICAvKiogUGxheWVyIG9iamVjdCB3aGljaCBpcyBtb3ZlZCAqL1xuICAgICAgICBwbGF5ZXI6IHt0eXBlOiBUeXBlLk9iamVjdCwgZGVmYXVsdDogbnVsbH0sXG4gICAgICAgIC8qKiBIZWFkL0xlZnQgZXllIG9iamVjdCBmcm9tIHdoaWNoIHRvIGdldCBtb3ZlbWVudCBkaXJlY3Rpb24gKi9cbiAgICAgICAgaGVhZDoge3R5cGU6IFR5cGUuT2JqZWN0LCBkZWZhdWx0OiBudWxsfSxcbiAgICAgICAgLyoqIFJpZ2h0IGV5ZSBvYmplY3QgZnJvbSB3aGljaCB0byBnZXQgbW92ZW1lbnQgZGlyZWN0aW9uICovXG4gICAgICAgIGhlYWQyOiB7dHlwZTogVHlwZS5PYmplY3QsIGRlZmF1bHQ6IG51bGx9LFxuICAgICAgICAvKiogTW92ZW1lbnQgc3BlZWQsIGRlZmF1bHQgYDEuMGAgKi9cbiAgICAgICAgbW92ZVNwZWVkOiB7dHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMX0sXG4gICAgICAgIC8qKiBBbGxvdyBmbHlpbmcgKGlmIGZhbHNlLCB3aWxsIG5vdCBtb3ZlIG9uIHRoZSBZIGF4aXMpICovXG4gICAgICAgIGFsbG93Rmx5OiB7dHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZX0sXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIHJvdGF0ZSBzbW9vdGhseSBvciBzbmFwIGluIGBzbmFwRGVncmVlc2AgaW5jcmVtZW50cyAqL1xuICAgICAgICByb3RhdGlvblR5cGU6IHt0eXBlOiBUeXBlLkVudW0sIHZhbHVlczogWydzbmFwJywgJ3Ntb290aCddLCBkZWZhdWx0OiAnc25hcCd9LFxuICAgICAgICAvKiogSW5jcmVtZW1lbnRzIHRvIHNuYXAgdG8gd2hlbiBgcm90YXRpb25UeXBlYCBpcyBgXCJzbmFwXCJgLCBkZWZhdWx0IGA0NWAgKi9cbiAgICAgICAgc25hcERlZ3JlZXM6IHt0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogNDV9LFxuICAgIH07XG5cbiAgICBpbml0KCkge1xuICAgICAgICAvL1JvdGF0aW9uXG4gICAgICAgIHRoaXMuanVzdFNuYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zbmFwRGVhZHpvbmUgPSAwLjg7IC8vQ2Fubm90IHNuYXAgdHVybiBhZ2FpbiB1bmxlc3MgeW91IGdvIGJlbG93IHRoaXMgdGhyZXNob2xkXG5cbiAgICAgICAgLy9JbnRlcmFjdGluZ1xuICAgICAgICB0aGlzLmNvbGxpZGVyID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdjb2xsaXNpb24nKTtcbiAgICAgICAgdGhpcy5ncmFiQ29udHJvbHMgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2dyYWJiaW5nLWNvbnRyb2xzJyk7XG5cbiAgICAgICAgLy9Nb3ZlbWVudCBsaW1pdHMgZm9yIG5vd1xuICAgICAgICB0aGlzLm1pbiA9IC00O1xuICAgICAgICB0aGlzLm1heCA9IDQ7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIC8vU3RhcnRcbiAgICB9XG5cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLmVuZ2luZS54clNlc3Npb247XG4gICAgICAgIGlmICghcykgcmV0dXJuO1xuXG4gICAgICAgIC8vSGFuZGxlIGlucHV0XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5pbnB1dFNvdXJjZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IHMuaW5wdXRTb3VyY2VzW2ldO1xuICAgICAgICAgICAgaWYgKGlucHV0LmhhbmRlZG5lc3MgPT0gWydsZWZ0JywgJ3JpZ2h0J11bdGhpcy5oYW5kZWRuZXNzXSkge1xuICAgICAgICAgICAgICAgIGxldCBnYW1lcGFkID0gaW5wdXQuZ2FtZXBhZDtcbiAgICAgICAgICAgICAgICBpZiAoIWdhbWVwYWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgLy9HYXRoZXIgaW5wdXQgZnJvbSBjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgbGV0IHhBeGlzID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sU291cmNlID09ICd0aHVtYnN0aWNrJyA/IGdhbWVwYWQuYXhlc1swXSA6IGdhbWVwYWQuYXhlc1syXTtcbiAgICAgICAgICAgICAgICBsZXQgeUF4aXMgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xTb3VyY2UgPT0gJ3RodW1ic3RpY2snID8gZ2FtZXBhZC5heGVzWzFdIDogZ2FtZXBhZC5heGVzWzNdO1xuICAgICAgICAgICAgICAgIGxldCBncmlwcGVkID0gZ2FtZXBhZC5idXR0b25zWzFdLnByZXNzZWQ7XG5cbiAgICAgICAgICAgICAgICAvL0hhbmRsZSBtb3ZlbWVudCBhbmQgcm90YXRpb25cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250cm9sVHlwZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZSh4QXhpcywgeUF4aXMsIGR0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJvbFR5cGUgPT0gMSkgdGhpcy5yb3RhdGUoeEF4aXMsIGR0KTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ncmFiQ29udHJvbHMpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vSGFuZGxlIGJ1dHRvbiBwcmVzc2VzXG4gICAgICAgICAgICAgICAgaWYgKGdyaXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmFiQ29udHJvbHMuZ3JhYigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JhYkNvbnRyb2xzLmRyb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlKHhBeGlzLCB5QXhpcywgZHQpIHtcblxuICAgICAgICBsZXQgZGlyZWN0aW9uID0gW3hBeGlzLCAwLCB5QXhpc107XG5cbiAgICAgICAgdmVjMy5ub3JtYWxpemUoZGlyZWN0aW9uLCBkaXJlY3Rpb24pO1xuICAgICAgICB2ZWMzLnNjYWxlKGRpcmVjdGlvbiwgZGlyZWN0aW9uLCBkdCAqIHRoaXMubW92ZVNwZWVkKTtcbiAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KGRpcmVjdGlvbiwgZGlyZWN0aW9uLCB0aGlzLmhlYWQudHJhbnNmb3JtV29ybGQpO1xuICAgICAgICBpZiAoIXRoaXMuYWxsb3dGbHkpIGRpcmVjdGlvblsxXSA9IDA7XG4gICAgICAgIHRoaXMucGxheWVyLnRyYW5zbGF0ZShkaXJlY3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgLy9UT0RPOiBFaXRoZXIgaW1wbGVtZW50IGNvbGxpc2lvbiBvciBjbGFtcCB3b3JsZCB0cmFuc2xhdGlvblxuICAgIH1cblxuICAgIHJvdGF0ZSh4QXhpcywgZHQpIHtcbiAgICAgICAgaWYgKHRoaXMucm90YXRpb25UeXBlID09IDApIHtcbiAgICAgICAgICAgIC8vU25hcFxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHhBeGlzKSA9PSAxICYmICF0aGlzLmp1c3RTbmFwcGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RIZWFkUG9zID0gWzAsIDAsIDBdO1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZC50cmFuc2Zvcm1Xb3JsZDtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWQuZ2V0VHJhbnNsYXRpb25Xb3JsZChsYXN0SGVhZFBvcyk7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImxhc3RIZWFkUG9zOiBcIiArIGxhc3RIZWFkUG9zKTtcblxuICAgICAgICAgICAgICAgIC8vbGV0IGxhc3RIZWFkUG9zID0gdGhpcy5nZXRIZWFkUG9zKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yb3RhdGVBeGlzQW5nbGVEZWcoWzAsIDEsIDBdLCB0aGlzLnNuYXBEZWdyZWVzICogLXhBeGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmp1c3RTbmFwcGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuaGVhZDIudHJhbnNmb3JtV29ybGQ7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRIZWFkUG9zID0gWzAsIDAsIDBdO1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZC5nZXRUcmFuc2xhdGlvbldvcmxkKGN1cnJlbnRIZWFkUG9zKTtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiY3VycmVudEhlYWRQb3M6IFwiICArIGN1cnJlbnRIZWFkUG9zKTtcblxuICAgICAgICAgICAgICAgIC8vbGV0IGN1cnJlbnRIZWFkUG9zID0gdGhpcy5nZXRIZWFkUG9zKCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgbmV3UG9zID0gWzAsIDAsIDBdO1xuICAgICAgICAgICAgICAgIHZlYzMuc3ViKG5ld1BvcywgbGFzdEhlYWRQb3MsIGN1cnJlbnRIZWFkUG9zKTtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwibmV3UG9zOiBcIiArIG5ld1Bvcyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci50cmFuc2xhdGUobmV3UG9zKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoeEF4aXMpIDwgMC44KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qdXN0U25hcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucm90YXRpb25UeXBlID09IDEpIHtcbiAgICAgICAgICAgIC8vU21vb3RoXG4gICAgICAgICAgICAvL1RPRE86IFNtb290aFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0SGVhZFBvcygpIHtcbiAgICAgICAgbGV0IGxlZnQgPSBbMCwgMCwgMF07XG4gICAgICAgIHRoaXMuaGVhZC5nZXRUcmFuc2xhdGlvbldvcmxkKGxlZnQpO1xuICAgICAgICBsZXQgcmlnaHQgPSBbMCwgMCwgMF07XG4gICAgICAgIHRoaXMuaGVhZDIuZ2V0VHJhbnNsYXRpb25Xb3JsZChyaWdodCk7XG4gICAgICAgIGxldCBjZW50ZXIgPSBbMCwgMCwgMF07XG4gICAgICAgIHZlYzMuYWRkKGNlbnRlciwgbGVmdCwgcmlnaHQpO1xuICAgICAgICB2ZWMzLnNjYWxlKGNlbnRlciwgY2VudGVyLCAwLjUpO1xuICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgIH1cblxuICAgIGNsYW1wKGlucHV0LCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgPCBtaW4gPyBtaW4gOiBpbnB1dCA+IG1heCA/IG1heCA6IGlucHV0O1xuICAgIH1cblxuICAgIGdyYWIoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbnRlcmFjdGFibGUucGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbnZQYXJlbnQgPSBxdWF0Mi5jcmVhdGUoKTtcbiAgICAgICAgICAgIHF1YXQyLmludmVydChpbnZQYXJlbnQsIHRoaXMuY3VycmVudEludGVyYWN0YWJsZS5wYXJlbnQudHJhbnNmb3JtV29ybGQpO1xuXG4gICAgICAgICAgICAvLyBBcHBseSBpbnZlcnRlZCBwYXJlbnQgdG8gdGhpcyBvYmplY3RzIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICAgICAgcXVhdDIubXVsdGlwbHkoXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW50ZXJhY3RhYmxlLnRyYW5zZm9ybUxvY2FsLFxuICAgICAgICAgICAgICAgIGludlBhcmVudCxcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC50cmFuc2Zvcm1Xb3JsZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEludGVyYWN0YWJsZS50cmFuc2Zvcm1Mb2NhbC5zZXQodGhpcy5vYmplY3QudHJhbnNmb3JtV29ybGQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEludGVyYWN0YWJsZS5zZXREaXJ0eSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuIiwgImltcG9ydCAqIGFzIF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzIGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX2J1dHRvbl9oYW5kbGVyX2pzIGZyb20gJy9ob21lL2dhdXRpZXIvRG9jdW1lbnRzL1ZSIFByb2plY3RzL0ZhY3RvcnkvanMvYnV0dG9uLWhhbmRsZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX2J1dHRvbl9oYW5kbGVyX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX2J1dHRvbl9qcyBmcm9tICcvaG9tZS9nYXV0aWVyL0RvY3VtZW50cy9WUiBQcm9qZWN0cy9GYWN0b3J5L2pzL2J1dHRvbi5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX19ob21lX2dhdXRpZXJfRG9jdW1lbnRzX1ZSX1Byb2plY3RzX0ZhY3RvcnlfanNfYnV0dG9uX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX2dvYWxfcG9zZV9qcyBmcm9tICcvaG9tZS9nYXV0aWVyL0RvY3VtZW50cy9WUiBQcm9qZWN0cy9GYWN0b3J5L2pzL2dvYWwtcG9zZS5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX19ob21lX2dhdXRpZXJfRG9jdW1lbnRzX1ZSX1Byb2plY3RzX0ZhY3RvcnlfanNfZ29hbF9wb3NlX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX2dvYWxfcG9zZV9maW5nZXJfanMgZnJvbSAnL2hvbWUvZ2F1dGllci9Eb2N1bWVudHMvVlIgUHJvamVjdHMvRmFjdG9yeS9qcy9nb2FsX3Bvc2VfZmluZ2VyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfX2hvbWVfZ2F1dGllcl9Eb2N1bWVudHNfVlJfUHJvamVjdHNfRmFjdG9yeV9qc19nb2FsX3Bvc2VfZmluZ2VyX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX21lbnVfYnJpbmd1cF9qcyBmcm9tICcvaG9tZS9nYXV0aWVyL0RvY3VtZW50cy9WUiBQcm9qZWN0cy9GYWN0b3J5L2pzL21lbnUtYnJpbmd1cC5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX19ob21lX2dhdXRpZXJfRG9jdW1lbnRzX1ZSX1Byb2plY3RzX0ZhY3RvcnlfanNfbWVudV9icmluZ3VwX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3JvYm9jYW1fZ3JhYmJlcl9qcyBmcm9tICcvaG9tZS9nYXV0aWVyL0RvY3VtZW50cy9WUiBQcm9qZWN0cy9GYWN0b3J5L2pzL3JvYm9jYW0tZ3JhYmJlci5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX19ob21lX2dhdXRpZXJfRG9jdW1lbnRzX1ZSX1Byb2plY3RzX0ZhY3RvcnlfanNfcm9ib2NhbV9ncmFiYmVyX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3JvYm90X2NvbXBvbmVudF9qcyBmcm9tICcvaG9tZS9nYXV0aWVyL0RvY3VtZW50cy9WUiBQcm9qZWN0cy9GYWN0b3J5L2pzL3JvYm90LWNvbXBvbmVudC5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX19ob21lX2dhdXRpZXJfRG9jdW1lbnRzX1ZSX1Byb2plY3RzX0ZhY3RvcnlfanNfcm9ib3RfY29tcG9uZW50X2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3JvYm90X3RlbGVvcF9qcyBmcm9tICcvaG9tZS9nYXV0aWVyL0RvY3VtZW50cy9WUiBQcm9qZWN0cy9GYWN0b3J5L2pzL3JvYm90LXRlbGVvcC5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX19ob21lX2dhdXRpZXJfRG9jdW1lbnRzX1ZSX1Byb2plY3RzX0ZhY3RvcnlfanNfcm9ib3RfdGVsZW9wX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3NjcmVlbjJfanMgZnJvbSAnL2hvbWUvZ2F1dGllci9Eb2N1bWVudHMvVlIgUHJvamVjdHMvRmFjdG9yeS9qcy9zY3JlZW4yLmpzJztcbl9yZWdpc3RlckVkaXRvcihfX2hvbWVfZ2F1dGllcl9Eb2N1bWVudHNfVlJfUHJvamVjdHNfRmFjdG9yeV9qc19zY3JlZW4yX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3NlbnNvcl9zY3JlZW5fanMgZnJvbSAnL2hvbWUvZ2F1dGllci9Eb2N1bWVudHMvVlIgUHJvamVjdHMvRmFjdG9yeS9qcy9zZW5zb3Itc2NyZWVuLmpzJztcbl9yZWdpc3RlckVkaXRvcihfX2hvbWVfZ2F1dGllcl9Eb2N1bWVudHNfVlJfUHJvamVjdHNfRmFjdG9yeV9qc19zZW5zb3Jfc2NyZWVuX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3Ntb290aF9sb2NvbW90aW9uX2pzIGZyb20gJy9ob21lL2dhdXRpZXIvRG9jdW1lbnRzL1ZSIFByb2plY3RzL0ZhY3RvcnkvanMvc21vb3RoLWxvY29tb3Rpb24uanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3Ntb290aF9sb2NvbW90aW9uX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3NuYXBfdHVybl9qcyBmcm9tICcvaG9tZS9nYXV0aWVyL0RvY3VtZW50cy9WUiBQcm9qZWN0cy9GYWN0b3J5L2pzL3NuYXAtdHVybi5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX19ob21lX2dhdXRpZXJfRG9jdW1lbnRzX1ZSX1Byb2plY3RzX0ZhY3RvcnlfanNfc25hcF90dXJuX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3N3aXRjaF9oYW5kbGVyX2pzIGZyb20gJy9ob21lL2dhdXRpZXIvRG9jdW1lbnRzL1ZSIFByb2plY3RzL0ZhY3RvcnkvanMvc3dpdGNoLWhhbmRsZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3N3aXRjaF9oYW5kbGVyX2pzKTtcbmltcG9ydCAqIGFzIF9faG9tZV9nYXV0aWVyX0RvY3VtZW50c19WUl9Qcm9qZWN0c19GYWN0b3J5X2pzX3N3aXRjaF9qcyBmcm9tICcvaG9tZS9nYXV0aWVyL0RvY3VtZW50cy9WUiBQcm9qZWN0cy9GYWN0b3J5L2pzL3N3aXRjaC5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX19ob21lX2dhdXRpZXJfRG9jdW1lbnRzX1ZSX1Byb2plY3RzX0ZhY3RvcnlfanNfc3dpdGNoX2pzKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFVQSxPQUFDLFdBQVc7QUFFVjtBQVNBLFlBQUlBLGdC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QUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxLQUFLLEtBQUssR0FBRztBQUMzQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxXQUFPO0FBQUEsRUFDVDtBQXVCTyxXQUFTLFdBQVcsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUN6RyxRQUFJLE1BQU0sSUFBYSxXQUFXLEVBQUU7QUFDcEMsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQXdCTyxXQUFTLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ3ZHLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFRTyxXQUFTLFNBQVMsS0FBSztBQUM1QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxVQUFVLEtBQUssR0FBRztBQUVoQyxRQUFJLFFBQVEsR0FBRztBQUNiLFVBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsVUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsVUFBSSxNQUFNLEVBQUUsRUFBRTtBQUNkLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2IsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTtBQUFBLElBQ1osT0FBTztBQUNMLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUNiLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUNiLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQ2hCO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLE9BQU8sS0FBSyxHQUFHO0FBQzdCLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUU1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBRTVFLFFBQUksQ0FBQyxLQUFLO0FBQ1IsYUFBTztBQUFBLElBQ1Q7QUFFQSxVQUFNLElBQU07QUFDWixRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsUUFBUSxLQUFLLEdBQUc7QUFDOUIsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxFQUFFLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3JHLFFBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3JHLFFBQUksRUFBRSxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNyRyxRQUFJLEVBQUUsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbkcsV0FBTztBQUFBLEVBQ1Q7QUFRTyxXQUFTLFlBQVksR0FBRztBQUM3QixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFNUIsV0FBTyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFBQSxFQUMzRTtBQVVPLFdBQVMsU0FBUyxLQUFLLEdBQUcsR0FBRztBQUNsQyxRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBRWQsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0FBQ1QsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0FBQ1QsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLFVBQVUsS0FBSyxHQUFHLEdBQUc7QUFDbkMsUUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUM7QUFDWCxRQUFJLEtBQUssS0FBSyxLQUFLO0FBQ25CLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFDbkIsUUFBSSxLQUFLLEtBQUssS0FBSztBQUVuQixRQUFJLE1BQU0sS0FBSztBQUNiLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRTtBQUMvQyxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDL0MsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFO0FBQ2hELFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQ2xELE9BQU87QUFDTCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxFQUFFO0FBQ1YsWUFBTSxFQUFFLEVBQUU7QUFDVixVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFDNUMsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQzVDLFVBQUksRUFBRSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUM1QyxVQUFJLEVBQUUsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFBQSxJQUM5QztBQUVBLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxNQUFNLEtBQUssR0FBRyxHQUFHO0FBQy9CLFFBQUksSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDO0FBQ1gsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTLE9BQU8sS0FBSyxHQUFHLEtBQUssTUFBTTtBQUN4QyxRQUFJLElBQUksS0FBSyxDQUFDLEdBQ1YsSUFBSSxLQUFLLENBQUMsR0FDVixJQUFJLEtBQUssQ0FBQztBQUNkLFFBQUlDLE9BQU0sS0FBSyxNQUFNLEdBQUcsR0FBRyxDQUFDO0FBQzVCLFFBQUksR0FBRyxHQUFHO0FBQ1YsUUFBSSxLQUFLLEtBQUssS0FBSztBQUNuQixRQUFJLEtBQUssS0FBSyxLQUFLO0FBQ25CLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFDbkIsUUFBSSxLQUFLLEtBQUs7QUFDZCxRQUFJLEtBQUssS0FBSztBQUNkLFFBQUksS0FBSyxLQUFLO0FBRWQsUUFBSUEsT0FBZSxTQUFTO0FBQzFCLGFBQU87QUFBQSxJQUNUO0FBRUEsSUFBQUEsT0FBTSxJQUFJQTtBQUNWLFNBQUtBO0FBQ0wsU0FBS0E7QUFDTCxTQUFLQTtBQUNMLFFBQUksS0FBSyxJQUFJLEdBQUc7QUFDaEIsUUFBSSxLQUFLLElBQUksR0FBRztBQUNoQixRQUFJLElBQUk7QUFDUixVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxFQUFFO0FBQ1YsVUFBTSxFQUFFLEVBQUU7QUFFVixVQUFNLElBQUksSUFBSSxJQUFJO0FBQ2xCLFVBQU0sSUFBSSxJQUFJLElBQUksSUFBSTtBQUN0QixVQUFNLElBQUksSUFBSSxJQUFJLElBQUk7QUFDdEIsVUFBTSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3RCLFVBQU0sSUFBSSxJQUFJLElBQUk7QUFDbEIsVUFBTSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3RCLFVBQU0sSUFBSSxJQUFJLElBQUksSUFBSTtBQUN0QixVQUFNLElBQUksSUFBSSxJQUFJLElBQUk7QUFDdEIsVUFBTSxJQUFJLElBQUksSUFBSTtBQUVsQixRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFN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dEIsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBYU8sV0FBUyxjQUFjLEtBQUssS0FBSztBQUN0QyxRQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFDcEIsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBRXBCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLENBQUM7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQWFPLFdBQVMsY0FBYyxLQUFLLEtBQUs7QUFDdEMsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBQ3BCLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUVwQixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksQ0FBQztBQUNWLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJ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SSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLFNBQVMsS0FBSyxHQUFHLEdBQUc7QUFDbEMsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxlQUFlLEtBQUssR0FBRyxHQUFHO0FBQ3hDLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBUyxxQkFBcUIsS0FBSyxHQUFHLEdBQUdDLFFBQU87QUFDckQsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxZQUFZLEdBQUcsR0FBRztBQUNoQyxXQUFPLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRTtBQUFBLEVBQ2hTO0FBU08sV0FBUyxPQUFPLEdBQUcsR0FBRztBQUMzQixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFdBQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLE1BQU0sR0FBRyxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEdBQUcsR0FBRyxLQUFLLElBQUksR0FBRyxDQUFDLEtBQUssS0FBSyxJQUFJLE1BQU0sR0FBRyxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEdBQUcsR0FBRyxLQUFLLElBQUksR0FBRyxDQUFDLEtBQUssS0FBSyxJQUFJLE1BQU0sR0FBRyxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJ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S0FBSyxJQUFJLEdBQUcsR0FDakIsS0FBSyxLQUFLLElBQUksR0FBRztBQUNyQixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVNDLFNBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsV0FBTztBQUNQLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssS0FBSyxJQUFJLEdBQUcsR0FDakIsS0FBSyxLQUFLLElBQUksR0FBRztBQUNyQixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVNDLFNBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsV0FBTztBQUNQLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssS0FBSyxJQUFJLEdBQUcsR0FDakIsS0FBSyxLQUFLLElBQUksR0FBRztBQUNyQixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSztBQUN4QixXQUFPO0FBQUEsRUFD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LEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLG9CQUFvQixLQUFLLEdBQUcsR0FBRztBQUM3QyxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtB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QUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVNDLFVBQVMsS0FBSyxHQUFHLEdBQUc7QUFDbEMsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDbkQsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRCxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25ELFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDbkQsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDbkcsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDbkcsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1B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RUFBRSxDQUFDLElBQUk7QUFBQSxFQUM3SDtBQVNPLFdBQVNDLGFBQVksR0FBRyxHQUFHO0FBQ2hDLFdBQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQUEsRUFDNUk7QUFTTyxXQUFTQyxRQUFPLEdBQUcsR0FBRztBQUMzQixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixXQUFPLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFL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QWMsVUFBVTtBQUFBLE1BQ2pDLFNBQVM7QUFBQSxJQUNiO0FBQUE7QUFBQSxJQUVBLFFBQVEsRUFBQyxNQUFNLEtBQUssUUFBUSxTQUFTLEtBQUk7QUFBQTtBQUFBLElBRXpDLE1BQU0sRUFBQyxNQUFNLEtBQUssUUFBUSxTQUFTLEtBQUk7QUFBQTtBQUFBLElBRXZDLE9BQU8sRUFBQyxNQUFNLEtBQUssUUFBUSxTQUFTLEtBQUk7QUFBQTtBQUFBLElBRXhDLFdBQVcsRUFBQyxNQUFNLEtBQUssT0FBTyxTQUFTLEVBQUM7QUFBQTtBQUFBLElBRXhDLFVBQVUsRUFBQyxNQUFNLEtBQUssTUFBTSxTQUFTLE1BQUs7QUFBQTtBQUFBLElBRTFDLGNBQWMsRUFBQyxNQUFNLEtBQUssTUFBTSxRQUFRLENBQUMsUUFBUSxRQUFRLEdBQUcsU0FBUyxPQUFNO0FBQUE7QUFBQSxJQUUzRSxhQUFhLEVBQUMsTUFBTSxLQUFLLEtBQUssU0FBUyxHQUFFO0FBQUEsRUFDN0M7OztBQ25ESixrQkFBZ0IsWUFBNkI7QUFFN0Msa0JBQWdCLHNCQUFpRTtBQUVqRixrQkFBZ0IsY0FBeUQ7QUFFekUsa0JBQWdCLGlCQUE0RDtBQUU1RSxrQkFBZ0Isd0JBQW1FO0FBRW5GLGtCQUFnQixvQkFBK0Q7QUFFL0Usa0JBQWdCLHVCQUFrRTtBQUVsRixrQkFBZ0IsdUJBQWtFO0FBRWxGLGtCQUFnQixvQkFBK0Q7QUFFL0Usa0JBQWdCLGVBQTBEO0FBRTFFLGtCQUFnQixxQkFBZ0U7QUFFaEYsa0JBQWdCLHlCQUFvRTtBQUVwRixrQkFBZ0IsaUJBQTREO0FBRTVFLGtCQUFnQixzQkFBaUU7QUFFakYsa0JBQWdCLGNBQXlEOyIsCiAgIm5hbWVzIjogWyJIb3dsZXJHbG9iYWwiLCAic2VsZiIsICJIb3dsZXIiLCAiZSIsICJpIiwgIkhvd2wiLCAic3RyIiwgIlNvdW5kIiwgInRpbWVvdXQiLCAibGVuIiwgImVhcmN1dCIsICJlcXVhbHMiLCAibGVuIiwgIlR5cGUiLCAiQ29sbGlkZXIiLCAiQWxpZ25tZW50IiwgIkp1c3RpZmljYXRpb24iLCAiVGV4dEVmZmVjdCIsICJJbnB1dFR5cGUiLCAiTGlnaHRUeXBlIiwgIkFuaW1hdGlvblN0YXRlIiwgIkZvcmNlTW9kZSIsICJDb2xsaXNpb25FdmVudFR5cGUiLCAiU2hhcGUiLCAiTWVzaEF0dHJpYnV0ZSIsICJNYXRlcmlhbFBhcmFtVHlwZSIsICJsZW5ndGgiLCAiYW5nbGUiLCAiTG9ja0F4aXMiLCAiTWVzaEluZGV4VHlwZSIsICJNZXNoU2tpbm5pbmdUeXBlIiwgImNhbnZhcyIsICJhbmltSWQiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wUXVhdCIsICJjcmVhdGUiLCAiY3JlYXRlIiwgImxlbiIsICJzY2FsZSIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZG90IiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmcm9tVmFsdWVzIiwgImlkZW50aXR5IiwgImludmVydCIsICJsZW4iLCAibGVuZ3RoIiwgImxlcnAiLCAibXVsIiwgIm11bHRpcGx5IiwgIm5vcm1hbGl6ZSIsICJyYW5kb20iLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAic2V0IiwgInNxckxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInN0ciIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZXF1YWxzIiwgImV4YWN0RXF1YWxzIiwgImZyb21WYWx1ZXMiLCAibXVsIiwgIm11bHRpcGx5IiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInNjYWxlIiwgInNldCIsICJzdHIiLCAic3ViIiwgInN1YnRyYWN0IiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJzdWJ0cmFjdCIsICJtdWx0aXBseSIsICJzY2FsZSIsICJsZW4iLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic3RyIiwgImV4YWN0RXF1YWxzIiwgImVxdWFscyIsICJzdWIiLCAibXVsIiwgIm9mZnNldCIsICJjcmVhdGUiLCAiY2xvbmUiLCAiZnJvbVZhbHVlcyIsICJjb3B5IiwgInNldCIsICJhZGQiLCAic2NhbGUiLCAibGVuZ3RoIiwgInNxdWFyZWRMZW5ndGgiLCAibm9ybWFsaXplIiwgImxlbiIsICJkb3QiLCAibGVycCIsICJleGFjdEVxdWFscyIsICJlcXVhbHMiLCAiZm9yRWFjaCIsICJjcmVhdGUiLCAib2Zmc2V0IiwgImNyZWF0ZSIsICJpZGVudGl0eSIsICJkb3QiLCAibXVsdGlwbHkiLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAicmFuZG9tIiwgImludmVydCIsICJzdHIiLCAiY2xvbmUiLCAiZnJvbVZhbHVlcyIsICJjb3B5IiwgInNldCIsICJhZGQiLCAibXVsIiwgImxlcnAiLCAibGVuZ3RoIiwgImxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInNxckxlbiIsICJub3JtYWxpemUiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgImFkZCIsICJjbG9uZSIsICJjb25qdWdhdGUiLCAiY29weSIsICJjcmVhdGUiLCAiZG90IiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmcm9tUm90YXRpb24iLCAiZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24iLCAiZnJvbVRyYW5zbGF0aW9uIiwgImZyb21WYWx1ZXMiLCAiZ2V0VHJhbnNsYXRpb24iLCAiaWRlbnRpdHkiLCAiaW52ZXJ0IiwgImxlbiIsICJsZW5ndGgiLCAibGVycCIsICJtdWwiLCAibXVsdGlwbHkiLCAibm9ybWFsaXplIiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInNjYWxlIiwgInNldCIsICJzcXJMZW4iLCAic3F1YXJlZExlbmd0aCIsICJzdHIiLCAidHJhbnNsYXRlIiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImZyb21Sb3RhdGlvblRyYW5zbGF0aW9uIiwgImZyb21UcmFuc2xhdGlvbiIsICJmcm9tUm90YXRpb24iLCAiY29weSIsICJpZGVudGl0eSIsICJzZXQiLCAiZ2V0VHJhbnNsYXRpb24iLCAidHJhbnNsYXRlIiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgImFkZCIsICJtdWx0aXBseSIsICJtdWwiLCAic2NhbGUiLCAiZG90IiwgImxlcnAiLCAiaW52ZXJ0IiwgInNxdWFyZWRMZW5ndGgiLCAiY29uanVnYXRlIiwgImxlbmd0aCIsICJsZW4iLCAic3FyTGVuIiwgIm5vcm1hbGl6ZSIsICJzdHIiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgIl9fZGVjb3JhdGUiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wVmVjIiwgImNhbnZhcyIsICJkaXN0IiwgIl9fZGVjb3JhdGUiLCAiZGlzdGFuY2UiLCAiaW1wb3J0X2hvd2xlciIsICJjYW52YXMiLCAiX19kZWNvcmF0ZSIsICJhIiwgImRpcmVjdGlvbiIsICJ0ZW1wUXVhdCIsICJ0YXJnZXRQb3MiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wVmVjMyIsICJlYXJjdXQiLCAibG9va0F0IiwgIm9mZnNldCIsICJkaXN0IiwgImRvdCIsICJTd2l0Y2hIYW5kbGVyIiwgImRpcmVjdGlvbiIsICJTd2l0Y2hIYW5kbGVyIiwgIlN3aXRjaEhhbmRsZXIiLCAiZGlyZWN0aW9uIiwgImhhcHRpY0ZlZWRiYWNrIiwgImhhcHRpY0ZlZWRiYWNrIiwgIlN3aXRjaEhhbmRsZXIiLCAiZGlyZWN0aW9uIiwgIm1pbiIsICJtYXgiXQp9Cg==
